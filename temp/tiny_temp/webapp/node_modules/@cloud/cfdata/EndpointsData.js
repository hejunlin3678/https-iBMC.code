"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __spreadArrays = (this && this.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.EndpointsData = void 0;
var UserData_1 = require("./UserData");
var CfEndpoints_1 = require("./interface/CfEndpoints");
var EndpointService_1 = require("./service/EndpointService");
var ConfigData_1 = require("./ConfigData");
var AccountData_1 = require("./AccountData");
var EndpointsData = /** @class */ (function () {
    function EndpointsData() {
    }
    /**
     * Gets cf Endpoint
     * @returns cf Endpoint
     */
    EndpointsData.getCfEndpoints = function (projectName, isReFresh) {
        return __awaiter(this, void 0, void 0, function () {
            var regionName, cfUser;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(!EndpointsData.cfEndpoints || isReFresh)) return [3 /*break*/, 4];
                        regionName = projectName;
                        if (!!regionName) return [3 /*break*/, 2];
                        return [4 /*yield*/, UserData_1.UserData.getCfUser()];
                    case 1:
                        cfUser = _a.sent();
                        regionName = cfUser.projectName;
                        _a.label = 2;
                    case 2:
                        EndpointsData.cfEndpoints = new CfEndpoints_1.CfEndpoints();
                        // 设置用户数据并初始化
                        return [4 /*yield*/, EndpointsData.initEndpoints(regionName, isReFresh)];
                    case 3:
                        // 设置用户数据并初始化
                        _a.sent();
                        _a.label = 4;
                    case 4: return [2 /*return*/, EndpointsData.cfEndpoints];
                }
            });
        });
    };
    EndpointsData.getCfEndpointsSync = function () {
        return EndpointsData.cfEndpoints;
    };
    EndpointsData.initEndpoints = function (projectName, isRefresh) {
        if (isRefresh === void 0) { isRefresh = false; }
        return __awaiter(this, void 0, void 0, function () {
            var data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // 判断有无cf2Endpoints的全局变量，没有则调用/rest/silvan/rest/v1.0/endpoints的接口
                        if (!EndpointsData.EndpointsPromise || isRefresh) {
                            EndpointsData.EndpointsPromise = EndpointService_1.EndpointService.queryEndpoints({
                                region: projectName,
                                include: true,
                            });
                        }
                        return [4 /*yield*/, EndpointsData.EndpointsPromise];
                    case 1:
                        data = _a.sent();
                        if (!ConfigData_1.ConfigData.getUiSwitchConfig().partnerCloudMaskingService) return [3 /*break*/, 3];
                        return [4 /*yield*/, EndpointsData.dealFederatedEndpoints(data)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        EndpointsData.initDealEndpoints(data);
                        return [2 /*return*/, EndpointsData.cfEndpoints];
                }
            });
        });
    };
    EndpointsData.dealFederatedEndpoints = function (data) {
        return __awaiter(this, void 0, void 0, function () {
            var cfAcount, maskingServicesList_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, AccountData_1.AccountData.getFederatedUserInfo()];
                    case 1:
                        cfAcount = _a.sent();
                        if (cfAcount.cfIsFederatedUsers === true) {
                            maskingServicesList_1 = ['mls', 'dcs', 'dws', 'dps'];
                            if (maskingServicesList_1 && maskingServicesList_1.length > 0 && data && data.endpoints) {
                                data.endpoints = data.endpoints.filter(function (service) {
                                    return maskingServicesList_1.indexOf(service.id) < 0;
                                });
                            }
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    EndpointsData.initDealEndpoints = function (data) {
        this.dealAllEndpoints(data);
        this.beautifierEndpoints();
    };
    EndpointsData.dealAllEndpoints = function (data) {
        if (!data || !data.endpoints) {
            return;
        }
        var endpoints = data.endpoints;
        var tmpEndpoints = [];
        var allEndpoints = [];
        var endpoint;
        var endpointScope = {};
        var newNumber = 0;
        var nowTime = new Date().getTime();
        var minNum;
        var minIndex;
        for (var item = 0; item < endpoints.length; item++) {
            endpoint = endpoints[item];
            // 7776000000 = 90 * 24 * 60 * 60 * 1000为90天的时间戳
            if (endpoint.onlineTime) {
                endpoint.onlineTime = endpoint.onlineTime.replace(/-/g, '/');
                var endpointOnlineTime = new Date(endpoint.onlineTime).getTime();
                var newOutTime = endpointOnlineTime + 7776000000;
                if (endpointOnlineTime < nowTime && newOutTime > nowTime) {
                    newNumber++;
                    endpoint.showNew = true;
                    minNum = new Date(endpoint.onlineTime).getTime();
                    minIndex = item;
                    if (newNumber > /* parseInt( */ endpoints.length * 0.2 /* , 10) */) {
                        for (var m = 0; m < endpoints.length; m++) {
                            if (endpoints[m].showNew && endpointOnlineTime < minNum) {
                                minNum = new Date(endpoints[m].onlineTime).getTime();
                                minIndex = m;
                            }
                        }
                        endpoints[minIndex].showNew = false;
                    }
                }
            }
            if (endpoint.id === window.global_endpoint_id) {
                // TODO：是谁在操作window.global_endpoint_id？
                EndpointsData.cfEndpoints.endpointName = endpoint.name;
            }
            if (endpoint.id === 'home') {
                EndpointsData.cfEndpoints.homeEndpoint = endpoint;
            }
            else {
                tmpEndpoints.push(endpoint);
            }
            allEndpoints.push(endpoint);
            endpointScope[endpoint.id] = endpoint.endpointScope;
        }
        EndpointsData.cfEndpoints.serviceEndpointList = tmpEndpoints;
        EndpointsData.cfEndpoints.endpointScopeMap = endpointScope;
        EndpointsData.cfEndpoints.allServiceEndpointList = allEndpoints;
    };
    /* eslint-disable consistent-return */
    EndpointsData.beautifierEndpoints = function ( /* flag */) {
        var endpoints = EndpointsData.cfEndpoints.serviceEndpointList;
        if (!endpoints) {
            return;
        }
        var catalogs = {};
        var endpoint;
        var catalog;
        for (var item = 0; item < endpoints.length; item++) {
            // 根据类别分类
            endpoint = endpoints[item];
            catalog = endpoint.catalog.trim();
            catalogs[catalog] = catalogs[catalog] || [];
            catalogs[catalog].push(endpoint);
        }
        var result = [];
        var index;
        for (index in catalogs) {
            if ({}.hasOwnProperty.call(catalogs, index)) {
                result.push({
                    catalog: index,
                    endpoints: catalogs[index],
                });
            }
        }
        EndpointsData.cfEndpoints.ServcieListForBanner = EndpointsData.copy(result);
        EndpointsData.cfEndpoints.ServcieListForBanner.unshift({
            // catalog: (window as any).i18n.console_term_serviceList_allService, // TODO:这里怎么做？？
            catalog: '',
            endpoints: EndpointsData.copy(result),
        });
        EndpointsData.cfEndpoints.serviceEndpoints = result;
        EndpointsData.cfEndpoints.serviceEndpointsFlag = true;
        EndpointsData.cfEndpoints.endpointInitFlag = true;
    };
    /**
     * 针对数组装简单对象，仅两层深copy
     * Arrays copy
     * @param arr
     * @returns copy
     */
    EndpointsData.copy = function (arr) {
        var res = __spreadArrays(arr);
        res.forEach(function (x) { return (x = __assign({}, x)); });
        return res;
    };
    return EndpointsData;
}());
exports.EndpointsData = EndpointsData;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW5kcG9pbnRzRGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9FbmRwb2ludHNEYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVDQUFzQztBQUV0Qyx1REFBc0Q7QUFDdEQsNkRBQTREO0FBQzVELDJDQUEwQztBQUMxQyw2Q0FBNEM7QUFHNUM7SUFBQTtJQTJLQSxDQUFDO0lBdEtHOzs7T0FHRztJQUNpQiw0QkFBYyxHQUFsQyxVQUFtQyxXQUFvQixFQUFFLFNBQW1COzs7Ozs7NkJBQ3BFLENBQUEsQ0FBQyxhQUFhLENBQUMsV0FBVyxJQUFJLFNBQVMsQ0FBQSxFQUF2Qyx3QkFBdUM7d0JBRW5DLFVBQVUsR0FBRyxXQUFXLENBQUM7NkJBRXpCLENBQUMsVUFBVSxFQUFYLHdCQUFXO3dCQUNZLHFCQUFNLG1CQUFRLENBQUMsU0FBUyxFQUFFLEVBQUE7O3dCQUEzQyxNQUFNLEdBQVcsU0FBMEI7d0JBQ2pELFVBQVUsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDOzs7d0JBRXBDLGFBQWEsQ0FBQyxXQUFXLEdBQUcsSUFBSSx5QkFBVyxFQUFFLENBQUM7d0JBQzlDLGFBQWE7d0JBQ2IscUJBQU0sYUFBYSxDQUFDLGFBQWEsQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLEVBQUE7O3dCQUR4RCxhQUFhO3dCQUNiLFNBQXdELENBQUM7OzRCQUc3RCxzQkFBTyxhQUFhLENBQUMsV0FBVyxFQUFDOzs7O0tBQ3BDO0lBRWEsZ0NBQWtCLEdBQWhDO1FBQ0ksT0FBTyxhQUFhLENBQUMsV0FBVyxDQUFDO0lBQ3JDLENBQUM7SUFFb0IsMkJBQWEsR0FBbEMsVUFBbUMsV0FBbUIsRUFBRSxTQUFpQjtRQUFqQiwwQkFBQSxFQUFBLGlCQUFpQjs7Ozs7O3dCQUNyRSxpRUFBaUU7d0JBQ2pFLElBQUksQ0FBQyxhQUFhLENBQUMsZ0JBQWdC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