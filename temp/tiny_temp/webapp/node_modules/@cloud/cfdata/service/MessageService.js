"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageService = void 0;
var HttpService_1 = require("./HttpService");
var ApiService_1 = require("./ApiService");
var FrameData_1 = require("../FrameData");
var MessageService = /** @class */ (function (_super) {
    __extends(MessageService, _super);
    function MessageService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    MessageService.getMessages = function (options) {
        options = options || {};
        var promise = HttpService_1.HttpService.get({
            url: FrameData_1.FrameData.getAppWebPath() + '/rest/silvan/rest/v1.0/messages',
            timeout: 60000,
            params: {
                start: options.start || 0,
                limit: options.limit || 0,
            },
        });
        return promise;
    };
    MessageService.getMessagesTypes = function () {
        var promise = HttpService_1.HttpService.get({
            url: FrameData_1.FrameData.getAppWebPath() + '/rest/silvan/rest/v1.0/messageTypes',
            timeout: 60000,
        });
        return promise;
    };
    MessageService.messageStatus = function (options) {
        return HttpService_1.HttpService.put({
            url: {
                s: FrameData_1.FrameData.getAppWebPath() + '/rest/mc/v1/{domain_id}/messages/status',
                o: {
                    domain_id: options.domainId,
                },
            },
            timeout: 10000,
            params: {
                message_ids: options.messageIds,
                category_id: options.categoryId,
            },
            targetUrl: 'mc=/mc/v1/' + options.domainId + '/messages/status',
        });
    };
    MessageService.queryMcUnreadCount = function (domainId) {
        return HttpService_1.HttpService.get({
            url: {
                s: FrameData_1.FrameData.getAppWebPath() + '/rest/mc/v1/{domain_id}/messages/envelope/unread',
                o: {
                    domain_id: domainId,
                },
            },
            timeout: 10000,
            targetUrl: 'mc=/mc/v1/' + domainId + '/messages/envelope/unread',
        });
    };
    MessageService.queryMcMessages = function (domainId, params) {
        return HttpService_1.HttpService.get({
            url: {
                s: FrameData_1.FrameData.getAppWebPath() + '/rest/mc/v1/{domain_id}/messages',
                o: {
                    domain_id: domainId,
                },
            },
            params: params,
            timeout: 10000,
            targetUrl: 'mc=/mc/v1/' + domainId + '/messages',
        });
    };
    return MessageService;
}(ApiService_1.ApiService));
exports.MessageService = MessageService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVzc2FnZVNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2VydmljZS9NZXNzYWdlU2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkNBQTRDO0FBQzVDLDJDQUEwQztBQUMxQywwQ0FBeUM7QUFFekM7SUFBb0Msa0NBQVU7SUFBOUM7O0lBZ0VBLENBQUM7SUEvRGlCLDBCQUFXLEdBQXpCLFVBQTBCLE9BQU87UUFDN0IsT0FBTyxHQUFHLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFDeEIsSUFBSSxPQUFPLEdBQUcseUJBQVcsQ0FBQyxHQUFHLENBQUM7WUFDMUIsR0FBRyxFQUFFLHFCQUFTLENBQUMsYUFBYSxFQUFFLEdBQUcsaUNBQWlDO1lBQ2xFLE9BQU8sRUFBRSxLQUFLO1lBQ2QsTUFBTSxFQUFFO2dCQUNKLEtBQUssRUFBRSxPQUFPLENBQUMsS0FBSyxJQUFJLENBQUM7Z0JBQ3pCLEtBQUssRUFBRSxPQUFPLENBQUMsS0FBSyxJQUFJLENBQUM7YUFDNUI7U0FFSixDQUFDLENBQUM7UUFDSCxPQUFPLE9BQU8sQ0FBQztJQUNuQixDQUFDO0lBRWEsK0JBQWdCLEdBQTlCO1FBQ0ksSUFBSSxPQUFPLEdBQUcseUJBQVcsQ0FBQyxHQUFHLENBQUM7WUFDMUIsR0FBRyxFQUFFLHFCQUFTLENBQUMsYUFBYSxFQUFFLEdBQUcscUNBQXFDO1lBQ3RFLE9BQU8sRUFBRSxLQUFLO1NBRWpCLENBQUMsQ0FBQztRQUNILE9BQU8sT0FBTyxDQUFDO0lBQ25CLENBQUM7SUFDYSw0QkFBYSxHQUEzQixVQUE0QixPQUFPO1FBQy9CLE9BQU8seUJBQVcsQ0FBQyxHQUFHLENBQUM7WUFDbkIsR0FBRyxFQUFFO2dCQUNELENBQUMsRUFBRSxxQkFBUyxDQUFDLGFBQWEsRUFBRSxHQUFHLHlDQUF5QztnQkFDeEUsQ0FBQyxFQUFFO29CQUNDLFNBQVMsRUFBRSxPQUFPLENBQUMsUUFBUTtpQkFDOUI7YUFDSjtZQUNELE9BQU8sRUFBRSxLQUFLO1lBQ2QsTUFBTSxFQUFFO2dCQUNKLFdBQVcsRUFBRSxPQUFPLENBQUMsVUFBVTtnQkFDL0IsV0FBVyxFQUFFLE9BQU8sQ0FBQyxVQUFVO2FBQ2xDO1lBQ0QsU0FBUyxFQUFFLFlBQVksR0FBRyxPQUFPLENBQUMsUUFBUSxHQUFHLGtCQUFrQjtTQUNsRSxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ2EsaUNBQWtCLEdBQWhDLFVBQWlDLFFBQVE7UUFDckMsT0FBTyx5QkFBVyxDQUFDLEdBQUcsQ0FBQztZQUNuQixHQUFHLEVBQUU7Z0JBQ0QsQ0FBQyxFQUFFLHFCQUFTLENBQUMsYUFBYSxFQUFFLEdBQUcsa0RBQWtEO2dCQUNqRixDQUFDLEVBQUU7b0JBQ0MsU0FBUyxFQUFFLFFBQVE7aUJBQ3RCO2FBQ0o7WUFDRCxPQUFPLEVBQUUsS0FBSztZQUNkLFNBQVMsRUFBRSxZQUFZLEdBQUcsUUFBUSxHQUFHLDJCQUEyQjtTQUNuRSxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ2EsOEJBQWUsR0FBN0IsVUFBOEIsUUFBUSxFQUFFLE1BQU07UUFDMUMsT0FBTyx5QkFBVyxDQUFDLEdBQUcsQ0FBQztZQUNuQixHQUFHLEVBQUU7Z0JBQ0QsQ0FBQyxFQUFFLHFCQUFTLENBQUMsYUFBYSxFQUFFLEdBQUcsa0NBQWtDO2dCQUNqRSxDQUFDLEVBQUU7b0JBQ0MsU0FBUyxFQUFFLFFBQVE7aUJBQ3RCO2FBQ0o7WUFDRCxNQUFNLEVBQUUsTUFBTTtZQUNkLE9BQU8sRUFBRSxLQUFLO1lBQ2QsU0FBUyxFQUFFLFlBQVksR0FBRyxRQUFRLEdBQUcsV0FBVztTQUNuRCxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0wscUJBQUM7QUFBRCxDQUFDLEFBaEVELENBQW9DLHVCQUFVLEdBZ0U3QztBQWhFWSx3Q0FBYyJ9