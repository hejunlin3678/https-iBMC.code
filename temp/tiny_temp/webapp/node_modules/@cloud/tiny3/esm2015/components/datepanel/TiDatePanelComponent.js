import { Component, ElementRef, EventEmitter, Input, Output, Renderer2, ViewChild } from '@angular/core';
import { TiDateUtil, Util } from '../../utils/Util';
import { TiLocale } from '../../locale/TiLocaleModule';
import { TiBaseComponent } from '../base/TiBaseModule';
import { TiDropComponent } from './../drop/TiDropModule';
/**
 * @ignore
 */
export class TiDatePanelComponent extends TiBaseComponent {
    constructor(render, hostRef, drop) {
        super(hostRef, render);
        this.render = render;
        this.hostRef = hostRef;
        this.drop = drop;
        this.valueChange = new EventEmitter();
        this.picker = 'day'; // 设置年、月、日面板
        this.pickerChange = new EventEmitter();
        /**
         * 开始日期是否禁用
         */
        this.isBeginFixed = false;
        /**
         * 结束日期是否禁用
         */
        this.isEndFixed = false;
        // 日期面板，月份面板点击每个日期、月份的事件回调
        // tslint:disable-next-line:no-output-named-after-standard-event
        this.select = new EventEmitter();
        // 时间面板选择时分秒的事件回调
        this.selectTimeFn = new EventEmitter();
        this.dayArr = [];
        this.nextdayArr = [];
        this.monthArr = [];
        this.endpanelMonthArr = [];
        this.yearArr = [];
        this.endpanelYearArr = [];
        this.pickerValue = {}; // 面板头部显示文本数据
        this.nextPickerValue = {}; // 面板头部显示文本数据
        this.oldValue = {
            begin: undefined,
            end: undefined
        };
        this.hourOptions = this.setOptions(24);
        this.minuteOptions = this.setOptions(60);
        this.secondOptions = this.setOptions(60);
        this.endHourOptions = this.setOptions(24);
        this.endMinuteOptions = this.setOptions(60);
        this.endSecondOptions = this.setOptions(60);
        this.isChinese = true;
        this.local = {
            weekArr: [],
            weekTitleArr: [],
            monthArr: [],
            yearText: ''
        };
    }
    ngOnInit() {
        super.ngOnInit();
        const localeWords = TiLocale.getLocaleWords();
        this.isChinese = localeWords.tiLocaleKey === TiLocale.ZH_CN;
        this.local = {
            weekArr: localeWords.tiDate['weekNamesAbb'],
            weekTitleArr: localeWords.tiDate['weeknamesTitle'],
            monthArr: localeWords.tiDate['monthNamesAbb'],
            yearText: localeWords.tiDate['yearSuffixLabel']
        };
        this.drop.dropSubject.subscribe(() => {
            this.setValue();
        });
        this.renderer.listen(this.nativeElement, 'mousedown', (event) => {
            event.preventDefault(); // 防止dominator blur行为
        });
    }
    ngOnChanges(changes) {
        if (changes['endTimeDisabled'] && !changes['endTimeDisabled'].firstChange) {
            this.endHourOptions = this.setOptions(24, 'end');
            this.endMinuteOptions = this.setOptions(60, 'end');
            this.endSecondOptions = this.setOptions(60, 'end');
        }
        if (changes['beginTimeDisabled'] && !changes['beginTimeDisabled'].firstChange) {
            this.hourOptions = this.setOptions(24);
            this.minuteOptions = this.setOptions(60);
            this.secondOptions = this.setOptions(60);
        }
        // format支持动态变更
        if (changes['picker'] && !changes['picker'].firstChange) {
            if (Util.isUndefined(this.date)) {
                return;
            }
            // 设置下拉面板的数据
            this.setDatePanel();
        }
        // 最大最小值更新时，需要更新面板来保证最大最小值外的禁用有效
        if ((changes['max'] && !changes['max'].firstChange) || (changes['min'] && !changes['min'].firstChange)) {
            this.setDatePanel();
        }
        // 根据传入值确定时间下拉选择项
        if (changes['selectTime'] && !changes['selectTime'].firstChange) {
            const beginTimeStrArr = this.beginTime.value.split(':');
            this.beginHour = this.hourOptions.find((item) => item.label === beginTimeStrArr[0]);
            this.beginMinute = this.minuteOptions.find((item) => item.label === beginTimeStrArr[1]);
            this.beginSecond = this.secondOptions.find((item) => item.label === beginTimeStrArr[2]);
            if (this.endTime) {
                const endTimeStrArr = this.endTime.value.split(':');
                this.endHour = this.endHourOptions.find((item) => item.label === endTimeStrArr[0]);
                this.endMinute = this.endMinuteOptions.find((item) => item.label === endTimeStrArr[1]);
                this.endSecond = this.endSecondOptions.find((item) => item.label === endTimeStrArr[2]);
            }
            setTimeout(() => {
                this.timeHandleFn(this.beginHour, this.beginHourContainerRef);
                this.timeHandleFn(this.beginMinute, this.beginMinuteContainerRef);
                this.timeHandleFn(this.beginSecond, this.beginSecondContainerRef);
                if (this.endTime) {
                    this.timeHandleFn(this.endHour, this.endHourContainerRef);
                    this.timeHandleFn(this.endMinute, this.endMinuteContainerRef);
                    this.timeHandleFn(this.endSecond, this.endSecondContainerRef);
                }
            }, 0);
        }
        if (changes['beginTime'] && !changes['beginTime'].firstChange) {
            const beginTimeArr = changes['beginTime'].currentValue.value.split(':');
            this.beginHour = this.hourOptions.find((item) => item.label === beginTimeArr[0]);
            this.beginMinute = this.minuteOptions.find((item) => item.label === beginTimeArr[1]);
            this.beginSecond = this.secondOptions.find((item) => item.label === beginTimeArr[2]);
            this.timeHandleFn(this.beginHour, this.beginHourContainerRef);
            this.timeHandleFn(this.beginMinute, this.beginMinuteContainerRef);
            this.timeHandleFn(this.beginSecond, this.beginSecondContainerRef);
        }
        if (changes['endTime'] && !changes['endTime'].firstChange) {
            const endTimeArr = changes['endTime'].currentValue.value.split(':');
            this.endHour = this.endHourOptions.find((item) => item.label === endTimeArr[0]);
            this.endMinute = this.endMinuteOptions.find((item) => item.label === endTimeArr[1]);
            this.endSecond = this.endSecondOptions.find((item) => item.label === endTimeArr[2]);
            this.timeHandleFn(this.endHour, this.endHourContainerRef);
            this.timeHandleFn(this.endMinute, this.endMinuteContainerRef);
            this.timeHandleFn(this.endSecond, this.endSecondContainerRef);
        }
    }
    timeHandleFn(model, ele) {
        if (model === undefined) {
            return;
        }
        const index = model.label;
        this.render.setProperty(ele.nativeElement.children[0], 'scrollTop', index * 30);
        // TODO 动画效果
    }
    ngDoCheck() {
        super.ngDoCheck();
        // 只有点击面板打开时，才会有接口值，需要渲染面板，在没有打开时间日期面板时不需要渲染面板数据
        if (Util.isUndefined(this.value) || Util.isUndefined(this.max)) {
            return;
        }
        if (!TiDateUtil.isDateEqual(this.oldValue['begin'], this.value['begin']) ||
            !TiDateUtil.isDateEqual(this.oldValue['end'], this.value['end'])) {
            this.setValue();
            this.oldValue = {
                begin: this.value.begin,
                end: this.value.end
            };
        }
    }
    // 处理左侧年后退按钮事件
    onPreYearClick(event) {
        // 最小月，最小年，最小年时间段：左按钮灰化
        if (this.isPickerYearMinValue()) {
            return;
        }
        // 日期和月份面板
        if (this.picker === 'day' || this.picker === 'month' || this.picker === 'onlyYearMonth') {
            const year = this.date.year - 1; // 年份减1
            if (year >= this.min.getFullYear()) { // 当年份大于等于最小值
                this.date.year = year;
                if (this.isSmallerThanMinMonth(year, this.date.month)) {
                    this.date.month = this.min.getMonth() + 1;
                }
                this.setYearMonthText();
                this.setPreNextState(year, this.date.month);
                this.setDayMonthArr(this.picker);
            }
            return;
        }
        // 年面板
        if (this.picker === 'year') {
            // 当前年减10
            const year = this.date.year - 10; // 年份减10
            const minValueRange = this.getYearRange(this.min.getFullYear()); // 最小年：年面板的范围
            const currentYearRange = this.getYearRange(year); // 当前年面板的范围
            // 当年份大于等于最小年面板的最小值是有效的
            if (year >= minValueRange.min) {
                this.date.year = currentYearRange.min; // 默认跳转到年面板的第一个有效年
                // 设置下拉面板头部显示文本
                this.setYearMonthText();
                // 设置左右键状态
                this.setYearRangePreNextState();
                // 设置年份面板的值和状态
                this.setYearArr();
                this.setEndpanelYearArr();
            }
        }
    }
    // 处理左侧月后退按钮事件
    onPreMonthClick(event) {
        // 最小月，最小年，最小年时间段：左按钮灰化
        if (this.isMinMonth) {
            return;
        }
        // 日期面板
        let month;
        let year;
        if (this.date.month === 1) {
            month = 12;
            year = this.date.year - 1;
        }
        else {
            month = this.date.month - 1;
            year = this.date.year;
        }
        if (!this.isSmallerThanMinMonth(year, month)) {
            this.date.month = month;
            this.date.year = year;
            this.setYearMonthText();
            this.setPreNextState(year, month);
            this.setDayArr();
            this.setNextDayArr();
        }
    }
    // 处理右侧月前进按钮事件
    onNextMonthClick(event) {
        // 最大月，最大年，最大年时间段
        if (this.isMaxMonth) {
            return;
        }
        let month;
        let year;
        if (this.date.month === 12) {
            month = 1;
            year = this.date.year + 1;
        }
        else {
            month = this.date.month + 1;
            year = this.date.year;
        }
        if (!this.isBiggerThanMaxMonth(year, month)) {
            this.date.month = month;
            this.date.year = year;
            this.setYearMonthText();
            this.setPreNextState(year, month);
            this.setDayArr();
            this.setNextDayArr();
        }
    }
    // 处理右侧年前进按钮事件
    onNextYearClick(event) {
        // 最大月，最大年，最大年时间段
        if (this.isPickerYearMaxValue()) {
            return;
        }
        // 日期和月份面板
        if (this.picker === 'day' || this.picker === 'month' || this.picker === 'onlyYearMonth') {
            const year = this.date.year + 1; // 年份加1
            if (year <= this.max.getFullYear()) { // 判断是否小于等于最大年
                this.date.year = year;
                if (this.isBiggerThanMaxMonth(year, this.date.month)) {
                    this.date.month = this.max.getMonth() + 1;
                }
                this.setYearMonthText();
                this.setPreNextState(year, this.date.month);
                this.setDayMonthArr(this.picker);
            }
            return;
        }
        // 年面板
        if (this.picker === 'year' || this.picker === 'onlyYear') {
            const year = this.date.year + 10; // 年份加10
            const maxValueRange = this.getYearRange(this.max.getFullYear());
            const currentYearRange = this.getYearRange(year);
            // 当年份小于等于最大年面板的最大值是有效的
            if (year <= maxValueRange.max) {
                this.date.year = currentYearRange.min;
                // 设置下拉面板头部显示文本
                this.setYearMonthText();
                // 设置左右键状态
                this.setYearRangePreNextState();
                // 设置年份面板的值和状态
                this.setYearArr();
                this.setEndpanelYearArr();
            }
        }
    }
    // 面板头部文本点击事件
    onHeadTextClick(picker) {
        // 点击日期面板头部，跳转到月份面板
        this.picker = picker;
        this.pickerChange.emit(picker);
    }
    // 日期面板：日期点击事件
    onDayClick(isNext, day, event) {
        if (day.state === 'disable') {
            return;
        }
        if (day.state === 'preMonth') { // 如果是上个月的日期则跳转到上个月
            this.onPreMonthClick(event);
        }
        else if (day.state === 'nextMonth') { // 如果是下个月的日期则跳转到下个月
            this.onNextMonthClick(event);
        }
        let dateSelect;
        const newDate = JSON.parse(JSON.stringify(this.date));
        if (isNext) {
            newDate.year = this.date.month === 12 ? this.date.year + 1 : this.date.year;
            newDate.month = this.date.month === 12 ? 1 : this.date.month + 1;
            dateSelect = new Date(newDate.year, newDate.month - 1, Number(day.value));
        }
        else {
            dateSelect = new Date(this.date.year, this.date.month - 1, day.value);
        }
        if (this.focusedPosition !== 'begin' && this.isRange) {
            if (this.value.end === null && this.value.begin !== null && TiDateUtil.isBigger(this.value.begin, dateSelect)) {
                this.value.begin = dateSelect;
                this.valueChange.emit(this.value);
                // 事件回调：点击日期执行面板收起操作
                this.select.emit(day.state);
                return;
            }
            this.value.end = dateSelect;
            if (this.value.begin !== null && TiDateUtil.isBigger(this.value.begin, this.value.end)) {
                this.value.begin = null;
            }
        }
        else {
            this.value.begin = dateSelect;
            if (this.value.end !== null && TiDateUtil.isBigger(this.value.begin, this.value.end)) {
                this.value.end = null;
            }
        }
        this.valueChange.emit(this.value);
        // 事件回调：点击日期执行面板收起操作
        this.select.emit(day.state);
    }
    // 月份面板：月份点击事件
    onMonthClick(month, event, isEndClick) {
        // 月份灰化不可点击
        if (month.state === 'disable') {
            return;
        }
        // 当前月值变更
        this.date.month = this.local.monthArr.indexOf(String(month.value)) + 1;
        // 根据当前月更新面板头部月份显示
        this.pickerValue = this.pickerValue instanceof Object ? this.pickerValue : {};
        this.nextPickerValue = this.nextPickerValue instanceof Object ? this.nextPickerValue : {};
        this.pickerValue['month'] = this.local.monthArr[this.date.month - 1];
        this.nextPickerValue['month'] = this.date.month === 12 ? this.local.monthArr[0] : this.local.monthArr[this.date.month];
        // 无日期面板：点击月份将value值变更。将执行select事件回调
        // 有日期面板：点击跳转到日期面板，根据年月设置左右按钮状态和日期面板值；
        if (this.format.indexOf('d') === -1) { // 只显示年月
            this.date.year = isEndClick ? this.date.year + 1 : this.date.year;
            if (this.focusedPosition === 'begin') {
                this.value.begin = new Date(this.date.year, this.date.month - 1);
            }
            else {
                this.value.end = new Date(this.date.year, this.date.month - 1);
            }
            this.valueChange.emit(this.value);
            this.select.emit();
        }
        else {
            this.picker = 'day';
            this.pickerChange.emit(this.picker);
        }
    }
    // 年范围面板：年点击事件
    onYearClick(year, event) {
        if (year.state !== 'disable') {
            this.date.year = year.value;
            this.pickerValue = this.pickerValue instanceof Object ? this.pickerValue : {};
            this.nextPickerValue = this.nextPickerValue instanceof Object ? this.nextPickerValue : {};
            this.pickerValue['year'] = `${this.date.year}${this.local.yearText}`;
            this.nextPickerValue['year'] = this.date.month === 12 ? `${this.date.year + 1}${this.local.yearText}`
                : `${this.date.year}${this.local.yearText}`;
            this.nextPickerValue['onlyYear'] = `${this.date.year + 1}${this.local.yearText}`;
            // 只有年份面板
            if (this.format.indexOf('M') === -1) {
                if (this.focusedPosition === 'begin') {
                    this.value.begin = new Date(this.date.year, 1, 1);
                }
                else {
                    this.value.end = new Date(this.date.year, 1, 1);
                }
                this.valueChange.emit(this.value);
                this.select.emit();
                return;
            }
            // 年月格式
            if (this.format.indexOf('d') === -1) {
                this.picker = 'onlyYearMonth';
                this.setDayMonthArr(this.picker);
                return;
            }
            this.picker = 'month';
            this.pickerChange.emit(this.picker);
        }
    }
    onSelect(val, timeOption) {
        const obj = {
            timeOption,
            val
        };
        this.selectTimeFn.emit(obj);
        switch (timeOption) {
            case 'beginHour':
                this.timeHandleFn(val, this.beginHourContainerRef);
                break;
            case 'beginMinute':
                this.timeHandleFn(val, this.beginMinuteContainerRef);
                break;
            case 'beginSecond':
                this.timeHandleFn(val, this.beginSecondContainerRef);
                break;
            case 'endHour':
                this.timeHandleFn(val, this.endHourContainerRef);
                break;
            case 'endMinute':
                this.timeHandleFn(val, this.endMinuteContainerRef);
                break;
            case 'endSecond':
                this.timeHandleFn(val, this.endSecondContainerRef);
                break;
            default:
                break;
        }
    }
    // 分年月日三个面板：根据不同面板设置相应的值
    setDatePanel() {
        // 设置下拉面板头部显示文本
        this.setYearMonthText();
        // 设置年月文本；设置左右键状态；设置下拉面板中日期
        switch (this.picker) {
            case 'day':
                this.setPreNextState(this.date.year, this.date.month);
                this.setDayArr();
                this.setNextDayArr();
                break;
            case 'month':
            case 'onlyYearMonth':
                this.setPreNextState(this.date.year, this.date.month);
                this.setMonthArr();
                this.setEndpanelMonthArr();
                break;
            case 'year':
            case 'onlyYear':
                this.setYearRangePreNextState();
                this.setYearArr();
                this.setEndpanelYearArr();
                break;
            default:
                break;
        }
    }
    /**
     * @description 设置展示的日期
     */
    setValue() {
        // 1.根据接口值获取合法的当前值
        let date;
        let today;
        if ((this.value instanceof Object) && TiDateUtil.isDate(this.value.begin)) {
            date = this.value.begin;
        }
        else if ((this.value instanceof Object) && TiDateUtil.isDate(this.value.end)) {
            date = this.value.end;
        }
        else {
            // 1.1根据nowDateTime接口获取现在时间
            today = (this.nowDateTime && TiDateUtil.isDate(this.nowDateTime)) ? this.nowDateTime : new Date();
            // 1.2根据最大值最小值对获取的现在时间进行进一步判断
            const year = today.getFullYear();
            const month = today.getMonth() + 1;
            const day = today.getDate();
            date = (!this.isBiggerThanMaxDay(year, month, day) && !this.isSmallerThanMinDay(year, month, day))
                ? today : this.min;
        }
        // 2.将当前时间的年月日存在对象
        this.date = {
            year: date.getFullYear(),
            month: date.getMonth() + 1,
            day: date.getDate()
        };
        this.setDatePanel();
    }
    /**
     * @description 判断参数传来的日期是否大于最大日期：大于返回true，小于返回false
     * @param year 年份
     * @param month 月份
     * @param day 日
     */
    isBiggerThanMaxDay(year, month, day) {
        // 1.最大值不是合法的时间对象
        if (!TiDateUtil.isDate(this.max)) {
            return false;
        }
        // 2.重新生成一个新的最大值的原因：防止传入一个带时分的最大值
        let max = this.max;
        max = new Date(max.getFullYear(), max.getMonth(), max.getDate());
        if (max.getTime() < new Date(year, month - 1, day).getTime()) {
            return true;
        }
        return false;
    }
    /**
     * @description 判断参数传来的日期是否小于最小日期：小于返回true，大于返回false
     * @param year 年份
     * @param month 月份
     * @param day 日
     */
    isSmallerThanMinDay(year, month, day) {
        if (!TiDateUtil.isDate(this.min)) {
            return false;
        }
        // 防止传入一个带时分的最小值
        let min = this.min;
        min = new Date(min.getFullYear(), min.getMonth(), min.getDate());
        if (min.getTime() > new Date(year, month - 1, day).getTime()) {
            return true;
        }
        return false;
    }
    // 是否为禁用日期
    isDisabledDay(year, month, day) {
        if (!Util.isArray(this.disabledDays)) {
            return false;
        }
        let isDisabled = false;
        this.disabledDays.forEach((item) => {
            if (item.getTime() === new Date(year, month - 1, day).getTime()) {
                isDisabled = true;
            }
        });
        return isDisabled;
    }
    // 开始日期或者结束日期固定不允许修改时，超出范围的需要禁用
    isFixedWithDisabled(year, month, day) {
        if (!this.isBeginFixed && !this.isEndFixed || this.value === null) {
            return false;
        }
        // 开始日期有值并且禁用
        if (this.isBeginFixed) {
            if (this.value.begin.getTime() > new Date(year, month - 1, day).getTime()) {
                return true;
            }
        }
        if (this.isEndFixed) {
            if (this.value.end.getTime() < new Date(year, month - 1, day).getTime()) {
                return true;
            }
        }
        return false;
    }
    /**
     * @description 设置下拉面板中年月文本
     */
    setYearMonthText() {
        // 1.大于等于最大年，设置年为最大年，月大于最大月，设置为最大月；
        if (this.date.year >= this.max.getFullYear()) {
            this.date.year = this.max.getFullYear();
            if (this.date.month > (this.max.getMonth() + 1)) {
                this.date.month = this.max.getMonth() + 1;
            }
        }
        // 2.小于等于最小年，设置年为最小年，月份小于最小月设置为最小月；
        if (this.date.year <= this.min.getFullYear()) {
            this.date.year = this.min.getFullYear();
            if (this.date.month < (this.min.getMonth() + 1)) {
                this.date.month = this.min.getMonth() + 1;
            }
        }
        // 3.根据年月值，拼成下拉面板中年月文本
        const start = this.date.year - this.date.year % 10;
        this.pickerValue = this.pickerValue instanceof Object ? this.pickerValue : {};
        this.nextPickerValue = this.nextPickerValue instanceof Object ? this.nextPickerValue : {};
        this.pickerValue['year'] = `${this.date.year}${this.local.yearText}`;
        this.nextPickerValue['onlyYear'] = `${this.date.year + 1}${this.local.yearText}`;
        this.nextPickerValue['year'] = this.date.month === 12 ? `${this.date.year + 1}${this.local.yearText}`
            : `${this.date.year}${this.local.yearText}`;
        this.pickerValue['month'] = this.local.monthArr[this.date.month - 1];
        this.nextPickerValue['month'] = this.date.month === 12 ? this.local.monthArr[0] : this.local.monthArr[this.date.month];
        this.pickerValue['yearRange'] = `${start} - ${start + 9}`;
        this.pickerValue['endpanelYearRange'] = `${start + 10} - ${start + 19}`;
    }
    /**
     * @description 设置上月、下月按钮状态：已经是最大、最小月时，将对应的按钮置灰
     * @param year 年份
     * @param month 月份
     */
    setPreNextState(year, month) {
        this.isMaxMonth = this.isEqualToMaxMonth(year, month);
        this.isMinMonth = this.isEqualToMinMonth(year, month);
        this.isMaxYear = year === this.max.getFullYear();
        this.isMinYear = year === this.min.getFullYear();
    }
    /**
     * @description 判断参数传来的年月是否等于最大月份：等于返回true，不等于返回false
     * @param year 年份
     * @param month 月份
     */
    isEqualToMaxMonth(year, month) {
        // 1.最大值不是合法的时间对象
        if (!TiDateUtil.isDate(this.max)) {
            return false;
        }
        // 2.重新生成一个新的最大值的原因：防止传入一个带时分的最大值
        let max = this.max;
        max = new Date(max.getFullYear(), max.getMonth(), 1);
        if (max.getTime() === new Date(year, month - 1, 1).getTime()) {
            return true;
        }
        return false;
    }
    /**
     * @description 判断参数传来的年月是否等于最小月份：等于返回true，不等于返回false
     * @param year 年份
     * @param month 月份
     */
    isEqualToMinMonth(year, month) {
        if (!TiDateUtil.isDate(this.min)) {
            return false;
        }
        let min = this.min;
        min = new Date(min.getFullYear(), min.getMonth(), 1);
        if (min.getTime() === new Date(year, month - 1, 1).getTime()) {
            return true;
        }
        return false;
    }
    /**
     * @description 根据面板设置 dayArr或monthArr
     *
     */
    setDayMonthArr(picker) {
        if (picker === 'day') {
            this.setDayArr();
            this.setNextDayArr();
        }
        else if (picker === 'month' || picker === 'onlyYearMonth') {
            this.setMonthArr();
            this.setEndpanelMonthArr();
        }
    }
    /**
     * @description 根据当前年月值，设置下拉面板中显示的日数据
     */
    // tslint:disable-next-line:cyclomatic-complexity
    // eslint-disable-next-line complexity
    setDayArr() {
        // 获取当前年月
        const year = parseInt(String(this.date.year), 10);
        const month = parseInt(String(this.date.month), 10);
        // 1：计算这个月1号是下拉面板第一行的第几个
        // 获取到这个月1号是周几 周一到周六：1-6，周天：0；
        const begin = new Date(year, month - 1, 1).getDay();
        // 2：将上个月的日期存入数组dateArr
        const dateArr = []; // 存储下拉面板中所有日的值和状态
        const preMonth = (month === 1 ? 12 : (month - 1)); // 上个月
        const preMonthDays = new Date(year, preMonth, 0).getDate(); // 上个月总天数
        const preMonthStart = preMonthDays - begin + 1; // 获取到第一行的起始值
        let preMonthDayState = ''; // 上个月日期的状态
        // 本月是最小月时的上月日期置灰
        preMonthDayState = this.isMinMonth ? 'disable' : 'preMonth';
        for (let i = 0; i < begin; i++) {
            dateArr[i] = {
                value: preMonthStart + i,
                state: preMonthDayState
            };
            if (this.isSmallerThanMinDay(year, month - 1, preMonthStart + i) || this.isDisabledDay(year, month - 1, preMonthStart + i)
                || this.isFixedWithDisabled(year, month - 1, preMonthStart + i)) {
                dateArr[i].state = 'disable';
            }
        }
        // 3：将本月的日存入数组dateArr
        let dayNum = 1;
        const monthDays = new Date(year, month, 0).getDate(); // 这个月总天数
        const length = begin + monthDays;
        let state = '';
        for (let j = begin; j < length; j++) {
            if (this.isBiggerThanMaxDay(year, month, dayNum) ||
                this.isSmallerThanMinDay(year, month, dayNum) ||
                this.isDisabledDay(year, month, dayNum) ||
                this.isFixedWithDisabled(year, month, dayNum)) {
                state = 'disable'; // 日样式置灰
            }
            else if (this.isEqualToValue('day', year, month, dayNum)) {
                state = 'current'; // 当前选中
            }
            else if (this.isBetweenInRange(year, month, dayNum)) {
                state = 'select'; // 在选中范围
            }
            else {
                state = 'default'; // 没有选中
            }
            dateArr[j] = {
                value: dayNum,
                state,
                isToday: this.isEqualToToday('day', year, month, dayNum)
            };
            dayNum++;
        }
        // 4：将下个月的日存入数组dateArr
        dayNum = 1;
        const nextMonthDayState = this.isMaxMonth ? 'disable' : 'nextMonth'; // 下个月日期的状态
        for (let k = dateArr.length; k < 42; k++) {
            dateArr[k] = {
                value: dayNum,
                state: nextMonthDayState
            };
            if (this.isBiggerThanMaxDay(year, month + 1, dayNum) || this.isDisabledDay(year, month + 1, dayNum)
                || this.isFixedWithDisabled(year, month + 1, dayNum)) {
                dateArr[k].state = 'disable';
            }
            dayNum++;
        }
        // 5：将dateArr组装成下拉面板中显示日的二维数组dayArr
        for (let p = 0; p < dateArr.length / 7; p++) {
            this.dayArr[p] = [];
            for (let q = 0; q < 7; q++) {
                this.dayArr[p].push(dateArr[q + p * 7]);
            }
        }
    }
    /**
      * @description 根据当前年月值，设置下拉面板中显示的日数据
      */
    // tslint:disable-next-line:cyclomatic-complexity
    // eslint-disable-next-line complexity
    setNextDayArr() {
        // 获取当前年月
        const sss = this.date.month === 12 ? 1 : this.date.month + 1;
        const yyy = this.date.month === 12 ? this.date.year + 1 : this.date.year;
        const year = parseInt(String(yyy), 10);
        const month = parseInt(String(sss), 10);
        //    const monthNext: number = parseInt(String(this.date.month + 1), 10);
        // 1：计算这个月1号是下拉面板第一行的第几个
        // 获取到这个月1号是周几 周一到周六：1-6，周天：0；
        const begin = new Date(year, month - 1, 1).getDay();
        // 2：将上个月的日期存入数组dateArr
        const dateArr = []; // 存储下拉面板中所有日的值和状态
        const preMonth = (month === 1 ? 12 : (month - 1)); // 上个月
        const preMonthDays = new Date(year, preMonth, 0).getDate(); // 上个月总天数
        const preMonthStart = preMonthDays - begin + 1; // 获取到第一行的起始值
        for (let i = 0; i < begin; i++) {
            dateArr[i] = {
                value: preMonthStart + i,
                state: 'preMonth'
            };
            if (this.isBiggerThanMaxDay(year, month - 1, preMonthStart + i) ||
                this.isSmallerThanMinDay(year, month - 1, preMonthStart + i) ||
                this.isDisabledDay(year, month - 1, preMonthStart + i) ||
                this.isFixedWithDisabled(year, month - 1, preMonthStart + i)) {
                dateArr[i].state = 'disable';
            }
        }
        // 3：将本月的日存入数组dateArr
        let dayNum = 1;
        const monthDays = new Date(year, month, 0).getDate(); // 这个月总天数
        const length = begin + monthDays;
        let state = '';
        for (let j = begin; j < length; j++) {
            if (this.isBiggerThanMaxDay(year, month, dayNum) ||
                this.isSmallerThanMinDay(year, month, dayNum) ||
                this.isDisabledDay(year, month, dayNum) ||
                this.isFixedWithDisabled(year, month, dayNum)) {
                state = 'disable'; // 日样式置灰
            }
            else if (this.isEqualToValue('day', year, month, dayNum)) {
                state = 'current'; // 当前选中
            }
            else if (this.isBetweenInRange(year, month, dayNum)) {
                state = 'select'; // 在选中范围
            }
            else {
                state = 'default'; // 没有选中
            }
            dateArr[j] = {
                value: dayNum,
                state,
                isToday: this.isEqualToToday('day', year, month, dayNum)
            };
            dayNum++;
        }
        // 4：将下个月的日存入数组dateArr
        dayNum = 1;
        const nextMonthDayState = this.isMaxMonth ? 'disable' : 'nextMonth'; // 下个月日期的状态
        for (let k = dateArr.length; k < 42; k++) {
            dateArr[k] = {
                value: dayNum,
                state: nextMonthDayState
            };
            if (this.isBiggerThanMaxDay(year, month + 1, dayNum) ||
                this.isDisabledDay(year, month + 1, dayNum) ||
                this.isFixedWithDisabled(year, month + 1, dayNum)) {
                dateArr[k].state = 'disable';
            }
            dayNum++;
        }
        // 5：将dateArr组装成下拉面板中显示日的二维数组dayArr
        for (let p = 0; p < dateArr.length / 7; p++) {
            this.nextdayArr[p] = [];
            for (let q = 0; q < 7; q++) {
                this.nextdayArr[p].push(dateArr[q + p * 7]);
            }
        }
    }
    /**
     * @description 判断参数传来的日期是否begin值小于end的值，end值大于begion值
     * @param year 年份
     * @param month 月份
     * @param day 日
     */
    isOutInRange(year, month, day) {
        const value = this.value;
        const curValue = new Date(year, month - 1, day).getTime();
        if (!(value instanceof Object)) {
            return false;
        }
        let end = value.end;
        let endValue;
        if (TiDateUtil.isDate(value.end)) {
            // 只取年月日：防止传入带有时分秒的值
            end = new Date(end.getFullYear(), end.getMonth(), end.getDate());
            endValue = end.getTime();
            return curValue > endValue;
        }
        return false;
    }
    /**
     * @description 判断参数传来的日期是否等于当前选中的日期：等于返回true，不等于返回false
     * @param year 年份
     * @param month 月份
     * @param day 日
     */
    isEqualToValue(type, year, month, day) {
        const beginVal = this.value.begin;
        const endVal = this.value.end;
        if (beginVal === null && endVal === null) {
            return false;
        }
        else {
            let value1;
            let value2;
            let beginV;
            let endV;
            if (beginVal !== null) {
                value1 = new Date(beginVal.getFullYear(), beginVal.getMonth(), beginVal.getDate());
                beginV = this.isEqualValue(type, value1, year, month, day);
            }
            if (endVal !== null) {
                value2 = new Date(endVal.getFullYear(), endVal.getMonth(), endVal.getDate());
                endV = this.isEqualValue(type, value2, year, month, day);
            }
            return beginV || endV;
        }
    }
    /**
     * @description 判断参数传来的日期是否在当前选中日期的范围内,并且不等于当前选中的值：符合返回true，不符合返回false
     * @param year 年份
     * @param month 月份
     * @param day 日
     */
    isBetweenInRange(year, month, day) {
        const value = this.value;
        // value不是对象，begin或者end不是合法日期
        if (!(value instanceof Object) || !TiDateUtil.isDate(value.begin) || !TiDateUtil.isDate(value.end)) {
            return false;
        }
        let begin = value.begin;
        begin = new Date(begin.getFullYear(), begin.getMonth(), begin.getDate());
        const beginValue = begin.getTime();
        let end = value.end;
        end = new Date(end.getFullYear(), end.getMonth(), end.getDate());
        const endValue = end.getTime();
        const curValue = new Date(year, month - 1, day).getTime();
        if (beginValue < curValue && curValue <= endValue) {
            return true;
        }
        return false;
    }
    /**
     * @description 判断参数传来的日期是否等于当前日期时间
     * @param year 年份
     * @param month 月份
     * @param day 日
     */
    isEqualToToday(type, year, month, day) {
        const today = (this.nowDateTime && TiDateUtil.isDate(this.nowDateTime)) ? this.nowDateTime : new Date();
        return this.isEqualValue(type, today, year, month, day);
    }
    // 判断日期是当前日期或当前选中日期
    // tslint:disable-next-line:prefer-function-over-method
    isEqualValue(type, value, year, month, day) {
        let _value;
        if (type === 'year') { // 年
            _value = value.getFullYear();
            if (_value === year) {
                return true;
            }
            return false;
        }
        if (type === 'month') { // 年、月
            _value = new Date(value.getFullYear(), value.getMonth());
            if (_value.getTime() === new Date(year, month - 1).getTime()) {
                return true;
            }
            return false;
        }
        // 年、月、日
        _value = new Date(value.getFullYear(), value.getMonth(), value.getDate());
        if (_value.getTime() === new Date(year, month - 1, day).getTime()) {
            return true;
        }
        return false;
    }
    /**
     * @description 根据当前年份和最大最小值，设置下拉面板中显示的月份状态
     */
    setMonthArr() {
        const year = this.date.year;
        const innerMonth = [];
        let state = '';
        // 设置每个月份对应的值和状态
        for (let month = 1; month <= 12; month++) {
            // tslint:disable-next-line:prefer-conditional-expression
            if (this.isSmallerThanMinMonth(year, month) || (this.isBiggerThanMaxMonth(year, month))) {
                state = 'disable'; // 月样式置灰
            }
            else if (this.isEqualToValue('month', year, month)) {
                state = 'current'; // 当前选中
            }
            else {
                state = 'default'; // 没有选中
            }
            innerMonth[month - 1] = {
                value: this.local.monthArr[month - 1],
                state,
                isMonth: this.isEqualToToday('month', year, month)
            };
        }
        // 将月份数据格式化为二维数组
        this.monthArr = [];
        for (let p = 0; p < 3; p++) {
            this.monthArr[p] = [];
            for (let q = 0; q < 4; q++) {
                this.monthArr[p].push(innerMonth[q + p * 4]);
            }
        }
    }
    /**
     * @description 根据当前年份和最大最小值，设置下拉面板中显示的月份状态
     */
    setEndpanelMonthArr() {
        const year = this.date.year + 1;
        const innerMonth = [];
        let state = '';
        // 设置每个月份对应的值和状态
        for (let month = 1; month <= 12; month++) {
            // tslint:disable-next-line:prefer-conditional-expression
            if (this.isSmallerThanMinMonth(year, month) || (this.isBiggerThanMaxMonth(year, month))) {
                state = 'disable'; // 月样式置灰
            }
            else if (this.isEqualToValue('month', year, month)) {
                state = 'current'; // 当前选中
            }
            else {
                state = 'default'; // 没有选中
            }
            innerMonth[month - 1] = {
                value: this.local.monthArr[month - 1],
                state,
                isMonth: this.isEqualToToday('month', year, month)
            };
        }
        // 将月份数据格式化为二维数组
        this.endpanelMonthArr = [];
        for (let p = 0; p < 3; p++) {
            this.endpanelMonthArr[p] = [];
            for (let q = 0; q < 4; q++) {
                this.endpanelMonthArr[p].push(innerMonth[q + p * 4]);
            }
        }
    }
    /**
     * @description 判断参数传来的年月是否小于最小月份：小于返回true，大于返回false
     * @param year 年份
     * @param month 月份
     */
    isSmallerThanMinMonth(year, month) {
        if (!TiDateUtil.isDate(this.min)) {
            return false;
        }
        let min = this.min;
        min = new Date(min.getFullYear(), min.getMonth(), 1);
        if (min.getTime() > new Date(year, month - 1, 1).getTime()) {
            return true;
        }
        return false;
    }
    /**
     * @description 判断参数传来的年月是否大于最大月份：大于返回true，小于返回false
     * @param year 年份
     * @param month 月份
     */
    isBiggerThanMaxMonth(year, month) {
        if (!TiDateUtil.isDate(this.max)) {
            return false;
        }
        let max = this.max;
        max = new Date(max.getFullYear(), max.getMonth(), 1);
        if (max.getTime() < new Date(year, month - 1, 1).getTime()) {
            return true;
        }
        return false;
    }
    /**
     * @description 设置按钮状态：
     */
    setYearRangePreNextState() {
        const minValueRange = this.getYearRange(this.min.getFullYear());
        const maxValueRange = this.getYearRange(this.max.getFullYear());
        this.isMaxYearRange = (this.date.year >= maxValueRange.min && this.date.year <= maxValueRange.max) ? true : false;
        this.isMinYearRange = (this.date.year >= minValueRange.min && this.date.year <= minValueRange.max) ? true : false;
    }
    // 获取时间面板：最大值和最小值年面板范围
    getYearRange(year) {
        const minDateRange = year - year % 10;
        const maxDateRange = minDateRange + 9;
        return {
            min: minDateRange,
            max: maxDateRange
        };
    }
    /**
     * @description 根据当前年份和最大最小值，设置下拉面板中显示的年份状态
     */
    setYearArr() {
        // 1.获取当前年；算出起始年，
        const innerYear = []; // 存储年值
        const year = this.date.year - this.date.year % 10;
        // 2.数组的第一个为起始年 -1；
        const start = year - 1;
        const end = year + 9;
        let index = 0;
        let state = '';
        const preYearRange = (start <= this.min.getFullYear()) ? 'disable' : 'preYear';
        innerYear.push({
            state: preYearRange,
            value: start
        });
        // 3.起始年  - 最终年（起始年+9）（for遍历）
        for (let i = year; i <= end; i++) {
            index++;
            if (i < this.min.getFullYear() || i > this.max.getFullYear()) {
                state = 'disable';
            }
            else if (this.isEqualToValue('year', i)) {
                state = 'current'; // 当前选中
            }
            else {
                state = 'default';
            }
            innerYear[index] = {
                value: i,
                state,
                isYear: this.isEqualToToday('year', i)
            };
        }
        // 判断是不是大于最大年：大于最大年状态为灰化
        const nextYearRange = (end >= this.max.getFullYear()) ? 'disable' : 'nextYear';
        innerYear.push({
            state: nextYearRange,
            value: end + 1
        });
        // 将月份数据格式化为二维数组
        this.yearArr = [];
        for (let p = 0; p < 3; p++) {
            this.yearArr[p] = [];
            for (let q = 0; q < 4; q++) {
                this.yearArr[p].push(innerYear[q + p * 4]);
            }
        }
    }
    /**
     * @description 根据当前年份和最大最小值，设置下拉面板中显示的年份状态
     */
    setEndpanelYearArr() {
        // 1.获取当前年；算出起始年，
        const innerYear = []; // 存储年值
        const year = this.date.year - this.date.year % 10 + 10;
        // 2.数组的第一个为起始年 -1；
        const start = year - 1;
        const end = year + 9;
        let index = 0;
        let state = '';
        const preYearRange = (start <= this.min.getFullYear()) ? 'disable' : 'preYear';
        innerYear.push({
            state: preYearRange,
            value: start
        });
        // 3.起始年  - 最终年（起始年+9）（for遍历）
        for (let i = year; i <= end; i++) {
            index++;
            if (i < this.min.getFullYear() || i > this.max.getFullYear()) {
                state = 'disable';
            }
            else if (this.isEqualToValue('year', i)) {
                state = 'current'; // 当前选中
            }
            else {
                state = 'default';
            }
            innerYear[index] = {
                value: i,
                state,
                isYear: this.isEqualToToday('year', i)
            };
        }
        // 判断是不是大于最大年：大于最大年状态为灰化
        const nextYearRange = (end >= this.max.getFullYear()) ? 'disable' : 'nextYear';
        innerYear.push({
            state: nextYearRange,
            value: end + 1
        });
        // 将月份数据格式化为二维数组
        this.endpanelYearArr = [];
        for (let p = 0; p < 3; p++) {
            this.endpanelYearArr[p] = [];
            for (let q = 0; q < 4; q++) {
                this.endpanelYearArr[p].push(innerYear[q + p * 4]);
            }
        }
    }
    // 设置左年后退按钮灰化
    isPickerYearMinValue() {
        return this.picker === 'year' ? this.isMinYearRange : this.isMinYear;
    }
    // 设置右年前进按钮灰化
    isPickerYearMaxValue() {
        return this.picker === 'year' ? this.isMaxYearRange : this.isMaxYear;
    }
    trackByFn(index, item) {
        return index;
    }
    setOptions(num, pos) {
        const options = [];
        for (let i = 0; i < num; i++) {
            options[i] = {
                label: i < 10 ? '0' + i : String(i),
                disabled: pos === 'end' ? this.endTimeDisabled : this.beginTimeDisabled
            };
        }
        return options;
    }
    /**
    * @ignore
    * 时间选择框部分鼠标移出时去除hover样式
    */
    onMouseleave(listCom) {
        listCom.hoverOption = null;
    }
}
TiDatePanelComponent.decorators = [
    { type: Component, args: [{
                selector: 'ti-date-panel',
                template: "<!-- 1.\u9762\u677F\u5934\u90E8-->\r\n<section class=\"ti3-date-picker-header\" *ngIf='!selectTime'>\r\n    <!-- 1.1\u5DE6\u6309\u94AE-->\r\n    <section class=\"ti3-date-picker-icons-prev\">\r\n      <!-- \u6309\u5E74\u540E\u9000 -->\r\n      <section class=\"ti3-icon ti3-icon-left-2\"\r\n        [ngClass]=\"{'ti3-date-state-disabled' : isPickerYearMinValue()}\" [id]=\"appendId('pre-year')\"\r\n        (click)=\"onPreYearClick($event)\">\r\n      </section>\r\n      <!-- \u6309\u6708\u540E\u9000-->\r\n      <section *ngIf=\"picker === 'day'\" class=\"ti3-icon ti3-icon-left-1\"\r\n        [ngClass]=\"{'ti3-date-state-disabled' : isMinMonth}\" [id]=\"appendId('pre-month')\"\r\n        (click)=\"onPreMonthClick($event)\">\r\n      </section>\r\n    </section>\r\n    <!-- 1.2\u53F3\u6309\u94AE -->\r\n    <section class=\"ti3-date-picker-icons-next\">\r\n      <!-- \u6309\u6708\u524D\u8FDB-->\r\n      <section #next *ngIf=\"picker === 'day'\" class=\"ti3-icon ti3-icon-right-1\"\r\n        [ngClass]=\"{'ti3-date-state-disabled' : isMaxMonth}\" [id]=\"appendId('next-month')\"\r\n        (click)=\"onNextMonthClick($event)\">\r\n      </section>\r\n      <!-- \u6309\u5E74\u524D\u8FDB -->\r\n      <section #nextYear class=\" ti3-icon ti3-icon-right-2\"\r\n        [ngClass]=\"{'ti3-date-state-disabled' :isPickerYearMaxValue()}\" [id]=\"appendId('next-year')\"\r\n        (click)=\"onNextYearClick($event)\">\r\n      </section>\r\n    </section>\r\n    <!-- 1.3\u5E74\u6708\u65E5/\u5E74\u6708\u6587\u672C\u663E\u793A\u533A\u57DF-->\r\n    <section class=\"ti3-header-year-month-picker\">\r\n        <section class=\"ti3-date-picker-year-month\" [ngClass]=\"{'ti3-date-picker-year-month-text': !isRange || picker !== 'day' && picker !== 'onlyYear'&& picker !== 'onlyYearMonth'}\"\r\n             [id]=\"appendId('head')\">\r\n            <div [ngClass]=\"{'ti3-date-picker-text' : isRange && (picker === 'day' || picker === 'onlyYear' || picker === 'onlyYearMonth')}\">\r\n                <span *ngIf=\"picker === 'day' && !isChinese\" (click)=\"onHeadTextClick('month')\" [id]=\"appendId('head_left_month')\">{{pickerValue.month}} </span>\r\n                <span *ngIf=\"picker === 'day' || picker === 'month' || picker === 'onlyYearMonth'\" (click)=\"onHeadTextClick('year')\" [id]=\"appendId('head_left_year')\">{{pickerValue.year}} </span>\r\n                <span *ngIf=\"picker === 'day' && isChinese\" (click)=\"onHeadTextClick('month')\" [id]=\"appendId('head_left_month')\">{{pickerValue.month}}</span>\r\n                <span *ngIf=\"picker === 'onlyYear' || picker === 'year'\">{{pickerValue.yearRange}}</span>\r\n            </div>\r\n            <div *ngIf=\"(picker === 'day' || picker === 'onlyYear' || picker === 'onlyYearMonth') && isRange\" class='ti3-date-picker-endpanel-text'>\r\n                <span *ngIf=\"picker === 'day' && !isChinese\" (click)=\"onHeadTextClick('month')\" [id]=\"appendId('head_right_month')\">{{nextPickerValue.month}} </span>\r\n                <span *ngIf=\"picker === 'day'\" (click)=\"onHeadTextClick('year')\" [id]=\"appendId('head_right_year')\">{{nextPickerValue.year}} </span>\r\n                <span *ngIf=\"picker === 'onlyYearMonth'\" (click)=\"onHeadTextClick('year')\" [id]=\"appendId('head_right_year')\">{{nextPickerValue.onlyYear}} </span>\r\n                <span *ngIf=\"picker === 'day' && isChinese\" (click)=\"onHeadTextClick('month')\" [id]=\"appendId('head_right_month')\">{{nextPickerValue.month}}</span>\r\n                <span *ngIf=\"picker === 'onlyYear'\">{{pickerValue.endpanelYearRange}}</span>\r\n            </div>\r\n        </section>\r\n    </section>\r\n</section>\r\n\r\n<!-- 2.\u65E5\u671F\u9762\u677F-->\r\n<section *ngIf=\"picker === 'day' && !selectTime\" class=\"ti3-date-picker-container\">\r\n        <section style='float:left'>\r\n            <!-- 2.1\u661F\u671F\uFF1A\u5468\u4E00\u5230\u5468\u4E94-->\r\n            <thead>\r\n                <tr>\r\n                    <th *ngFor=\"let week of local.weekArr; index as i\" class=\"ti3-date-week\" title=\"{{local.weekTitleArr[i]}}\">{{week}}</th>\r\n                </tr>\r\n            </thead>\r\n        <!-- 2.2\u65E5\u671F\uFF1A-->\r\n            <tbody>\r\n                <tr *ngFor=\"let week of dayArr; index as i; trackBy: trackByFn\" class=\"ti3-date-day-tr\">\r\n                    <th *ngFor=\"let day of week; index as j; trackBy: trackByFn\"\r\n                        [ngClass]=\"{'ti3-date-today-current-td': day.isToday && day.state === 'current'}\"\r\n                        (click)=\"onDayClick(false, day, $event)\">\r\n                        <section [ngClass]=\"{\r\n                            'ti3-date-current-day' : day.state === 'current',\r\n                            'ti3-dateRange-select-day' : day.state === 'select',\r\n                            'ti3-date-today' : day.isToday && day.state !== 'disable',\r\n                            'ti3-date-default-day' : day.state === 'default',\r\n                            'ti3-date-disable-day' : day.state === 'disable',\r\n                            'ti3-date-beside-day' : day.state === 'preMonth' || day.state === 'nextMonth'}\"\r\n                            [id]=\"appendId('day_left_' + i + '_' + j)\">{{day.value}}</section>\r\n                    </th>\r\n                </tr>\r\n            </tbody>\r\n        </section>\r\n        <section style='margin-left: 20px;float: right;' *ngIf='isRange'>\r\n            <thead>\r\n                <tr>\r\n                    <th *ngFor=\"let week of local.weekArr; index as i\" class=\"ti3-date-week\" title=\"{{local.weekTitleArr[i]}}\">{{week}}</th>\r\n                </tr>\r\n            </thead>\r\n            <!-- 2.2\u65E5\u671F\uFF1A-->\r\n            <tbody>\r\n                <tr *ngFor=\"let week of nextdayArr; index as i; trackBy: trackByFn\" class=\"ti3-date-day-tr\">\r\n                    <th *ngFor=\"let day of week; index as j; trackBy: trackByFn\"\r\n                        [ngClass]=\"{'ti3-date-today-current-td': day.isToday && day.state === 'current'}\"\r\n                        (click)=\"onDayClick(true, day, $event)\">\r\n                        <section [ngClass]=\"{\r\n                            'ti3-date-current-day' : day.state === 'current',\r\n                            'ti3-dateRange-select-day' : day.state === 'select',\r\n                            'ti3-date-today' : day.isToday && day.state !== 'disable',\r\n                            'ti3-date-default-day' : day.state === 'default',\r\n                            'ti3-date-disable-day' : day.state === 'disable',\r\n                            'ti3-date-beside-day' : day.state === 'preMonth' || day.state === 'nextMonth'}\"\r\n                            [id]=\"appendId('day_right_' + i + '_' + j)\">{{day.value}}</section>\r\n                    </th>\r\n                </tr>\r\n            </tbody>\r\n        </section>\r\n</section>\r\n\r\n<!-- 3.\u6708\u4EFD\u9762\u677F-->\r\n<section *ngIf=\"picker === 'month' && !selectTime\" class=\"ti3-date-picker-container ti3-date-picker-year\">\r\n    <section *ngFor=\"let monthList of monthArr; index as i\" class='ti3-date-year-month-picker-container'>\r\n        <section *ngFor=\"let month of monthList; index as j\" style='display: inline-block;'\r\n            (click)=\"onMonthClick(month, $event)\">\r\n            <section class=\"ti3-date-month\"\r\n                     [ngClass]=\"{'ti3-date-disable-month': month.state === 'disable',\r\n                                 'ti3-date-default-month' : month.state === 'default',\r\n                                 'ti3-date-current-month' : month.state === 'current',\r\n                                 'ti-date-nowMonth' : month.isMonth && month.state !== 'disable'}\"\r\n                                 [id]=\"appendId('month_' + i + '_' + j)\">{{month.value}}</section>\r\n        </section>\r\n    </section>\r\n</section>\r\n\r\n<!-- \u5E74\u6708\u683C\u5F0F\u5C55\u793A\u9762\u677F -->\r\n<section *ngIf=\"picker === 'onlyYearMonth' && !selectTime\" class=\"ti3-date-picker-year-month-container\">\r\n    <section  class=\"ti3-date-picker-container ti3-date-picker-year\">\r\n        <section *ngFor=\"let monthList of monthArr; index as i;\" class='ti3-date-year-month-picker-container'>\r\n            <section *ngFor=\"let month of monthList; index as j;\" style='display: inline-block;'\r\n                (click)=\"onMonthClick(month, $event, false)\">\r\n                <section class=\"ti3-date-month\"\r\n                         [ngClass]=\"{'ti3-date-disable-month': month.state === 'disable',\r\n                                     'ti3-date-default-month' : month.state === 'default',\r\n                                     'ti3-date-current-month' : month.state === 'current',\r\n                                     'ti-date-nowMonth' : month.isMonth && month.state !== 'disable'}\"\r\n                                     [id]=\"appendId('month_left_' + i + '_' + j)\">{{month.value}}</section>\r\n            </section>\r\n        </section>\r\n    </section>\r\n    <section *ngIf=\"isRange\" class=\"ti3-date-picker-container ti3-date-picker-year ti3-date-picker-right-zone\">\r\n        <section *ngFor=\"let monthList of endpanelMonthArr; index as i;\" class='ti3-date-year-month-picker-container'>\r\n            <section *ngFor=\"let month of monthList; index as j;\" style='display: inline-block;'\r\n                (click)=\"onMonthClick(month, $event, true)\">\r\n                <section class=\"ti3-date-month\"\r\n                         [ngClass]=\"{'ti3-date-disable-month': month.state === 'disable',\r\n                                     'ti3-date-default-month' : month.state === 'default',\r\n                                     'ti3-date-current-month' : month.state === 'current',\r\n                                     'ti-date-nowMonth' : month.isMonth && month.state !== 'disable'}\"\r\n                                     [id]=\"appendId('month_right_' + i + '_' + j)\">{{month.value}}</section>\r\n            </section>\r\n        </section>\r\n    </section>\r\n</section>\r\n\r\n<!-- 4.\u5E74\u9762\u677F -->\r\n<section *ngIf=\"picker === 'year' && !selectTime\" class=\"ti3-date-picker-container ti3-date-picker-month\">\r\n    <section *ngFor=\"let yearList of yearArr; index as i;\" class='ti3-date-year-month-picker-container'>\r\n        <section *ngFor=\"let year of yearList; index as j;\" style='display: inline-block;'\r\n            (click)=\"onYearClick(year, $event)\">\r\n            <section class=\"ti3-date-year\"\r\n                     [ngClass]=\"{'ti3-date-disable-year': year.state === 'disable',\r\n                                 'ti3-date-default-year' : year.state === 'default',\r\n                                 'ti3-date-preNext-year' : year.state === 'preYear' || year.state === 'nextYear',\r\n                                 'ti3-date-current-year' : year.state === 'current',\r\n                                 'ti-date-nowYear': year.isYear && year.state !== 'disable'}\"\r\n                                 [id]=\"appendId('year_' + i + '_' + j)\">{{year.value}}</section>\r\n        </section>\r\n    </section>\r\n</section>\r\n<!-- \u7EAF\u5E74\u4EFD\u5C55\u793A\u9762\u677F -->\r\n<section *ngIf=\"picker === 'onlyYear' && !selectTime\" class=\"ti3-date-picker-only-year-container\">\r\n    <section class=\"ti3-date-picker-container ti3-date-picker-month\">\r\n        <section *ngFor=\"let yearList of yearArr; index as i;\" class='ti3-date-year-month-picker-container'>\r\n            <section *ngFor=\"let year of yearList; index as j;\" style='display: inline-block;'\r\n                (click)=\"onYearClick(year, $event)\">\r\n                <section class=\"ti3-date-year\"\r\n                         [ngClass]=\"{'ti3-date-disable-year': year.state === 'disable',\r\n                                     'ti3-date-default-year' : year.state === 'default',\r\n                                     'ti3-date-preNext-year' : year.state === 'preYear' || year.state === 'nextYear',\r\n                                     'ti3-date-current-year' : year.state === 'current',\r\n                                     'ti-date-nowYear': year.isYear && year.state !== 'disable'}\"\r\n                                     [id]=\"appendId('year_left_' + i + '_' + j)\">{{year.value}}</section>\r\n            </section>\r\n        </section>\r\n    </section>\r\n    <section *ngIf=\"isRange\" class=\"ti3-date-picker-container ti3-date-picker-month ti3-date-picker-right-zone\">\r\n        <section *ngFor=\"let yearList of endpanelYearArr; index as i;\" class='ti3-date-year-month-picker-container'>\r\n            <section *ngFor=\"let year of yearList; index as j;\" style='display: inline-block;'\r\n                (click)=\"onYearClick(year, $event)\">\r\n                <section class=\"ti3-date-year\"\r\n                         [ngClass]=\"{'ti3-date-disable-year': year.state === 'disable',\r\n                                     'ti3-date-default-year' : year.state === 'default',\r\n                                     'ti3-date-preNext-year' : year.state === 'preYear' || year.state === 'nextYear',\r\n                                     'ti3-date-current-year' : year.state === 'current',\r\n                                     'ti-date-nowYear': year.isYear && year.state !== 'disable'}\"\r\n                                     [id]=\"appendId('year_right_' + i + '_' + j)\">{{year.value}}</section>\r\n            </section>\r\n        </section>\r\n    </section>\r\n</section>\r\n<!-- 5.\u65F6\u95F4\u9009\u62E9\u9762\u677F -->\r\n<div [hidden]='!selectTime' [ngClass]=\"{'ti3-time-select-panel': selectTime}\">\r\n    <div class='ti3-time-select-container' [ngClass]=\"{'ti3-time-select-container-border': selectTime}\">\r\n        <div class='ti3-time-hourselect-container'>\r\n            <span class='ti3-time-select-title'>{{ 'tiDate.hour' | tiTranslate }}</span>\r\n            <ti-list #beginHourContainer\r\n               [options]='hourOptions'\r\n                [(ngModel)]=\"beginHour\"\r\n                (select)=\"onSelect($event, 'beginHour')\"\r\n                (mouseleave)=\"onMouseleave(beginHourContainer)\"\r\n                [id]=\"appendId('list_beginhour')\"></ti-list>\r\n        </div>\r\n        <div class='ti3-time-minuteselect-container'>\r\n            <span class='ti3-time-select-title'>{{ 'tiDate.minute' | tiTranslate }}</span>\r\n           <ti-list #beginMinuteContainer [options]='minuteOptions'\r\n           [(ngModel)]=\"beginMinute\"\r\n           (select)=\"onSelect($event, 'beginMinute')\"\r\n           (mouseleave)=\"onMouseleave(beginMinuteContainer)\"\r\n           [id]=\"appendId('list_beginminute')\"></ti-list>\r\n        </div>\r\n        <div class='ti3-time-secondselect-container'>\r\n            <span class='ti3-time-select-title'>{{ 'tiDate.second' | tiTranslate }}</span>\r\n            <ti-list #beginSecondContainer [options]='secondOptions'\r\n            [(ngModel)]=\"beginSecond\"\r\n            (select)=\"onSelect($event, 'beginSecond')\"\r\n            (mouseleave)=\"onMouseleave(beginSecondContainer)\"\r\n            [id]=\"appendId('list_beginsecond')\"></ti-list>\r\n        </div>\r\n    </div>\r\n    <div [hidden]='!isRange' class='ti3-time-select-container ti3-endtime-select-container' [ngClass]=\"{'ti3-endtime-select-none': !isRange, 'ti3-time-select-container-border': selectTime}\">\r\n        <div class='ti3-time-hourselect-container'>\r\n            <span class='ti3-time-select-title'>{{ 'tiDate.hour' | tiTranslate }}</span>\r\n            <ti-list #endHourContainer [options]='endHourOptions'\r\n                [(ngModel)]=\"endHour\"\r\n                (select)=\"onSelect($event, 'endHour')\"\r\n                (mouseleave)=\"onMouseleave(endHourContainer)\"\r\n                [id]=\"appendId('list_endhour')\"></ti-list>\r\n        </div>\r\n        <div class='ti3-time-minuteselect-container'>\r\n            <span class='ti3-time-select-title'>{{ 'tiDate.minute' | tiTranslate }}</span>\r\n           <ti-list #endMinuteContainer [options]='endMinuteOptions'\r\n           [(ngModel)]=\"endMinute\"\r\n           (select)=\"onSelect($event, 'endMinute')\"\r\n           (mouseleave)=\"onMouseleave(endMinuteContainer)\"\r\n           [id]=\"appendId('list_endminute')\"></ti-list>\r\n        </div>\r\n        <div  class='ti3-time-secondselect-container'>\r\n            <span class='ti3-time-select-title'>{{ 'tiDate.second' | tiTranslate }}</span>\r\n            <ti-list #endSecondContainer [options]='endSecondOptions'\r\n            [(ngModel)]=\"endSecond\"\r\n            (select)=\"onSelect($event, 'endSecond')\"\r\n            (mouseleave)=\"onMouseleave(endSecondContainer)\"\r\n            [id]=\"appendId('list_endsecond')\"></ti-list>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!--IE\u6D4F\u89C8\u5668\u517C\u5BB9\u6027\u95EE\u9898\uFF1A\u5728IE\u4E0B\uFF0C\u6240\u6709div\uFF0C\u90E8\u5206span\uFF08\u8BBE\u7F6E\u4E3Ainline-block\u3001block\u7684span\uFF09\uFF0Ctable\uFF0Ctd\u662F\u4EA4\u4E92\u5143\u7D20\uFF0C\u53EF\u4EE5\u843D\u7126\u70B9\u3002\r\n\u800C\u5176\u4ED6\u6D4F\u89C8\u5668\uFF0Cdiv\u548Cspan\u9ED8\u8BA4\u662F\u4E0D\u53EF\u4EA4\u4E92\u5143\u7D20\uFF0C\u4E0D\u80FD\u843D\u7126\u70B9\u3002\r\n\u89E3\u51B3\u65B9\u6848\uFF1Asection\u6807\u7B7E\uFF0C\u53EF\u4EE5\u7B49\u540C\u4E8Ediv\u4F7F\u7528\uFF0CIE\u548C\u5176\u4ED6\u6D4F\u89C8\u5668\u884C\u4E3A\u4E00\u81F4\u3002\r\n-->\r\n",
                styles: ["::ng-deep :root{--date-day-line-width:12px;--date-day-picker-line-bottom:calc((var(--ti-datetime-day-height) - 16px)/2 - 2px);--date-month-line-width:24px;--date-picker-line-bottom:calc((var(--ti-date-picker-month-height) - 16px)/2 - 4px);--date-year-line-width:30px;--ti-date-picker-header-height:18px;--ti-date-picker-header-margin:12px;--ti-date-picker-icon-width:16px;--ti-date-picker-month-height:32px;--ti-date-picker-month-width:63px;--ti-date-picker-week-height:18px;--ti-date-picker-year-month-width:166px}.ti3-date-picker-header{-ms-box-sizing:content-box;box-sizing:content-box;font-weight:400;margin:var(--ti-date-picker-header-margin) 0;position:relative}.ti3-date-picker-header,.ti3-date-picker-icons-next,.ti3-date-picker-icons-prev{height:var(--ti-date-picker-header-height);line-height:var(--ti-date-picker-header-height)}.ti3-date-picker-icons-next,.ti3-date-picker-icons-prev{-ms-box-sizing:border-box;box-sizing:border-box;color:var(--ti-datetime-icon-color-normal);cursor:pointer;display:block;font-size:var(--ti-common-font-size-base);padding:0;position:absolute;text-align:right;top:0;width:calc(var(--ti-date-picker-icon-width)*2 + var(--ti-common-space-10))}.ti3-date-picker-icons-next .ti3-icon,.ti3-date-picker-icons-prev .ti3-icon{display:inline-block;text-align:center;width:var(--ti-date-picker-icon-width)}.ti3-date-picker-icons-next .ti3-icon:active,.ti3-date-picker-icons-next .ti3-icon:hover,.ti3-date-picker-icons-prev .ti3-icon:active,.ti3-date-picker-icons-prev .ti3-icon:hover{color:var(--ti-datetime-icon-color-hover)}.ti3-date-picker-icons-prev{left:0;padding-left:10px;text-align:left}.ti3-date-picker-icons-next{padding-right:10px;right:0;text-align:right}.ti3-date-state-disabled{color:var(--ti-datetime-icon-color-disabled)!important;cursor:not-allowed!important}.ti3-header-year-month-picker{margin:0 calc((var(--ti-datetime-day-width)*7 - var(--ti-date-picker-year-month-width) + 2px)/2)}.ti3-date-picker-year-month{-ms-user-select:none;-webkit-user-select:none;background-color:var(--ti-input-bg-color);color:var(--ti-datetime-content-color-normal);cursor:pointer;font-weight:700;user-select:none}.ti3-date-picker-year-month span:hover{color:var(--ti-datetime-picker-color-hover)}.ti3-date-picker-year-month-text{text-align:center}.ti3-date-picker-container{background-color:var(--ti-input-bg-color);font-size:var(--ti-datetime-input-font-size);*zoom:1}.ti3-date-picker-container:after{clear:both;content:\"\";display:table}.ti3-date-picker-container:before{content:\"\";display:table}.ti3-date-picker-container th{font-weight:400}.ti3-date-picker-container.ti3-date-picker-month,.ti3-date-picker-container.ti3-date-picker-year{margin-top:42px}.ti3-date-week{-ms-user-select:none;-webkit-user-select:none;background-color:var(--ti-datetime-week-bg-color);border:0;color:var(--ti-datetime-beside-day-color);font-weight:400;height:var(--ti-date-picker-week-height);text-align:center;user-select:none}.ti3-date-day-tr{height:var(--ti-datetime-day-height)}.ti3-date-today-current-td{position:relative}.ti3-date-current-day{background-color:var(--ti-datetime-content-color-active);color:var(--ti-datetime-current-day-color)}.ti3-date-current-day,.ti3-dateRange-select-day{-ms-box-sizing:border-box;-ms-user-select:none;-webkit-user-select:none;box-sizing:border-box;cursor:pointer;display:block;height:var(--ti-datetime-day-height);line-height:var(--ti-datetime-day-height);margin-top:var(--ti-datetime-day-margin-top);min-width:var(--ti-datetime-day-width);padding:0;text-align:center;text-decoration:none;user-select:none}.ti3-dateRange-select-day{background-color:var(--ti-datetime-range-selected-day-bg-color);color:var(--ti-input-text-color)}.ti3-dateRange-select-day:hover{background-color:var(--ti-datetime-range-selected-day-bg-color-hover)}.ti3-date-default-day{-ms-box-sizing:border-box;-ms-user-select:none;-webkit-user-select:none;background-color:var(--ti-input-bg-color);box-sizing:border-box;color:var(--ti-datetime-default-day-color);cursor:pointer;display:block;font-size:var(--ti-datetime-input-font-size);height:var(--ti-datetime-day-height);line-height:var(--ti-datetime-day-height);margin-top:var(--ti-datetime-day-margin-top);min-width:var(--ti-datetime-day-width);padding:0;text-align:center;text-decoration:none;user-select:none}.ti3-date-default-day:hover{background-color:var(--ti-common-color-bg-white-emphasize);color:var(--ti-datetime-content-text-color-hover)}.ti3-date-today{position:relative}.ti3-date-today.ti3-date-current-day{background-color:var(--ti-datetime-content-color-active);border:0}.ti3-date-today:after{background:var(--ti-common-color-line-active);bottom:var(--date-day-picker-line-bottom);content:\"\";height:1px;left:calc((var(--ti-datetime-day-width) - var(--date-day-line-width))/2);position:absolute;width:var(--date-day-line-width)}.ti3-date-disable-day{background-color:var(--ti-datetime-disable-day-bg-color);background-image:none;color:var(--ti-common-color-line-normal);cursor:not-allowed}.ti3-date-beside-day,.ti3-date-disable-day{-ms-box-sizing:border-box;-ms-user-select:none;-webkit-user-select:none;box-sizing:border-box;display:block;font-size:var(--ti-datetime-input-font-size);height:var(--ti-datetime-day-height);line-height:var(--ti-datetime-day-height);margin-top:var(--ti-datetime-day-margin-top);min-width:var(--ti-datetime-day-width);padding:0;text-align:center;text-decoration:none;user-select:none}.ti3-date-beside-day{color:var(--ti-datetime-beside-day-color);cursor:pointer}.ti3-date-beside-day:hover{background-color:var(--ti-datetime-beside-day-bg-color-hover)}.ti3-date-month,.ti3-date-year{-ms-box-sizing:border-box;-ms-user-select:none;-webkit-user-select:none;box-sizing:border-box;cursor:pointer;display:block;height:var(--ti-date-picker-month-height);line-height:var(--ti-date-picker-month-height);text-align:center;text-decoration:none;user-select:none;width:var(--ti-date-picker-month-width)}.ti3-date-default-month,.ti3-date-default-year{background-color:var(--ti-input-bg-color);color:var(--ti-pagination-text-color)}.ti3-date-default-month:hover,.ti3-date-default-year:hover{background-color:var(--ti-common-color-bg-white-emphasize)}.ti3-date-current-month,.ti3-date-current-year{background-color:var(--ti-datetime-content-color-active);color:var(--ti-datetime-current-day-color)}.ti3-date-disable-month,.ti3-date-disable-year{background-color:var(--ti-input-bg-color);color:var(--ti-common-color-line-normal);cursor:not-allowed}.ti3-date-preNext-year{background-color:var(--ti-input-bg-color);color:var(--ti-input-text-color-disabled)}::ng-deep .ti3-time-select-container{border:1px solid var(--ti-common-color-line-dividing);border-bottom:none;display:flex;height:265px;margin-top:10px;width:250px}::ng-deep .ti3-time-select-container ul{height:231px;overflow-y:auto;text-align:center;width:82px}::ng-deep .ti3-time-select-container ul li{margin-top:0!important;text-align:center!important}.ti3-time-select-title{color:var(--ti-common-color-text-darkbg);display:inline-block;font-size:var(--ti-common-font-size-base);height:30px;line-height:30px;margin-left:-6px;text-align:center;width:100%}.ti3-endtime-select-container,.ti3-time-select-panel{display:flex}.ti3-endtime-select-container{margin-left:var(--ti-common-space-5x)}.ti3-endtime-select-none{display:none}.ti3-date-picker-text{display:inline;padding-left:58px}.ti3-date-picker-endpanel-text{display:inline;padding-left:204px}.ti3-time-hourselect-container,.ti3-time-minuteselect-container{border-right:1px solid var(--ti-common-color-line-dividing)}.ti3-date-year-month-picker-container{display:flex;justify-content:space-around;margin-bottom:32px}.ti3-time-select-container-border{border-bottom:1px solid var(--ti-common-color-line-dividing)}.ti-date-nowMonth{position:relative}.ti-date-nowMonth:after{background:var(--ti-common-color-line-active);bottom:var(--date-picker-line-bottom);content:\"\";height:1px;left:calc((var(--ti-date-picker-month-width) - var(--date-month-line-width))/2);position:absolute;width:var(--date-month-line-width)}.ti-date-nowYear{position:relative}.ti-date-nowYear:after{background:var(--ti-common-color-line-active);bottom:var(--date-picker-line-bottom);content:\"\";height:1px;left:calc((var(--ti-date-picker-month-width) - var(--date-year-line-width))/2);position:absolute;width:var(--date-year-line-width)}.ti3-date-picker-only-year-container,.ti3-date-picker-year-month-container{display:flex}.ti3-date-picker-right-zone{padding-left:var(--ti-common-space-5x)}"]
            },] }
];
TiDatePanelComponent.ctorParameters = () => [
    { type: Renderer2 },
    { type: ElementRef },
    { type: TiDropComponent }
];
TiDatePanelComponent.propDecorators = {
    value: [{ type: Input }],
    valueChange: [{ type: Output }],
    picker: [{ type: Input }],
    pickerChange: [{ type: Output }],
    nowDateTime: [{ type: Input }],
    max: [{ type: Input }],
    min: [{ type: Input }],
    format: [{ type: Input }],
    disabledDays: [{ type: Input }],
    endTimeDisabled: [{ type: Input }],
    beginTimeDisabled: [{ type: Input }],
    focusedPosition: [{ type: Input }],
    selectTime: [{ type: Input }],
    beginTime: [{ type: Input }],
    endTime: [{ type: Input }],
    isRange: [{ type: Input }],
    isBeginFixed: [{ type: Input }],
    isEndFixed: [{ type: Input }],
    select: [{ type: Output }],
    selectTimeFn: [{ type: Output }],
    nextRef: [{ type: ViewChild, args: ['next', { static: true },] }],
    beginHourContainerRef: [{ type: ViewChild, args: ['beginHourContainer', { static: true },] }],
    beginMinuteContainerRef: [{ type: ViewChild, args: ['beginMinuteContainer', { static: true },] }],
    beginSecondContainerRef: [{ type: ViewChild, args: ['beginSecondContainer', { static: true },] }],
    endHourContainerRef: [{ type: ViewChild, args: ['endHourContainer', { static: true },] }],
    endMinuteContainerRef: [{ type: ViewChild, args: ['endMinuteContainer', { static: true },] }],
    endSecondContainerRef: [{ type: ViewChild, args: ['endSecondContainer', { static: true },] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGlEYXRlUGFuZWxDb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9AY2xvdWQvdGlueTMvY29tcG9uZW50cy9kYXRlcGFuZWwvVGlEYXRlUGFuZWxDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILFNBQVMsRUFDVCxVQUFVLEVBQ1YsWUFBWSxFQUNaLEtBQUssRUFDTCxNQUFNLEVBQ04sU0FBUyxFQUVULFNBQVMsRUFDWixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxRQUFRLEVBQWlCLE1BQU0sNkJBQTZCLENBQUM7QUFDdEUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRXZELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQTZDekQ7O0dBRUc7QUFPSCxNQUFNLE9BQU8sb0JBQXFCLFNBQVEsZUFBZTtJQTBHdEQsWUFBc0IsTUFBaUIsRUFDakIsT0FBbUIsRUFDdEIsSUFBcUI7UUFFbkMsS0FBSyxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztRQUpOLFdBQU0sR0FBTixNQUFNLENBQVc7UUFDakIsWUFBTyxHQUFQLE9BQU8sQ0FBWTtRQUN0QixTQUFJLEdBQUosSUFBSSxDQUFpQjtRQTFHckIsZ0JBQVcsR0FBOEIsSUFBSSxZQUFZLEVBQWUsQ0FBQztRQUVuRixXQUFNLEdBQVcsS0FBSyxDQUFDLENBQUMsWUFBWTtRQUMxQixpQkFBWSxHQUF5QixJQUFJLFlBQVksRUFBVSxDQUFDO1FBa0NsRjs7V0FFRztRQUNLLGlCQUFZLEdBQVksS0FBSyxDQUFDO1FBQ3ZDOztXQUVHO1FBQ00sZUFBVSxHQUFZLEtBQUssQ0FBQztRQUVyQywwQkFBMEI7UUFDMUIsZ0VBQWdFO1FBQzdDLFdBQU0sR0FBc0IsSUFB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LEtBQUssU0FBUyxFQUFFO1lBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFlLENBQUM7WUFDdEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxZQUFZLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQzlFLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLGVBQWUsWUFBWSxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMxRixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNyRSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7Z0JBQ3JHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDNUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ2pGLFNBQVM7WUFDVCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFO2dCQUNqQyxJQUFJLElBQUksQ0FBQyxlQUFlLEtBQUssT0FBTyxFQUFFO29CQUNsQyxJ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R0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFO2dCQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQzthQUM3QztTQUNKO1FBRUQsbUNBQW1DO1FBQ25DLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsRUFBRTtZQUMxQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3hDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFO2dCQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQzthQUM3QztTQUNKO1FBRUQsc0JBQXNCO1FBQ3RCLE1BQU0sS0FBSyxHQUFXLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUMzRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLFlBQVksTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDOUUsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsZUFBZSxZQUFZLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQzFGLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3JFLElBQUksQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNqRixJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7WUFDckcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM1QyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2SCxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEdBQUcsS0FBSyxNQUFNLEtBQUssR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUMxRCxJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLEdBQUcsR0FBRyxLQUFLLEdBQUcsRUFBRSxNQUFNLEtBQUssR0FBRyxFQUFFLEVBQUUsQ0FBQztJQUM1RSxDQUFDO0lBRUQ7Ozs7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QUFLO2tCQUNMLEtBQUs7a0JBQ0wsS0FBSztxQkFDTCxLQUFLOzJCQUNMLEtBQUs7OEJBQ0wsS0FBSztnQ0FDTCxLQUFLOzhCQUtMLEtBQUs7eUJBS0wsS0FBSzt3QkFLTCxLQUFLO3NCQUtMLEtBQUs7c0JBS0wsS0FBSzsyQkFJTCxLQUFLO3lCQUlMLEtBQUs7cUJBSUwsTUFBTTsyQkFFTixNQUFNO3NCQUVOLFNBQVMsU0FBQyxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO29DQUNsQyxTQUFTLFNBQUMsb0JBQW9CLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO3NDQUNoRCxTQUFTLFNBQUMsc0JBQXNCLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO3NDQUNsRCxTQUFTLFNBQUMsc0JBQXNCLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO2tDQUNsRCxTQUFTLFNBQUMsa0JBQWtCLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO29DQUM5QyxTQUFTLFNBQUMsb0JBQW9CLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO29DQUNoRCxTQUFTLFNBQUMsb0JBQW9CLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIENvbXBvbmVudCxcclxuICAgIEVsZW1lbnRSZWYsXHJcbiAgICBFdmVudEVtaXR0ZXIsXHJcbiAgICBJbnB1dCxcclxuICAgIE91dHB1dCxcclxuICAgIFJlbmRlcmVyMixcclxuICAgIFNpbXBsZUNoYW5nZXMsXHJcbiAgICBWaWV3Q2hpbGRcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVGlEYXRlVXRpbCwgVXRpbCB9IGZyb20gJy4uLy4uL3V0aWxzL1V0aWwnO1xyXG5pbXBvcnQgeyBUaUxvY2FsZSwgVGlMb2NhbGVXb3JkcyB9IGZyb20gJy4uLy4uL2xvY2FsZS9UaUxvY2FsZU1vZHVsZSc7XHJcbmltcG9ydCB7IFRpQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UvVGlCYXNlTW9kdWxlJztcclxuaW1wb3J0IHsgVGlEYXRlVmFsdWUsIFRpbWVPcHRpb25zIH0gZnJvbSAnLi4vZGF0ZWJhc2UvVGlEYXRlQmFzZU1vZHVsZSc7XHJcbmltcG9ydCB7IFRpRHJvcENvbXBvbmVudCB9IGZyb20gJy4vLi4vZHJvcC9UaURyb3BNb2R1bGUnO1xyXG5pbXBvcnQgeyBUaUxpc3RDb21wb25lbnQgfSBmcm9tICcuLi9saXN0L1RpTGlzdE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKiDpnaLmnb/lhoXpg6jlubTmnIjml6VcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGlEYXRlUGFuZWwge1xyXG4gICAgeWVhcjogbnVtYmVyO1xyXG4gICAgbW9udGg6IG51bWJlcjtcclxuICAgIGRheTogbnVtYmVyO1xyXG4gfVxyXG5cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICog6Z2i5p2/5aS06YOo5pi+56S65paH5pys5o6l5Y+jXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFRpUGlja2VySGVhZFRleHQge1xyXG4gICAgeWVhcj86IHN0cmluZztcclxuICAgIG1vbnRoPzogc3RyaW5nO1xyXG4gICAgeWVhclJhbmdlPzogc3RyaW5nO1xyXG4gICAgZW5kcGFuZWxZZWFyUmFuZ2U/OiBzdHJpbmc7XHJcbiAgICBvbmx5WWVhcj86IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICog5bm05pyI5pel5pWw5o2u55qE5o6l5Y+j77yac3RhdGXnirbmgIHvvJt2YWx1ZeW5tOaciOaXpeWAvFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBUaURhdGVWYWx1ZUFuZFN0YXRlIHtcclxuICAgIHN0YXRlOiBzdHJpbmc7IC8vIOmdouadv+S4reavj+S4quW5tOaciOaXpeWFt+S9k+eahOeKtuaAge+8muaXpeacn++8mueKtuaAgeWAvOS4uuS4iuS4quaciOaXpeacn++8jOW9k+WJjeaciOaXpeacn++8jOS4i+S4quaciOaXpeacn1xyXG4gICAgdmFsdWU6IG51bWJlciB8IHN0cmluZzsgLy8gVE9ETzrnsbvlnovkuLpzdHJpbmfmiJZudW1iZXI65q2k5aSE5aSE55CGIHRoaXMubG9jYWwubW9udGhBcnIuaW5kZXhPZihtb250aC52YWx1ZSArICcnKVxyXG4gICAgaXNUb2RheT86IGJvb2xlYW47XHJcbiAgICBpc01vbnRoPzogYm9vbGVhbjtcclxuICAgIGlzWWVhcj86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqIOacgOWkp+W5tOacgOWwj+W5tOiMg+WbtFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBUaVllYXJSYW5nZSB7XHJcbiAgICBtaW46IG51bWJlcjtcclxuICAgIG1heDogbnVtYmVyO1xyXG4gfVxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuQENvbXBvbmVudCh7XHJcbiAgIHNlbGVjdG9yOiAndGktZGF0ZS1wYW5lbCcsXHJcbiAgIHRlbXBsYXRlVXJsOiAnLi9kYXRlcGFuZWwuaHRtbCcsXHJcbiAgIHN0eWxlVXJsczogWycuL2RhdGVwYW5lbC5sZXNzJ11cclxufSlcclxuXHJcbmV4cG9ydCBjbGFzcyBUaURhdGVQYW5lbENvbXBvbmVudCBleHRlbmRzIFRpQmFzZUNvbXBvbmVudCB7XHJcbiAgIEBJbnB1dCgpIHZhbHVlOiBUaURhdGVWYWx1ZTtcclxuICAgQE91dHB1dCgpIHJlYWRvbmx5IHZhbHVlQ2hhbmdlOiBFdmVudEVtaXR0ZXI8VGlEYXRlVmFsdWU+ID0gbmV3IEV2ZW50RW1pdHRlcjxUaURhdGVWYWx1ZT4oKTtcclxuXHJcbiAgIEBJbnB1dCgpIHBpY2tlcjogc3RyaW5nID0gJ2RheSc7IC8vIOiuvue9ruW5tOOAgeaciOOAgeaXpemdouadv1xyXG4gICBAT3V0cHV0KCkgcmVhZG9ubHkgcGlja2VyQ2hhbmdlOiBFdmVudEVtaXR0ZXI8c3RyaW5nPiA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xyXG5cclxuICAgQElucHV0KCkgbm93RGF0ZVRpbWU6IERhdGU7XHJcbiAgIEBJbnB1dCgpIG1heDogRGF0ZTtcclxuICAgQElucHV0KCkgbWluOiBEYXRlO1xyXG4gICBASW5wdXQoKSBmb3JtYXQ6IHN0cmluZztcclxuICAgQElucHV0KCkgZGlzYWJsZWREYXlzOiBBcnJheTxEYXRlPjtcclxuICAgQElucHV0KCkgZW5kVGltZURpc2FibGVkOiBib29sZWFuO1xyXG4gICBASW5wdXQoKSBiZWdpblRpbWVEaXNhYmxlZDogYm9vbGVhbjtcclxuICAgLyoqXHJcbiAgICAqIEBpZ25vcmVcclxuICAgICog6Z2i5p2/5YaF6YOo54Sm54K55L2N572u5qCH5b+X6YePXHJcbiAgICAqL1xyXG4gICBASW5wdXQoKSBmb2N1c2VkUG9zaXRpb246IHN0cmluZztcclxuICAgLyoqXHJcbiAgICAqIEBpZ25vcmVcclxuICAgICog6Z2i5p2/5ZGI546w6YCJ5oup5pe26Ze05oiW6ICF6YCJ5oup5pel5pyfIOagh+W/l+mHj1xyXG4gICAgKi9cclxuICAgQElucHV0KCkgc2VsZWN0VGltZTogYm9vbGVhbjtcclxuICAgLyoqXHJcbiAgICAqIEBpZ25vcmVcclxuICAgICog5byA5aeL5pe26Ze0XHJcbiAgICAqL1xyXG4gICBASW5wdXQoKSBiZWdpblRpbWU6IFRpbWVPcHRpb25zO1xyXG4gICAvKipcclxuICAgICogQGlnbm9yZVxyXG4gICAgKiDnu5PmnZ/ml7bpl7RcclxuICAgICovXHJcbiAgIEBJbnB1dCgpIGVuZFRpbWU6IFRpbWVPcHRpb25zO1xyXG4gICAvKipcclxuICAgICogQGlnbm9yZVxyXG4gICAgKiDliKTmlq3mmK/ljZXml6XmnJ/vvIjml7bpl7TvvInov5jmmK/ml6XmnJ/vvIjml7bpl7TvvInmrrVcclxuICAgICovXHJcbiAgIEBJbnB1dCgpIGlzUmFuZ2U6IGJvb2xlYW47XHJcbiAgICAvKipcclxuICAgICAqIOW8gOWni+aXpeacn+aYr+WQpuemgeeUqFxyXG4gICAgICovXHJcbiAgIEBJbnB1dCgpIGlzQmVnaW5GaXhlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAvKipcclxuICAgICog57uT5p2f5pel5pyf5piv5ZCm56aB55SoXHJcbiAgICAqL1xyXG4gICBASW5wdXQoKSBpc0VuZEZpeGVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAvLyDml6XmnJ/pnaLmnb/vvIzmnIjku73pnaLmnb/ngrnlh7vmr4/kuKrml6XmnJ/jgIHmnIjku73nmoTkuovku7blm57osINcclxuICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLW91dHB1dC1uYW1lZC1hZnRlci1zdGFuZGFyZC1ldmVudFxyXG4gICBAT3V0cHV0KCkgcmVhZG9ubHkgc2VsZWN0OiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gICAvLyDml7bpl7TpnaLmnb/pgInmi6nml7bliIbnp5LnmoTkuovku7blm57osINcclxuICAgQE91dHB1dCgpIHJlYWRvbmx5IHNlbGVjdFRpbWVGbjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuXHJcbiAgIEBWaWV3Q2hpbGQoJ25leHQnLCB7IHN0YXRpYzogdHJ1ZSB9KSBuZXh0UmVmOiBFbGVtZW50UmVmO1xyXG4gICBAVmlld0NoaWxkKCdiZWdpbkhvdXJDb250YWluZXInLCB7IHN0YXRpYzogdHJ1ZSB9KSBwcml2YXRlIGJlZ2luSG91ckNvbnRhaW5lclJlZjogRWxlbWVudFJlZjtcclxuICAgQFZpZXdDaGlsZCgnYmVnaW5NaW51dGVDb250YWluZXInLCB7IHN0YXRpYzogdHJ1ZSB9KSBwcml2YXRlIGJlZ2luTWludXRlQ29udGFpbmVyUmVmOiBFbGVtZW50UmVmO1xyXG4gICBAVmlld0NoaWxkKCdiZWdpblNlY29uZENvbnRhaW5lcicsIHsgc3RhdGljOiB0cnVlIH0pIHByaXZhdGUgYmVnaW5TZWNvbmRDb250YWluZXJSZWY6IEVsZW1lbnRSZWY7XHJcbiAgIEBWaWV3Q2hpbGQoJ2VuZEhvdXJDb250YWluZXInLCB7IHN0YXRpYzogdHJ1ZSB9KSBwcml2YXRlIGVuZEhvdXJDb250YWluZXJSZWY6IEVsZW1lbnRSZWY7XHJcbiAgIEBWaWV3Q2hpbGQoJ2VuZE1pbnV0ZUNvbnRhaW5lcicsIHsgc3RhdGljOiB0cnVlIH0pIHByaXZhdGUgZW5kTWludXRlQ29udGFpbmVyUmVmOiBFbGVtZW50UmVmO1xyXG4gICBAVmlld0NoaWxkKCdlbmRTZWNvbmRDb250YWluZXInLCB7IHN0YXRpYzogdHJ1ZSB9KSBwcml2YXRlIGVuZFNlY29uZENvbnRhaW5lclJlZjogRWxlbWVudFJlZjtcclxuICAgcHJpdmF0ZSBkYXRlOiBUaURhdGVQYW5lbDsgLy8g5YaF6YOo5pe26Ze05YC877ya5YyF5ous5bm05pyI5pelXHJcbiAgIHB1YmxpYyBkYXlBcnI6IEFycmF5PEFycmF5PFRpRGF0ZVZhbHVlQW5kU3RhdGU+PiA9IFtdO1xyXG4gICBwdWJsaWMgbmV4dGRheUFycjogQXJyYXk8QXJyYXk8VGlEYXRlVmFsdWVBbmRTdGF0ZT4+ID0gW107XHJcbiAgIHB1YmxpYyBtb250aEFycjogQXJyYXk8QXJyYXk8VGlEYXRlVmFsdWVBbmRTdGF0ZT4+ID0gW107XHJcbiAgIHB1YmxpYyBlbmRwYW5lbE1vbnRoQXJyOiBBcnJheTxBcnJheTxUaURhdGVWYWx1ZUFuZFN0YXRlPj4gPSBbXTtcclxuICAgcHVibGljIHllYXJBcnI6IEFycmF5PEFycmF5PFRpRGF0ZVZhbHVlQW5kU3RhdGU+PiA9IFtdO1xyXG4gICBwdWJsaWMgZW5kcGFuZWxZZWFyQXJyOiBBcnJheTxBcnJheTxUaURhdGVWYWx1ZUFuZFN0YXRlPj4gPSBbXTtcclxuICAgcHVibGljIHBpY2tlclZhbHVlOiBUaVBpY2tlckhlYWRUZXh0ID0ge307IC8vIOmdouadv+WktOmDqOaYvuekuuaWh+acrOaVsOaNrlxyXG4gICBwdWJsaWMgbmV4dFBpY2tlclZhbHVlOiBUaVBpY2tlckhlYWRUZXh0ID0ge307IC8vIOmdouadv+WktOmDqOaYvuekuuaWh+acrOaVsOaNrlxyXG4gICBwdWJsaWMgaXNNYXhNb250aDogYm9vbGVhbjtcclxuICAgcHVibGljIGlzTWluTW9udGg6IGJvb2xlYW47XHJcbiAgIHByaXZhdGUgaXNNYXhZZWFyOiBib29sZWFuO1xyXG4gICBwcml2YXRlIGlzTWluWWVhcjogYm9vbGVhbjtcclxuICAgcHJpdmF0ZSBpc01heFllYXJSYW5nZTogYm9vbGVhbjtcclxuICAgcHJpdmF0ZSBpc01pblllYXJSYW5nZTogYm9vbGVhbjtcclxuICAgcHJpdmF0ZSBvbGRWYWx1ZTogVGlEYXRlVmFsdWUgPSB7IC8vIOW9k+WIneWni+WAvOS4um51bGzml7bvvIzlgZrmlrDml6flgLzlr7nmr5TmuLLmn5Pml7bpl7TpnaLmnb9cclxuICAgICAgIGJlZ2luOiB1bmRlZmluZWQsXHJcbiAgICAgICBlbmQ6IHVuZGVmaW5lZFxyXG4gICB9O1xyXG4gICBwdWJsaWMgaG91ck9wdGlvbnM6IEFycmF5PGFueT4gPSB0aGlzLnNldE9wdGlvbnMoMjQpO1xyXG4gICBwdWJsaWMgbWludXRlT3B0aW9uczogQXJyYXk8YW55PiA9IHRoaXMuc2V0T3B0aW9ucyg2MCk7XHJcbiAgIHB1YmxpYyBzZWNvbmRPcHRpb25zOiBBcnJheTxhbnk+ID0gdGhpcy5zZXRPcHRpb25zKDYwKTtcclxuICAgcHVibGljIGVuZEhvdXJPcHRpb25zOiBBcnJheTxhbnk+ID0gdGhpcy5zZXRPcHRpb25zKDI0KTtcclxuICAgcHVibGljIGVuZE1pbnV0ZU9wdGlvbnM6IEFycmF5PGFueT4gPSB0aGlzLnNldE9wdGlvbnMoNjApO1xyXG4gICBwdWJsaWMgZW5kU2Vjb25kT3B0aW9uczogQXJyYXk8YW55PiA9IHRoaXMuc2V0T3B0aW9ucyg2MCk7XHJcbiAgIHB1YmxpYyBiZWdpbkhvdXI6IGFueTtcclxuICAgcHVibGljIGJlZ2luTWludXRlOiBhbnk7XHJcbiAgIHB1YmxpYyBiZWdpblNlY29uZDogYW55O1xyXG4gICBwdWJsaWMgZW5kSG91cjogYW55O1xyXG4gICBwdWJsaWMgZW5kTWludXRlOiBhbnk7XHJcbiAgIHB1YmxpYyBlbmRTZWNvbmQ6IGFueTtcclxuICAgcHVibGljIGlzQ2hpbmVzZTogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIGxvY2FsOiB7XHJcbiAgICAgICAgd2Vla0FycjogQXJyYXk8c3RyaW5nPixcclxuICAgICAgICB3ZWVrVGl0bGVBcnI6IEFycmF5PHN0cmluZz4sXHJcbiAgICAgICAgbW9udGhBcnI6IEFycmF5PHN0cmluZz4sXHJcbiAgICAgICAgeWVhclRleHQ6IHN0cmluZ1xyXG4gICAgfSA9IHtcclxuICAgICAgICAgICAgd2Vla0FycjogW10sXHJcbiAgICAgICAgICAgIHdlZWtUaXRsZUFycjogW10sXHJcbiAgICAgICAgICAgIG1vbnRoQXJyOiBbXSxcclxuICAgICAgICAgICAgeWVhclRleHQ6ICcnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCByZW5kZXI6IFJlbmRlcmVyMixcclxuICAgICAgICAgICAgICAgcHJvdGVjdGVkIGhvc3RSZWY6IEVsZW1lbnRSZWYsXHJcbiAgICAgICAgICAgICAgIHB1YmxpYyBkcm9wOiBUaURyb3BDb21wb25lbnRcclxuICAgICkge1xyXG4gICAgICAgIHN1cGVyKGhvc3RSZWYsIHJlbmRlcik7XHJcbiAgIH1cclxuXHJcbiAgICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xyXG4gICAgICAgIGNvbnN0IGxvY2FsZVdvcmRzOiBUaUxvY2FsZVdvcmRzID0gVGlMb2NhbGUuZ2V0TG9jYWxlV29yZHMoKTtcclxuICAgICAgICB0aGlzLmlzQ2hpbmVzZSA9IGxvY2FsZVdvcmRzLnRpTG9jYWxlS2V5ID09PSBUaUxvY2FsZS5aSF9DTjtcclxuICAgICAgICB0aGlzLmxvY2FsID0ge1xyXG4gICAgICAgICAgICB3ZWVrQXJyOiBsb2NhbGVXb3Jkcy50aURhdGVbJ3dlZWtOYW1lc0FiYiddLFxyXG4gICAgICAgICAgICB3ZWVrVGl0bGVBcnI6IGxvY2FsZVdvcmRzLnRpRGF0ZVsnd2Vla25hbWVzVGl0bGUnXSxcclxuICAgICAgICAgICAgbW9udGhBcnI6IGxvY2FsZVdvcmRzLnRpRGF0ZVsnbW9udGhOYW1lc0FiYiddLFxyXG4gICAgICAgICAgICB5ZWFyVGV4dDogbG9jYWxlV29yZHMudGlEYXRlWyd5ZWFyU3VmZml4TGFiZWwnXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5kcm9wLmRyb3BTdWJqZWN0LnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLmxpc3Rlbih0aGlzLm5hdGl2ZUVsZW1lbnQsICdtb3VzZWRvd24nLCAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8g6Ziy5q2iZG9taW5hdG9yIGJsdXLooYzkuLpcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNoYW5nZXNbJ2VuZFRpbWVEaXNhYmxlZCddICYmICFjaGFuZ2VzWydlbmRUaW1lRGlzYWJsZWQnXS5maXJzdENoYW5nZSkge1xyXG4gICAgICAgICAgICB0aGlzLmVuZEhvdXJPcHRpb25zID0gdGhpcy5zZXRPcHRpb25zKDI0LCAnZW5kJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kTWludXRlT3B0aW9ucyA9IHRoaXMuc2V0T3B0aW9ucyg2MCwgJ2VuZCcpO1xyXG4gICAgICAgICAgICB0aGlzLmVuZFNlY29uZE9wdGlvbnMgPSB0aGlzLnNldE9wdGlvbnMoNjAsICdlbmQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoYW5nZXNbJ2JlZ2luVGltZURpc2FibGVkJ10gJiYgIWNoYW5nZXNbJ2JlZ2luVGltZURpc2FibGVkJ10uZmlyc3RDaGFuZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3VyT3B0aW9ucyA9IHRoaXMuc2V0T3B0aW9ucygyNCk7XHJcbiAgICAgICAgICAgIHRoaXMubWludXRlT3B0aW9ucyA9IHRoaXMuc2V0T3B0aW9ucyg2MCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kT3B0aW9ucyA9IHRoaXMuc2V0T3B0aW9ucyg2MCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZvcm1hdOaUr+aMgeWKqOaAgeWPmOabtFxyXG4gICAgICAgIGlmIChjaGFuZ2VzWydwaWNrZXInXSAmJiAhY2hhbmdlc1sncGlja2VyJ10uZmlyc3RDaGFuZ2UpIHtcclxuICAgICAgICAgICAgaWYgKFV0aWwuaXNVbmRlZmluZWQodGhpcy5kYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyDorr7nva7kuIvmi4npnaLmnb/nmoTmlbDmja5cclxuICAgICAgICAgICAgdGhpcy5zZXREYXRlUGFuZWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5pyA5aSn5pyA5bCP5YC85pu05paw5pe277yM6ZyA6KaB5pu05paw6Z2i5p2/5p2l5L+d6K+B5pyA5aSn5pyA5bCP5YC85aSW55qE56aB55So5pyJ5pWIXHJcbiAgICAgICAgaWYgKChjaGFuZ2VzWydtYXgnXSAmJiAhY2hhbmdlc1snbWF4J10uZmlyc3RDaGFuZ2UpIHx8IChjaGFuZ2VzWydtaW4nXSAmJiAhY2hhbmdlc1snbWluJ10uZmlyc3RDaGFuZ2UpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGF0ZVBhbmVsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOagueaNruS8oOWFpeWAvOehruWumuaXtumXtOS4i+aLiemAieaLqemhuVxyXG4gICAgICAgIGlmIChjaGFuZ2VzWydzZWxlY3RUaW1lJ10gJiYgIWNoYW5nZXNbJ3NlbGVjdFRpbWUnXS5maXJzdENoYW5nZSkge1xyXG4gICAgICAgICAgICBjb25zdCBiZWdpblRpbWVTdHJBcnI6IEFycmF5PGFueT4gPSB0aGlzLmJlZ2luVGltZS52YWx1ZS5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICB0aGlzLmJlZ2luSG91ciA9IHRoaXMuaG91ck9wdGlvbnMuZmluZCgoaXRlbTogYW55KSA9PiBpdGVtLmxhYmVsID09PSBiZWdpblRpbWVTdHJBcnJbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLmJlZ2luTWludXRlID0gdGhpcy5taW51dGVPcHRpb25zLmZpbmQoKGl0ZW06IGFueSkgPT4gaXRlbS5sYWJlbCA9PT0gYmVnaW5UaW1lU3RyQXJyWzFdKTtcclxuICAgICAgICAgICAgdGhpcy5iZWdpblNlY29uZCA9IHRoaXMuc2Vjb25kT3B0aW9ucy5maW5kKChpdGVtOiBhbnkpID0+IGl0ZW0ubGFiZWwgPT09IGJlZ2luVGltZVN0ckFyclsyXSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5lbmRUaW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZFRpbWVTdHJBcnI6IEFycmF5PGFueT4gPSB0aGlzLmVuZFRpbWUudmFsdWUuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgdGhpcy5lbmRIb3VyID0gdGhpcy5lbmRIb3VyT3B0aW9ucy5maW5kKChpdGVtOiBhbnkpID0+IGl0ZW0ubGFiZWwgPT09IGVuZFRpbWVTdHJBcnJbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLmVuZE1pbnV0ZSA9IHRoaXMuZW5kTWludXRlT3B0aW9ucy5maW5kKChpdGVtOiBhbnkpID0+IGl0ZW0ubGFiZWwgPT09IGVuZFRpbWVTdHJBcnJbMV0pO1xyXG4gICAgICAgICAgICB0aGlzLmVuZFNlY29uZCA9IHRoaXMuZW5kU2Vjb25kT3B0aW9ucy5maW5kKChpdGVtOiBhbnkpID0+IGl0ZW0ubGFiZWwgPT09IGVuZFRpbWVTdHJBcnJbMl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lSGFuZGxlRm4odGhpcy5iZWdpbkhvdXIsIHRoaXMuYmVnaW5Ib3VyQ29udGFpbmVyUmVmKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZUhhbmRsZUZuKHRoaXMuYmVnaW5NaW51dGUsIHRoaXMuYmVnaW5NaW51dGVDb250YWluZXJSZWYpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lSGFuZGxlRm4odGhpcy5iZWdpblNlY29uZCwgdGhpcy5iZWdpblNlY29uZENvbnRhaW5lclJlZik7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lSGFuZGxlRm4odGhpcy5lbmRIb3VyLCB0aGlzLmVuZEhvdXJDb250YWluZXJSZWYpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZUhhbmRsZUZuKHRoaXMuZW5kTWludXRlLCB0aGlzLmVuZE1pbnV0ZUNvbnRhaW5lclJlZik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lSGFuZGxlRm4odGhpcy5lbmRTZWNvbmQsIHRoaXMuZW5kU2Vjb25kQ29udGFpbmVyUmVmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlc1snYmVnaW5UaW1lJ10gJiYgIWNoYW5nZXNbJ2JlZ2luVGltZSddLmZpcnN0Q2hhbmdlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJlZ2luVGltZUFycjogQXJyYXk8YW55PiA9IGNoYW5nZXNbJ2JlZ2luVGltZSddLmN1cnJlbnRWYWx1ZS52YWx1ZS5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICB0aGlzLmJlZ2luSG91ciA9IHRoaXMuaG91ck9wdGlvbnMuZmluZCgoaXRlbTogYW55KSA9PiBpdGVtLmxhYmVsID09PSBiZWdpblRpbWVBcnJbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLmJlZ2luTWludXRlID0gdGhpcy5taW51dGVPcHRpb25zLmZpbmQoKGl0ZW06IGFueSkgPT4gaXRlbS5sYWJlbCA9PT0gYmVnaW5UaW1lQXJyWzFdKTtcclxuICAgICAgICAgICAgdGhpcy5iZWdpblNlY29uZCA9IHRoaXMuc2Vjb25kT3B0aW9ucy5maW5kKChpdGVtOiBhbnkpID0+IGl0ZW0ubGFiZWwgPT09IGJlZ2luVGltZUFyclsyXSk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZUhhbmRsZUZuKHRoaXMuYmVnaW5Ib3VyLCB0aGlzLmJlZ2luSG91ckNvbnRhaW5lclJlZik7XHJcbiAgICAgICAgICAgIHRoaXMudGltZUhhbmRsZUZuKHRoaXMuYmVnaW5NaW51dGUsIHRoaXMuYmVnaW5NaW51dGVDb250YWluZXJSZWYpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVIYW5kbGVGbih0aGlzLmJlZ2luU2Vjb25kLCB0aGlzLmJlZ2luU2Vjb25kQ29udGFpbmVyUmVmKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VzWydlbmRUaW1lJ10gJiYgIWNoYW5nZXNbJ2VuZFRpbWUnXS5maXJzdENoYW5nZSkge1xyXG4gICAgICAgICAgICBjb25zdCBlbmRUaW1lQXJyOiBBcnJheTxhbnk+ID0gY2hhbmdlc1snZW5kVGltZSddLmN1cnJlbnRWYWx1ZS52YWx1ZS5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICB0aGlzLmVuZEhvdXIgPSB0aGlzLmVuZEhvdXJPcHRpb25zLmZpbmQoKGl0ZW06IGFueSkgPT4gaXRlbS5sYWJlbCA9PT0gZW5kVGltZUFyclswXSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kTWludXRlID0gdGhpcy5lbmRNaW51dGVPcHRpb25zLmZpbmQoKGl0ZW06IGFueSkgPT4gaXRlbS5sYWJlbCA9PT0gZW5kVGltZUFyclsxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kU2Vjb25kID0gdGhpcy5lbmRTZWNvbmRPcHRpb25zLmZpbmQoKGl0ZW06IGFueSkgPT4gaXRlbS5sYWJlbCA9PT0gZW5kVGltZUFyclsyXSk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZUhhbmRsZUZuKHRoaXMuZW5kSG91ciwgdGhpcy5lbmRIb3VyQ29udGFpbmVyUmVmKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lSGFuZGxlRm4odGhpcy5lbmRNaW51dGUsIHRoaXMuZW5kTWludXRlQ29udGFpbmVyUmVmKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lSGFuZGxlRm4odGhpcy5lbmRTZWNvbmQsIHRoaXMuZW5kU2Vjb25kQ29udGFpbmVyUmVmKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdGltZUhhbmRsZUZuKG1vZGVsOiBhbnksIGVsZTogRWxlbWVudFJlZikge1xyXG4gICAgICAgIGlmIChtb2RlbCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaW5kZXg6IG51bWJlciA9IG1vZGVsLmxhYmVsO1xyXG4gICAgICAgIHRoaXMucmVuZGVyLnNldFByb3BlcnR5KGVsZS5uYXRpdmVFbGVtZW50LmNoaWxkcmVuWzBdLCAnc2Nyb2xsVG9wJywgaW5kZXggKiAzMCk7XHJcbiAgICAgICAgLy8gVE9ETyDliqjnlLvmlYjmnpxcclxuICAgIH1cclxuXHJcbiAgICBuZ0RvQ2hlY2soKTogdm9pZCB7XHJcbiAgICAgICBzdXBlci5uZ0RvQ2hlY2soKTtcclxuXHJcbiAgICAgICAvLyDlj6rmnInngrnlh7vpnaLmnb/miZPlvIDml7bvvIzmiY3kvJrmnInmjqXlj6PlgLzvvIzpnIDopoHmuLLmn5PpnaLmnb/vvIzlnKjmsqHmnInmiZPlvIDml7bpl7Tml6XmnJ/pnaLmnb/ml7bkuI3pnIDopoHmuLLmn5PpnaLmnb/mlbDmja5cclxuICAgICAgIGlmIChVdGlsLmlzVW5kZWZpbmVkKHRoaXMudmFsdWUpIHx8IFV0aWwuaXNVbmRlZmluZWQodGhpcy5tYXgpKSB7XHJcbiAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgIGlmICghVGlEYXRlVXRpbC5pc0RhdGVFcXVhbCh0aGlzLm9sZFZhbHVlWydiZWdpbiddLCB0aGlzLnZhbHVlWydiZWdpbiddKSB8fFxyXG4gICAgICAgICAgICFUaURhdGVVdGlsLmlzRGF0ZUVxdWFsKHRoaXMub2xkVmFsdWVbJ2VuZCddLCB0aGlzLnZhbHVlWydlbmQnXSkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLm9sZFZhbHVlID0ge1xyXG4gICAgICAgICAgICAgICAgYmVnaW46IHRoaXMudmFsdWUuYmVnaW4sXHJcbiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMudmFsdWUuZW5kXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5aSE55CG5bem5L6n5bm05ZCO6YCA5oyJ6ZKu5LqL5Lu2XHJcbiAgICBvblByZVllYXJDbGljayhldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOacgOWwj+aciO+8jOacgOWwj+W5tO+8jOacgOWwj+W5tOaXtumXtOaute+8muW3puaMiemSrueBsOWMllxyXG4gICAgICAgIGlmICh0aGlzLmlzUGlja2VyWWVhck1pblZhbHVlKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5pel5pyf5ZKM5pyI5Lu96Z2i5p2/XHJcbiAgICAgICAgaWYgKHRoaXMucGlja2VyID09PSAnZGF5JyB8fCB0aGlzLnBpY2tlciA9PT0gJ21vbnRoJyB8fCB0aGlzLnBpY2tlciA9PT0gJ29ubHlZZWFyTW9udGgnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHllYXI6IG51bWJlciA9IHRoaXMuZGF0ZS55ZWFyIC0gMTsgLy8g5bm05Lu95YePMVxyXG4gICAgICAgICAgICBpZiAoeWVhciA+PSB0aGlzLm1pbi5nZXRGdWxsWWVhcigpKSB7IC8vIOW9k+W5tOS7veWkp+S6juetieS6juacgOWwj+WAvFxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRlLnllYXIgPSB5ZWFyO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTbWFsbGVyVGhhbk1pbk1vbnRoKHllYXIsIHRoaXMuZGF0ZS5tb250aCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0ZS5tb250aCA9IHRoaXMubWluLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRZZWFyTW9udGhUZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByZU5leHRTdGF0ZSh5ZWFyLCB0aGlzLmRhdGUubW9udGgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXREYXlNb250aEFycih0aGlzLnBpY2tlcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOW5tOmdouadv1xyXG4gICAgICAgIGlmICh0aGlzLnBpY2tlciA9PT0gJ3llYXInKSB7XHJcbiAgICAgICAgICAgIC8vIOW9k+WJjeW5tOWHjzEwXHJcbiAgICAgICAgICAgIGNvbnN0IHllYXI6IG51bWJlciA9IHRoaXMuZGF0ZS55ZWFyIC0gMTA7IC8vIOW5tOS7veWHjzEwXHJcbiAgICAgICAgICAgIGNvbnN0IG1pblZhbHVlUmFuZ2U6IFRpWWVhclJhbmdlID0gdGhpcy5nZXRZZWFyUmFuZ2UodGhpcy5taW4uZ2V0RnVsbFllYXIoKSk7IC8vIOacgOWwj+W5tO+8muW5tOmdouadv+eahOiMg+WbtFxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50WWVhclJhbmdlOiBUaVllYXJSYW5nZSA9IHRoaXMuZ2V0WWVhclJhbmdlKHllYXIpOyAvLyDlvZPliY3lubTpnaLmnb/nmoTojIPlm7RcclxuICAgICAgICAgICAgLy8g5b2T5bm05Lu95aSn5LqO562J5LqO5pyA5bCP5bm06Z2i5p2/55qE5pyA5bCP5YC85piv5pyJ5pWI55qEXHJcbiAgICAgICAgICAgIGlmICh5ZWFyID49IG1pblZhbHVlUmFuZ2UubWluKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGUueWVhciA9IGN1cnJlbnRZZWFyUmFuZ2UubWluOyAvLyDpu5jorqTot7PovazliLDlubTpnaLmnb/nmoTnrKzkuIDkuKrmnInmlYjlubRcclxuICAgICAgICAgICAgICAgIC8vIOiuvue9ruS4i+aLiemdouadv+WktOmDqOaYvuekuuaWh+acrFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRZZWFyTW9udGhUZXh0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g6K6+572u5bem5Y+z6ZSu54q25oCBXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFllYXJSYW5nZVByZU5leHRTdGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOiuvue9ruW5tOS7vemdouadv+eahOWAvOWSjOeKtuaAgVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRZZWFyQXJyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFbmRwYW5lbFllYXJBcnIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDlpITnkIblt6bkvqfmnIjlkI7pgIDmjInpkq7kuovku7ZcclxuICAgIG9uUHJlTW9udGhDbGljayhldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOacgOWwj+aciO+8jOacgOWwj+W5tO+8jOacgOWwj+W5tOaXtumXtOaute+8muW3puaMiemSrueBsOWMllxyXG4gICAgICAgIGlmICh0aGlzLmlzTWluTW9udGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDml6XmnJ/pnaLmnb9cclxuICAgICAgICBsZXQgbW9udGg6IG51bWJlcjtcclxuICAgICAgICBsZXQgeWVhcjogbnVtYmVyO1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGUubW9udGggPT09IDEpIHtcclxuICAgICAgICAgICAgbW9udGggPSAxMjtcclxuICAgICAgICAgICAgeWVhciA9IHRoaXMuZGF0ZS55ZWFyIC0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtb250aCA9IHRoaXMuZGF0ZS5tb250aCAtIDE7XHJcbiAgICAgICAgICAgIHllYXIgPSB0aGlzLmRhdGUueWVhcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pc1NtYWxsZXJUaGFuTWluTW9udGgoeWVhciwgbW9udGgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZS5tb250aCA9IG1vbnRoO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGUueWVhciA9IHllYXI7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0WWVhck1vbnRoVGV4dCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFByZU5leHRTdGF0ZSh5ZWFyLCBtb250aCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGF5QXJyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TmV4dERheUFycigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIOWkhOeQhuWPs+S+p+aciOWJjei/m+aMiemSruS6i+S7tlxyXG4gICAgb25OZXh0TW9udGhDbGljayhldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOacgOWkp+aciO+8jOacgOWkp+W5tO+8jOacgOWkp+W5tOaXtumXtOautVxyXG4gICAgICAgIGlmICh0aGlzLmlzTWF4TW9udGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG1vbnRoOiBudW1iZXI7XHJcbiAgICAgICAgbGV0IHllYXI6IG51bWJlcjtcclxuICAgICAgICBpZiAodGhpcy5kYXRlLm1vbnRoID09PSAxMikge1xyXG4gICAgICAgICAgICBtb250aCA9IDE7XHJcbiAgICAgICAgICAgIHllYXIgPSB0aGlzLmRhdGUueWVhciArIDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbW9udGggPSB0aGlzLmRhdGUubW9udGggKyAxO1xyXG4gICAgICAgICAgICB5ZWFyID0gdGhpcy5kYXRlLnllYXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaXNCaWdnZXJUaGFuTWF4TW9udGgoeWVhciwgbW9udGgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZS5tb250aCA9IG1vbnRoO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGUueWVhciA9IHllYXI7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0WWVhck1vbnRoVGV4dCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFByZU5leHRTdGF0ZSh5ZWFyLCBtb250aCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGF5QXJyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TmV4dERheUFycigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIOWkhOeQhuWPs+S+p+W5tOWJjei/m+aMiemSruS6i+S7tlxyXG4gICAgb25OZXh0WWVhckNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgLy8g5pyA5aSn5pyI77yM5pyA5aSn5bm077yM5pyA5aSn5bm05pe26Ze05q61XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQaWNrZXJZZWFyTWF4VmFsdWUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDml6XmnJ/lkozmnIjku73pnaLmnb9cclxuICAgICAgICBpZiAodGhpcy5waWNrZXIgPT09ICdkYXknIHx8IHRoaXMucGlja2VyID09PSAnbW9udGgnIHx8IHRoaXMucGlja2VyID09PSAnb25seVllYXJNb250aCcpIHtcclxuICAgICAgICAgICAgY29uc3QgeWVhcjogbnVtYmVyID0gdGhpcy5kYXRlLnllYXIgKyAxOyAvLyDlubTku73liqAxXHJcbiAgICAgICAgICAgIGlmICh5ZWFyIDw9IHRoaXMubWF4LmdldEZ1bGxZZWFyKCkpIHsgLy8g5Yik5pat5piv5ZCm5bCP5LqO562J5LqO5pyA5aSn5bm0XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGUueWVhciA9IHllYXI7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0JpZ2dlclRoYW5NYXhNb250aCh5ZWFyLCB0aGlzLmRhdGUubW9udGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlLm1vbnRoID0gdGhpcy5tYXguZ2V0TW9udGgoKSArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFllYXJNb250aFRleHQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJlTmV4dFN0YXRlKHllYXIsIHRoaXMuZGF0ZS5tb250aCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldERheU1vbnRoQXJyKHRoaXMucGlja2VyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5bm06Z2i5p2/XHJcbiAgICAgICAgaWYgKHRoaXMucGlja2VyID09PSAneWVhcicgfHwgdGhpcy5waWNrZXIgPT09ICdvbmx5WWVhcicpIHtcclxuICAgICAgICAgICAgY29uc3QgeWVhcjogbnVtYmVyID0gdGhpcy5kYXRlLnllYXIgKyAxMDsgLy8g5bm05Lu95YqgMTBcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG1heFZhbHVlUmFuZ2U6IFRpWWVhclJhbmdlID0gdGhpcy5nZXRZZWFyUmFuZ2UodGhpcy5tYXguZ2V0RnVsbFllYXIoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRZZWFyUmFuZ2U6IFRpWWVhclJhbmdlID0gdGhpcy5nZXRZZWFyUmFuZ2UoeWVhcik7XHJcbiAgICAgICAgICAgIC8vIOW9k+W5tOS7veWwj+S6juetieS6juacgOWkp+W5tOmdouadv+eahOacgOWkp+WAvOaYr+acieaViOeahFxyXG4gICAgICAgICAgICBpZiAoeWVhciA8PSBtYXhWYWx1ZVJhbmdlLm1heCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRlLnllYXIgPSBjdXJyZW50WWVhclJhbmdlLm1pbjtcclxuICAgICAgICAgICAgICAgICAgICAvLyDorr7nva7kuIvmi4npnaLmnb/lpLTpg6jmmL7npLrmlofmnKxcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0WWVhck1vbnRoVGV4dCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOiuvue9ruW3puWPs+mUrueKtuaAgVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRZZWFyUmFuZ2VQcmVOZXh0U3RhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDorr7nva7lubTku73pnaLmnb/nmoTlgLzlkoznirbmgIFcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0WWVhckFycigpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RW5kcGFuZWxZZWFyQXJyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6Z2i5p2/5aS06YOo5paH5pys54K55Ye75LqL5Lu2XHJcbiAgICBvbkhlYWRUZXh0Q2xpY2socGlja2VyOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICAvLyDngrnlh7vml6XmnJ/pnaLmnb/lpLTpg6jvvIzot7PovazliLDmnIjku73pnaLmnb9cclxuICAgICAgICB0aGlzLnBpY2tlciA9IHBpY2tlcjtcclxuICAgICAgICB0aGlzLnBpY2tlckNoYW5nZS5lbWl0KHBpY2tlcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5pel5pyf6Z2i5p2/77ya5pel5pyf54K55Ye75LqL5Lu2XHJcbiAgICBvbkRheUNsaWNrKGlzTmV4dDogYm9vbGVhbiwgZGF5OiBUaURhdGVWYWx1ZUFuZFN0YXRlLCBldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAoZGF5LnN0YXRlID09PSAnZGlzYWJsZScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGF5LnN0YXRlID09PSAncHJlTW9udGgnKSB7IC8vIOWmguaenOaYr+S4iuS4quaciOeahOaXpeacn+WImei3s+i9rOWIsOS4iuS4quaciFxyXG4gICAgICAgICAgICAgICAgdGhpcy5vblByZU1vbnRoQ2xpY2soZXZlbnQpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRheS5zdGF0ZSA9PT0gJ25leHRNb250aCcpIHsgLy8g5aaC5p6c5piv5LiL5Liq5pyI55qE5pel5pyf5YiZ6Lez6L2s5Yiw5LiL5Liq5pyIXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uTmV4dE1vbnRoQ2xpY2soZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBkYXRlU2VsZWN0OiBEYXRlO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdEYXRlOiBUaURhdGVQYW5lbCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRlKSk7XHJcbiAgICAgICAgICAgIGlmIChpc05leHQpIHtcclxuICAgICAgICAgICAgICAgIG5ld0RhdGUueWVhciA9IHRoaXMuZGF0ZS5tb250aCA9PT0gMTIgPyB0aGlzLmRhdGUueWVhciArIDEgOiB0aGlzLmRhdGUueWVhcjtcclxuICAgICAgICAgICAgICAgIG5ld0RhdGUubW9udGggPSB0aGlzLmRhdGUubW9udGggPT09IDEyID8gMSA6IHRoaXMuZGF0ZS5tb250aCArIDE7XHJcbiAgICAgICAgICAgICAgICBkYXRlU2VsZWN0ID0gbmV3IERhdGUobmV3RGF0ZS55ZWFyLCBuZXdEYXRlLm1vbnRoIC0gMSwgTnVtYmVyKGRheS52YWx1ZSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGF0ZVNlbGVjdCA9IG5ldyBEYXRlKHRoaXMuZGF0ZS55ZWFyLCB0aGlzLmRhdGUubW9udGggLSAxLCBkYXkudmFsdWUgYXMgbnVtYmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5mb2N1c2VkUG9zaXRpb24gIT09ICdiZWdpbicgJiYgdGhpcy5pc1JhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZS5lbmQgPT09IG51bGwgJiYgdGhpcy52YWx1ZS5iZWdpbiAhPT0gbnVsbCAmJiBUaURhdGVVdGlsLmlzQmlnZ2VyKHRoaXMudmFsdWUuYmVnaW4sIGRhdGVTZWxlY3QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZS5iZWdpbiA9IGRhdGVTZWxlY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZUNoYW5nZS5lbWl0KHRoaXMudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOS6i+S7tuWbnuiwg++8mueCueWHu+aXpeacn+aJp+ihjOmdouadv+aUtui1t+aTjeS9nFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoZGF5LnN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlLmVuZCA9IGRhdGVTZWxlY3Q7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZS5iZWdpbiAhPT0gbnVsbCAmJiBUaURhdGVVdGlsLmlzQmlnZ2VyKHRoaXMudmFsdWUuYmVnaW4sIHRoaXMudmFsdWUuZW5kKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUuYmVnaW4gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZS5iZWdpbiA9IGRhdGVTZWxlY3Q7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZS5lbmQgIT09IG51bGwgJiYgVGlEYXRlVXRpbC5pc0JpZ2dlcih0aGlzLnZhbHVlLmJlZ2luLCB0aGlzLnZhbHVlLmVuZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlLmVuZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy52YWx1ZUNoYW5nZS5lbWl0KHRoaXMudmFsdWUpO1xyXG4gICAgICAgICAgICAvLyDkuovku7blm57osIPvvJrngrnlh7vml6XmnJ/miafooYzpnaLmnb/mlLbotbfmk43kvZxcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3QuZW1pdChkYXkuc3RhdGUpO1xyXG4gICAgfVxyXG4gICAgLy8g5pyI5Lu96Z2i5p2/77ya5pyI5Lu954K55Ye75LqL5Lu2XHJcbiAgICBvbk1vbnRoQ2xpY2sobW9udGg6IFRpRGF0ZVZhbHVlQW5kU3RhdGUsIGV2ZW50OiBNb3VzZUV2ZW50LCBpc0VuZENsaWNrPzogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIC8vIOaciOS7veeBsOWMluS4jeWPr+eCueWHu1xyXG4gICAgICAgIGlmIChtb250aC5zdGF0ZSA9PT0gJ2Rpc2FibGUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5b2T5YmN5pyI5YC85Y+Y5pu0XHJcbiAgICAgICAgdGhpcy5kYXRlLm1vbnRoID0gdGhpcy5sb2NhbC5tb250aEFyci5pbmRleE9mKFN0cmluZyhtb250aC52YWx1ZSkpICsgMTtcclxuICAgICAgICAvLyDmoLnmja7lvZPliY3mnIjmm7TmlrDpnaLmnb/lpLTpg6jmnIjku73mmL7npLpcclxuICAgICAgICB0aGlzLnBpY2tlclZhbHVlID0gdGhpcy5waWNrZXJWYWx1ZSBpbnN0YW5jZW9mIE9iamVjdCA/IHRoaXMucGlja2VyVmFsdWUgOiB7fTtcclxuICAgICAgICB0aGlzLm5leHRQaWNrZXJWYWx1ZSA9IHRoaXMubmV4dFBpY2tlclZhbHVlIGluc3RhbmNlb2YgT2JqZWN0ID8gdGhpcy5uZXh0UGlja2VyVmFsdWUgOiB7fTtcclxuICAgICAgICB0aGlzLnBpY2tlclZhbHVlWydtb250aCddID0gdGhpcy5sb2NhbC5tb250aEFyclt0aGlzLmRhdGUubW9udGggLSAxXTtcclxuICAgICAgICB0aGlzLm5leHRQaWNrZXJWYWx1ZVsnbW9udGgnXSA9IHRoaXMuZGF0ZS5tb250aCA9PT0gMTIgPyB0aGlzLmxvY2FsLm1vbnRoQXJyWzBdIDogdGhpcy5sb2NhbC5tb250aEFyclt0aGlzLmRhdGUubW9udGhdO1xyXG4gICAgICAgIC8vIOaXoOaXpeacn+mdouadv++8mueCueWHu+aciOS7veWwhnZhbHVl5YC85Y+Y5pu044CC5bCG5omn6KGMc2VsZWN05LqL5Lu25Zue6LCDXHJcbiAgICAgICAgLy8g5pyJ5pel5pyf6Z2i5p2/77ya54K55Ye76Lez6L2s5Yiw5pel5pyf6Z2i5p2/77yM5qC55o2u5bm05pyI6K6+572u5bem5Y+z5oyJ6ZKu54q25oCB5ZKM5pel5pyf6Z2i5p2/5YC877ybXHJcbiAgICAgICAgaWYgKHRoaXMuZm9ybWF0LmluZGV4T2YoJ2QnKSA9PT0gLTEpIHsgLy8g5Y+q5pi+56S65bm05pyIXHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZS55ZWFyID0gaXNFbmRDbGljayA/IHRoaXMuZGF0ZS55ZWFyICsgMSA6IHRoaXMuZGF0ZS55ZWFyO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5mb2N1c2VkUG9zaXRpb24gPT09ICdiZWdpbicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUuYmVnaW4gPSBuZXcgRGF0ZSh0aGlzLmRhdGUueWVhciwgdGhpcy5kYXRlLm1vbnRoIC0gMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlLmVuZCA9IG5ldyBEYXRlKHRoaXMuZGF0ZS55ZWFyLCB0aGlzLmRhdGUubW9udGggLSAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlLmVtaXQodGhpcy52YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBpY2tlciA9ICdkYXknO1xyXG4gICAgICAgICAgICB0aGlzLnBpY2tlckNoYW5nZS5lbWl0KHRoaXMucGlja2VyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5bm06IyD5Zu06Z2i5p2/77ya5bm054K55Ye75LqL5Lu2XHJcbiAgICBvblllYXJDbGljayh5ZWFyOiBUaURhdGVWYWx1ZUFuZFN0YXRlLCBldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh5ZWFyLnN0YXRlICE9PSAnZGlzYWJsZScpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRlLnllYXIgPSB5ZWFyLnZhbHVlIGFzIG51bWJlcjtcclxuICAgICAgICAgICAgdGhpcy5waWNrZXJWYWx1ZSA9IHRoaXMucGlja2VyVmFsdWUgaW5zdGFuY2VvZiBPYmplY3QgPyB0aGlzLnBpY2tlclZhbHVlIDoge307XHJcbiAgICAgICAgICAgIHRoaXMubmV4dFBpY2tlclZhbHVlID0gdGhpcy5uZXh0UGlja2VyVmFsdWUgaW5zdGFuY2VvZiBPYmplY3QgPyB0aGlzLm5leHRQaWNrZXJWYWx1ZSA6IHt9O1xyXG4gICAgICAgICAgICB0aGlzLnBpY2tlclZhbHVlWyd5ZWFyJ10gPSBgJHt0aGlzLmRhdGUueWVhcn0ke3RoaXMubG9jYWwueWVhclRleHR9YDtcclxuICAgICAgICAgICAgdGhpcy5uZXh0UGlja2VyVmFsdWVbJ3llYXInXSA9IHRoaXMuZGF0ZS5tb250aCA9PT0gMTIgPyBgJHt0aGlzLmRhdGUueWVhciArIDF9JHt0aGlzLmxvY2FsLnllYXJUZXh0fWBcclxuICAgICAgICAgICAgOiBgJHt0aGlzLmRhdGUueWVhcn0ke3RoaXMubG9jYWwueWVhclRleHR9YDtcclxuICAgICAgICAgICAgdGhpcy5uZXh0UGlja2VyVmFsdWVbJ29ubHlZZWFyJ10gPSBgJHt0aGlzLmRhdGUueWVhciArIDF9JHt0aGlzLmxvY2FsLnllYXJUZXh0fWA7XHJcbiAgICAgICAgICAgIC8vIOWPquacieW5tOS7vemdouadv1xyXG4gICAgICAgICAgICBpZiAodGhpcy5mb3JtYXQuaW5kZXhPZignTScpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9jdXNlZFBvc2l0aW9uID09PSAnYmVnaW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZS5iZWdpbiA9IG5ldyBEYXRlKHRoaXMuZGF0ZS55ZWFyLCAxLCAxKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZS5lbmQgPSBuZXcgRGF0ZSh0aGlzLmRhdGUueWVhciwgMSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlLmVtaXQodGhpcy52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdC5lbWl0KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g5bm05pyI5qC85byPXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZvcm1hdC5pbmRleE9mKCdkJykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tlciA9ICdvbmx5WWVhck1vbnRoJztcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGF5TW9udGhBcnIodGhpcy5waWNrZXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGlja2VyID0gJ21vbnRoJztcclxuICAgICAgICAgICAgdGhpcy5waWNrZXJDaGFuZ2UuZW1pdCh0aGlzLnBpY2tlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvblNlbGVjdCh2YWw6IGFueSwgdGltZU9wdGlvbjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3Qgb2JqOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIHRpbWVPcHRpb24sXHJcbiAgICAgICAgICAgIHZhbFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZWxlY3RUaW1lRm4uZW1pdChvYmopO1xyXG4gICAgICAgIHN3aXRjaCAodGltZU9wdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlICdiZWdpbkhvdXInOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lSGFuZGxlRm4odmFsLCB0aGlzLmJlZ2luSG91ckNvbnRhaW5lclJlZik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnYmVnaW5NaW51dGUnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lSGFuZGxlRm4odmFsLCB0aGlzLmJlZ2luTWludXRlQ29udGFpbmVyUmVmKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdiZWdpblNlY29uZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVIYW5kbGVGbih2YWwsIHRoaXMuYmVnaW5TZWNvbmRDb250YWluZXJSZWYpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2VuZEhvdXInOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lSGFuZGxlRm4odmFsLCB0aGlzLmVuZEhvdXJDb250YWluZXJSZWYpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2VuZE1pbnV0ZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVIYW5kbGVGbih2YWwsIHRoaXMuZW5kTWludXRlQ29udGFpbmVyUmVmKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdlbmRTZWNvbmQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lSGFuZGxlRm4odmFsLCB0aGlzLmVuZFNlY29uZENvbnRhaW5lclJlZik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g5YiG5bm05pyI5pel5LiJ5Liq6Z2i5p2/77ya5qC55o2u5LiN5ZCM6Z2i5p2/6K6+572u55u45bqU55qE5YC8XHJcbiAgICBwcml2YXRlIHNldERhdGVQYW5lbCgpOiB2b2lkIHtcclxuICAgICAgICAvLyDorr7nva7kuIvmi4npnaLmnb/lpLTpg6jmmL7npLrmlofmnKxcclxuICAgICAgICB0aGlzLnNldFllYXJNb250aFRleHQoKTtcclxuXHJcbiAgICAgICAgLy8g6K6+572u5bm05pyI5paH5pys77yb6K6+572u5bem5Y+z6ZSu54q25oCB77yb6K6+572u5LiL5ouJ6Z2i5p2/5Lit5pel5pyfXHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnBpY2tlcikge1xyXG4gICAgICAgICAgICBjYXNlICdkYXknOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcmVOZXh0U3RhdGUodGhpcy5kYXRlLnllYXIsIHRoaXMuZGF0ZS5tb250aCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXREYXlBcnIoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TmV4dERheUFycigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdtb250aCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ29ubHlZZWFyTW9udGgnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcmVOZXh0U3RhdGUodGhpcy5kYXRlLnllYXIsIHRoaXMuZGF0ZS5tb250aCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldE1vbnRoQXJyKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEVuZHBhbmVsTW9udGhBcnIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAneWVhcic6XHJcbiAgICAgICAgICAgIGNhc2UgJ29ubHlZZWFyJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0WWVhclJhbmdlUHJlTmV4dFN0YXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRZZWFyQXJyKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEVuZHBhbmVsWWVhckFycigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIEBkZXNjcmlwdGlvbiDorr7nva7lsZXnpLrnmoTml6XmnJ9cclxuICAgICovXHJcbiAgIHByaXZhdGUgc2V0VmFsdWUoKTogdm9pZCB7XHJcbiAgICAgICAvLyAxLuagueaNruaOpeWPo+WAvOiOt+WPluWQiOazleeahOW9k+WJjeWAvFxyXG4gICAgICAgbGV0IGRhdGU6IERhdGU7XHJcbiAgICAgICBsZXQgdG9kYXk6IERhdGU7XHJcbiAgICAgICBpZiAoKHRoaXMudmFsdWUgaW5zdGFuY2VvZiBPYmplY3QpICYmIFRpRGF0ZVV0aWwuaXNEYXRlKHRoaXMudmFsdWUuYmVnaW4pKSB7XHJcbiAgICAgICAgICAgZGF0ZSA9IHRoaXMudmFsdWUuYmVnaW47XHJcbiAgICAgICB9IGVsc2UgaWYgKCh0aGlzLnZhbHVlIGluc3RhbmNlb2YgT2JqZWN0KSAmJiBUaURhdGVVdGlsLmlzRGF0ZSh0aGlzLnZhbHVlLmVuZCkpIHtcclxuICAgICAgICAgICBkYXRlID0gdGhpcy52YWx1ZS5lbmQ7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAxLjHmoLnmja5ub3dEYXRlVGltZeaOpeWPo+iOt+WPlueOsOWcqOaXtumXtFxyXG4gICAgICAgICAgICB0b2RheSA9ICh0aGlzLm5vd0RhdGVUaW1lICYmIFRpRGF0ZVV0aWwuaXNEYXRlKHRoaXMubm93RGF0ZVRpbWUpKSA/IHRoaXMubm93RGF0ZVRpbWUgOiBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAvLyAxLjLmoLnmja7mnIDlpKflgLzmnIDlsI/lgLzlr7nojrflj5bnmoTnjrDlnKjml7bpl7Tov5vooYzov5vkuIDmraXliKTmlq1cclxuICAgICAgICAgICAgY29uc3QgeWVhcjogbnVtYmVyID0gdG9kYXkuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgY29uc3QgbW9udGg6IG51bWJlciA9IHRvZGF5LmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICAgICAgICBjb25zdCBkYXk6IG51bWJlciA9IHRvZGF5LmdldERhdGUoKTtcclxuICAgICAgICAgICAgZGF0ZSA9ICghdGhpcy5pc0JpZ2dlclRoYW5NYXhEYXkoeWVhciwgbW9udGgsIGRheSkgJiYgIXRoaXMuaXNTbWFsbGVyVGhhbk1pbkRheSh5ZWFyLCBtb250aCwgZGF5KSlcclxuICAgICAgICAgICAgICAgID8gdG9kYXkgOiB0aGlzLm1pbjtcclxuICAgICAgIH1cclxuXHJcbiAgICAgICAvLyAyLuWwhuW9k+WJjeaXtumXtOeahOW5tOaciOaXpeWtmOWcqOWvueixoVxyXG4gICAgICAgdGhpcy5kYXRlID0ge1xyXG4gICAgICAgICAgIHllYXI6IGRhdGUuZ2V0RnVsbFllYXIoKSxcclxuICAgICAgICAgICBtb250aDogZGF0ZS5nZXRNb250aCgpICsgMSxcclxuICAgICAgICAgICBkYXk6IGRhdGUuZ2V0RGF0ZSgpXHJcbiAgICAgICB9O1xyXG5cclxuICAgICAgIHRoaXMuc2V0RGF0ZVBhbmVsKCk7XHJcbiAgIH1cclxuXHJcbiAgIC8qKlxyXG4gICAgKiBAZGVzY3JpcHRpb24g5Yik5pat5Y+C5pWw5Lyg5p2l55qE5pel5pyf5piv5ZCm5aSn5LqO5pyA5aSn5pel5pyf77ya5aSn5LqO6L+U5ZuedHJ1Ze+8jOWwj+S6jui/lOWbnmZhbHNlXHJcbiAgICAqIEBwYXJhbSB5ZWFyIOW5tOS7vVxyXG4gICAgKiBAcGFyYW0gbW9udGgg5pyI5Lu9XHJcbiAgICAqIEBwYXJhbSBkYXkg5pelXHJcbiAgICAqL1xyXG4gICBwcml2YXRlIGlzQmlnZ2VyVGhhbk1heERheSh5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIsIGRheTogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAvLyAxLuacgOWkp+WAvOS4jeaYr+WQiOazleeahOaXtumXtOWvueixoVxyXG4gICAgICAgaWYgKCFUaURhdGVVdGlsLmlzRGF0ZSh0aGlzLm1heCkpIHtcclxuICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgLy8gMi7ph43mlrDnlJ/miJDkuIDkuKrmlrDnmoTmnIDlpKflgLznmoTljp/lm6DvvJrpmLLmraLkvKDlhaXkuIDkuKrluKbml7bliIbnmoTmnIDlpKflgLxcclxuICAgICAgIGxldCBtYXg6IERhdGUgPSB0aGlzLm1heDtcclxuICAgICAgIG1heCA9IG5ldyBEYXRlKG1heC5nZXRGdWxsWWVhcigpLCBtYXguZ2V0TW9udGgoKSwgbWF4LmdldERhdGUoKSk7XHJcbiAgICAgICBpZiAobWF4LmdldFRpbWUoKSA8IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5KS5nZXRUaW1lKCkpIHtcclxuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgIH1cclxuXHJcbiAgIC8qKlxyXG4gICAgKiBAZGVzY3JpcHRpb24g5Yik5pat5Y+C5pWw5Lyg5p2l55qE5pel5pyf5piv5ZCm5bCP5LqO5pyA5bCP5pel5pyf77ya5bCP5LqO6L+U5ZuedHJ1Ze+8jOWkp+S6jui/lOWbnmZhbHNlXHJcbiAgICAqIEBwYXJhbSB5ZWFyIOW5tOS7vVxyXG4gICAgKiBAcGFyYW0gbW9udGgg5pyI5Lu9XHJcbiAgICAqIEBwYXJhbSBkYXkg5pelXHJcbiAgICAqL1xyXG4gICBwcml2YXRlIGlzU21hbGxlclRoYW5NaW5EYXkoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyLCBkYXk6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgaWYgKCFUaURhdGVVdGlsLmlzRGF0ZSh0aGlzLm1pbikpIHtcclxuICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgLy8g6Ziy5q2i5Lyg5YWl5LiA5Liq5bim5pe25YiG55qE5pyA5bCP5YC8XHJcbiAgICAgICBsZXQgbWluOiBEYXRlID0gdGhpcy5taW47XHJcbiAgICAgICBtaW4gPSBuZXcgRGF0ZShtaW4uZ2V0RnVsbFllYXIoKSwgbWluLmdldE1vbnRoKCksIG1pbi5nZXREYXRlKCkpO1xyXG4gICAgICAgaWYgKG1pbi5nZXRUaW1lKCkgPiBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSkuZ2V0VGltZSgpKSB7XHJcbiAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICB9XHJcbiAgIC8vIOaYr+WQpuS4uuemgeeUqOaXpeacn1xyXG4gICBwcml2YXRlIGlzRGlzYWJsZWREYXkoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyLCBkYXk6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghVXRpbC5pc0FycmF5KHRoaXMuZGlzYWJsZWREYXlzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpc0Rpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kaXNhYmxlZERheXMuZm9yRWFjaCgoaXRlbTogRGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5nZXRUaW1lKCkgPT09IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5KS5nZXRUaW1lKCkpIHtcclxuICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBpc0Rpc2FibGVkO1xyXG4gICB9XHJcblxyXG4gICAvLyDlvIDlp4vml6XmnJ/miJbogIXnu5PmnZ/ml6XmnJ/lm7rlrprkuI3lhYHorrjkv67mlLnml7bvvIzotoXlh7rojIPlm7TnmoTpnIDopoHnpoHnlKhcclxuICAgcHJpdmF0ZSBpc0ZpeGVkV2l0aERpc2FibGVkKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF5OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgIGlmICghdGhpcy5pc0JlZ2luRml4ZWQgJiYgIXRoaXMuaXNFbmRGaXhlZCB8fCB0aGlzLnZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgfVxyXG4gICAgICAgLy8g5byA5aeL5pel5pyf5pyJ5YC85bm25LiU56aB55SoXHJcbiAgICAgICBpZiAodGhpcy5pc0JlZ2luRml4ZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUuYmVnaW4uZ2V0VGltZSgpID4gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXkpLmdldFRpbWUoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgIH1cclxuICAgICAgIGlmICh0aGlzLmlzRW5kRml4ZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUuZW5kLmdldFRpbWUoKSA8IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5KS5nZXRUaW1lKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgfVxyXG5cclxuICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIEBkZXNjcmlwdGlvbiDorr7nva7kuIvmi4npnaLmnb/kuK3lubTmnIjmlofmnKxcclxuICAgICovXHJcbiAgIHByaXZhdGUgc2V0WWVhck1vbnRoVGV4dCgpOiB2b2lkIHtcclxuICAgICAgIC8vIDEu5aSn5LqO562J5LqO5pyA5aSn5bm077yM6K6+572u5bm05Li65pyA5aSn5bm077yM5pyI5aSn5LqO5pyA5aSn5pyI77yM6K6+572u5Li65pyA5aSn5pyI77ybXHJcbiAgICAgICBpZiAodGhpcy5kYXRlLnllYXIgPj0gdGhpcy5tYXguZ2V0RnVsbFllYXIoKSkge1xyXG4gICAgICAgICAgIHRoaXMuZGF0ZS55ZWFyID0gdGhpcy5tYXguZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICBpZiAodGhpcy5kYXRlLm1vbnRoID4gKHRoaXMubWF4LmdldE1vbnRoKCkgKyAxKSkge1xyXG4gICAgICAgICAgICAgICB0aGlzLmRhdGUubW9udGggPSB0aGlzLm1heC5nZXRNb250aCgpICsgMTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgLy8gMi7lsI/kuo7nrYnkuo7mnIDlsI/lubTvvIzorr7nva7lubTkuLrmnIDlsI/lubTvvIzmnIjku73lsI/kuo7mnIDlsI/mnIjorr7nva7kuLrmnIDlsI/mnIjvvJtcclxuICAgICAgIGlmICh0aGlzLmRhdGUueWVhciA8PSB0aGlzLm1pbi5nZXRGdWxsWWVhcigpKSB7XHJcbiAgICAgICAgICAgdGhpcy5kYXRlLnllYXIgPSB0aGlzLm1pbi5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgIGlmICh0aGlzLmRhdGUubW9udGggPCAodGhpcy5taW4uZ2V0TW9udGgoKSArIDEpKSB7XHJcbiAgICAgICAgICAgICAgIHRoaXMuZGF0ZS5tb250aCA9IHRoaXMubWluLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgIH1cclxuXHJcbiAgICAgICAvLyAzLuagueaNruW5tOaciOWAvO+8jOaLvOaIkOS4i+aLiemdouadv+S4reW5tOaciOaWh+acrFxyXG4gICAgICAgY29uc3Qgc3RhcnQ6IG51bWJlciA9IHRoaXMuZGF0ZS55ZWFyIC0gdGhpcy5kYXRlLnllYXIgJSAxMDtcclxuICAgICAgIHRoaXMucGlja2VyVmFsdWUgPSB0aGlzLnBpY2tlclZhbHVlIGluc3RhbmNlb2YgT2JqZWN0ID8gdGhpcy5waWNrZXJWYWx1ZSA6IHt9O1xyXG4gICAgICAgdGhpcy5uZXh0UGlja2VyVmFsdWUgPSB0aGlzLm5leHRQaWNrZXJWYWx1ZSBpbnN0YW5jZW9mIE9iamVjdCA/IHRoaXMubmV4dFBpY2tlclZhbHVlIDoge307XHJcbiAgICAgICB0aGlzLnBpY2tlclZhbHVlWyd5ZWFyJ10gPSBgJHt0aGlzLmRhdGUueWVhcn0ke3RoaXMubG9jYWwueWVhclRleHR9YDtcclxuICAgICAgIHRoaXMubmV4dFBpY2tlclZhbHVlWydvbmx5WWVhciddID0gYCR7dGhpcy5kYXRlLnllYXIgKyAxfSR7dGhpcy5sb2NhbC55ZWFyVGV4dH1gO1xyXG4gICAgICAgdGhpcy5uZXh0UGlja2VyVmFsdWVbJ3llYXInXSA9IHRoaXMuZGF0ZS5tb250aCA9PT0gMTIgPyBgJHt0aGlzLmRhdGUueWVhciArIDF9JHt0aGlzLmxvY2FsLnllYXJUZXh0fWBcclxuICAgICAgIDogYCR7dGhpcy5kYXRlLnllYXJ9JHt0aGlzLmxvY2FsLnllYXJUZXh0fWA7XHJcbiAgICAgICB0aGlzLnBpY2tlclZhbHVlWydtb250aCddID0gdGhpcy5sb2NhbC5tb250aEFyclt0aGlzLmRhdGUubW9udGggLSAxXTtcclxuICAgICAgIHRoaXMubmV4dFBpY2tlclZhbHVlWydtb250aCddID0gdGhpcy5kYXRlLm1vbnRoID09PSAxMiA/IHRoaXMubG9jYWwubW9udGhBcnJbMF0gOiB0aGlzLmxvY2FsLm1vbnRoQXJyW3RoaXMuZGF0ZS5tb250aF07XHJcbiAgICAgICB0aGlzLnBpY2tlclZhbHVlWyd5ZWFyUmFuZ2UnXSA9IGAke3N0YXJ0fSAtICR7c3RhcnQgKyA5fWA7XHJcbiAgICAgICB0aGlzLnBpY2tlclZhbHVlWydlbmRwYW5lbFllYXJSYW5nZSddID0gYCR7c3RhcnQgKyAxMH0gLSAke3N0YXJ0ICsgMTl9YDtcclxuICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIEBkZXNjcmlwdGlvbiDorr7nva7kuIrmnIjjgIHkuIvmnIjmjInpkq7nirbmgIHvvJrlt7Lnu4/mmK/mnIDlpKfjgIHmnIDlsI/mnIjml7bvvIzlsIblr7nlupTnmoTmjInpkq7nva7ngbBcclxuICAgICogQHBhcmFtIHllYXIg5bm05Lu9XHJcbiAgICAqIEBwYXJhbSBtb250aCDmnIjku71cclxuICAgICovXHJcbiAgIHByaXZhdGUgc2V0UHJlTmV4dFN0YXRlKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgdGhpcy5pc01heE1vbnRoID0gdGhpcy5pc0VxdWFsVG9NYXhNb250aCh5ZWFyLCBtb250aCk7XHJcbiAgICAgICB0aGlzLmlzTWluTW9udGggPSB0aGlzLmlzRXF1YWxUb01pbk1vbnRoKHllYXIsIG1vbnRoKTtcclxuICAgICAgIHRoaXMuaXNNYXhZZWFyID0geWVhciA9PT0gdGhpcy5tYXguZ2V0RnVsbFllYXIoKTtcclxuICAgICAgIHRoaXMuaXNNaW5ZZWFyID0geWVhciA9PT0gdGhpcy5taW4uZ2V0RnVsbFllYXIoKTtcclxuICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIEBkZXNjcmlwdGlvbiDliKTmlq3lj4LmlbDkvKDmnaXnmoTlubTmnIjmmK/lkKbnrYnkuo7mnIDlpKfmnIjku73vvJrnrYnkuo7ov5Tlm550cnVl77yM5LiN562J5LqO6L+U5ZueZmFsc2VcclxuICAgICogQHBhcmFtIHllYXIg5bm05Lu9XHJcbiAgICAqIEBwYXJhbSBtb250aCDmnIjku71cclxuICAgICovXHJcbiAgIHByaXZhdGUgaXNFcXVhbFRvTWF4TW9udGgoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAvLyAxLuacgOWkp+WAvOS4jeaYr+WQiOazleeahOaXtumXtOWvueixoVxyXG4gICAgICAgaWYgKCFUaURhdGVVdGlsLmlzRGF0ZSh0aGlzLm1heCkpIHtcclxuICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgLy8gMi7ph43mlrDnlJ/miJDkuIDkuKrmlrDnmoTmnIDlpKflgLznmoTljp/lm6DvvJrpmLLmraLkvKDlhaXkuIDkuKrluKbml7bliIbnmoTmnIDlpKflgLxcclxuICAgICAgIGxldCBtYXg6IERhdGUgPSB0aGlzLm1heDtcclxuICAgICAgIG1heCA9IG5ldyBEYXRlKG1heC5nZXRGdWxsWWVhcigpLCBtYXguZ2V0TW9udGgoKSwgMSk7XHJcbiAgICAgICBpZiAobWF4LmdldFRpbWUoKSA9PT0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCAxKS5nZXRUaW1lKCkpIHtcclxuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgIH1cclxuXHJcbiAgIC8qKlxyXG4gICAgKiBAZGVzY3JpcHRpb24g5Yik5pat5Y+C5pWw5Lyg5p2l55qE5bm05pyI5piv5ZCm562J5LqO5pyA5bCP5pyI5Lu977ya562J5LqO6L+U5ZuedHJ1Ze+8jOS4jeetieS6jui/lOWbnmZhbHNlXHJcbiAgICAqIEBwYXJhbSB5ZWFyIOW5tOS7vVxyXG4gICAgKiBAcGFyYW0gbW9udGgg5pyI5Lu9XHJcbiAgICAqL1xyXG4gICBwcml2YXRlIGlzRXF1YWxUb01pbk1vbnRoKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgaWYgKCFUaURhdGVVdGlsLmlzRGF0ZSh0aGlzLm1pbikpIHtcclxuICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgbGV0IG1pbjogRGF0ZSA9IHRoaXMubWluO1xyXG4gICAgICAgbWluID0gbmV3IERhdGUobWluLmdldEZ1bGxZZWFyKCksIG1pbi5nZXRNb250aCgpLCAxKTtcclxuICAgICAgIGlmIChtaW4uZ2V0VGltZSgpID09PSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIDEpLmdldFRpbWUoKSkge1xyXG4gICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgfVxyXG4gICAvKipcclxuICAgICogQGRlc2NyaXB0aW9uIOagueaNrumdouadv+iuvue9riBkYXlBcnLmiJZtb250aEFyclxyXG4gICAgKlxyXG4gICAgKi9cclxuICBwcml2YXRlIHNldERheU1vbnRoQXJyKHBpY2tlcjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBpZiAocGlja2VyID09PSAnZGF5Jykge1xyXG4gICAgICB0aGlzLnNldERheUFycigpO1xyXG4gICAgICB0aGlzLnNldE5leHREYXlBcnIoKTtcclxuICAgIH0gZWxzZSBpZiAocGlja2VyID09PSAnbW9udGgnIHx8IHBpY2tlciA9PT0gJ29ubHlZZWFyTW9udGgnKSB7XHJcbiAgICAgIHRoaXMuc2V0TW9udGhBcnIoKTtcclxuICAgICAgdGhpcy5zZXRFbmRwYW5lbE1vbnRoQXJyKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gICAvKipcclxuICAgICogQGRlc2NyaXB0aW9uIOagueaNruW9k+WJjeW5tOaciOWAvO+8jOiuvue9ruS4i+aLiemdouadv+S4reaYvuekuueahOaXpeaVsOaNrlxyXG4gICAgKi9cclxuICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmN5Y2xvbWF0aWMtY29tcGxleGl0eVxyXG4gICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxyXG4gICBwcml2YXRlIHNldERheUFycigpOiB2b2lkIHtcclxuICAgICAgIC8vIOiOt+WPluW9k+WJjeW5tOaciFxyXG4gICAgICAgY29uc3QgeWVhcjogbnVtYmVyID0gcGFyc2VJbnQoU3RyaW5nKHRoaXMuZGF0ZS55ZWFyKSwgMTApO1xyXG4gICAgICAgY29uc3QgbW9udGg6IG51bWJlciA9IHBhcnNlSW50KFN0cmluZyh0aGlzLmRhdGUubW9udGgpLCAxMCk7XHJcblxyXG4gICAgICAgLy8gMe+8muiuoeeul+i/meS4quaciDHlj7fmmK/kuIvmi4npnaLmnb/nrKzkuIDooYznmoTnrKzlh6DkuKpcclxuICAgICAgIC8vIOiOt+WPluWIsOi/meS4quaciDHlj7fmmK/lkajlh6Ag5ZGo5LiA5Yiw5ZGo5YWt77yaMS0277yM5ZGo5aSp77yaMO+8m1xyXG4gICAgICAgY29uc3QgYmVnaW46IG51bWJlciA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgMSkuZ2V0RGF5KCk7XHJcblxyXG4gICAgICAgLy8gMu+8muWwhuS4iuS4quaciOeahOaXpeacn+WtmOWFpeaVsOe7hGRhdGVBcnJcclxuICAgICAgIGNvbnN0IGRhdGVBcnI6IEFycmF5PFRpRGF0ZVZhbHVlQW5kU3RhdGU+ID0gW107IC8vIOWtmOWCqOS4i+aLiemdouadv+S4reaJgOacieaXpeeahOWAvOWSjOeKtuaAgVxyXG4gICAgICAgY29uc3QgcHJlTW9udGg6IG51bWJlciA9IChtb250aCA9PT0gMSA/IDEyIDogKG1vbnRoIC0gMSkpOyAvLyDkuIrkuKrmnIhcclxuICAgICAgIGNvbnN0IHByZU1vbnRoRGF5czogbnVtYmVyID0gbmV3IERhdGUoeWVhciwgcHJlTW9udGgsIDApLmdldERhdGUoKTsgLy8g5LiK5Liq5pyI5oC75aSp5pWwXHJcbiAgICAgICBjb25zdCBwcmVNb250aFN0YXJ0OiBudW1iZXIgPSBwcmVNb250aERheXMgLSBiZWdpbiArIDE7IC8vIOiOt+WPluWIsOesrOS4gOihjOeahOi1t+Wni+WAvFxyXG4gICAgICAgbGV0IHByZU1vbnRoRGF5U3RhdGU6IHN0cmluZyA9ICcnOyAvLyDkuIrkuKrmnIjml6XmnJ/nmoTnirbmgIFcclxuICAgICAgIC8vIOacrOaciOaYr+acgOWwj+aciOaXtueahOS4iuaciOaXpeacn+e9rueBsFxyXG4gICAgICAgcHJlTW9udGhEYXlTdGF0ZSA9IHRoaXMuaXNNaW5Nb250aCA/ICdkaXNhYmxlJyA6ICdwcmVNb250aCc7XHJcblxyXG4gICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IGJlZ2luOyBpKyspIHtcclxuICAgICAgICAgICAgZGF0ZUFycltpXSA9IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBwcmVNb250aFN0YXJ0ICsgaSxcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBwcmVNb250aERheVN0YXRlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU21hbGxlclRoYW5NaW5EYXkoeWVhciwgbW9udGggLSAxLCBwcmVNb250aFN0YXJ0ICsgaSkgfHwgdGhpcy5pc0Rpc2FibGVkRGF5KHllYXIsIG1vbnRoIC0gMSwgcHJlTW9udGhTdGFydCArIGkpXHJcbiAgICAgICAgICAgIHx8IHRoaXMuaXNGaXhlZFdpdGhEaXNhYmxlZCh5ZWFyLCBtb250aCAtIDEsIHByZU1vbnRoU3RhcnQgKyBpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVBcnJbaV0uc3RhdGUgPSAnZGlzYWJsZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgIH1cclxuXHJcbiAgICAgICAvLyAz77ya5bCG5pys5pyI55qE5pel5a2Y5YWl5pWw57uEZGF0ZUFyclxyXG4gICAgICAgbGV0IGRheU51bTogbnVtYmVyID0gMTtcclxuICAgICAgIGNvbnN0IG1vbnRoRGF5czogbnVtYmVyID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDApLmdldERhdGUoKTsgLy8g6L+Z5Liq5pyI5oC75aSp5pWwXHJcbiAgICAgICBjb25zdCBsZW5ndGg6IG51bWJlciA9IGJlZ2luICsgbW9udGhEYXlzO1xyXG4gICAgICAgbGV0IHN0YXRlOiBzdHJpbmcgPSAnJztcclxuXHJcbiAgICAgICBmb3IgKGxldCBqOiBudW1iZXIgPSBiZWdpbjsgaiA8IGxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgaWYgKHRoaXMuaXNCaWdnZXJUaGFuTWF4RGF5KHllYXIsIG1vbnRoLCBkYXlOdW0pIHx8XHJcbiAgICAgICAgICAgdGhpcy5pc1NtYWxsZXJUaGFuTWluRGF5KHllYXIsIG1vbnRoLCBkYXlOdW0pIHx8XHJcbiAgICAgICAgICAgdGhpcy5pc0Rpc2FibGVkRGF5KHllYXIsIG1vbnRoLCBkYXlOdW0pIHx8XHJcbiAgICAgICAgICAgdGhpcy5pc0ZpeGVkV2l0aERpc2FibGVkKHllYXIsIG1vbnRoLCBkYXlOdW0pKSB7XHJcbiAgICAgICAgICAgICAgIHN0YXRlID0gJ2Rpc2FibGUnOyAvLyDml6XmoLflvI/nva7ngbBcclxuICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNFcXVhbFRvVmFsdWUoJ2RheScsIHllYXIsIG1vbnRoLCBkYXlOdW0pKSB7XHJcbiAgICAgICAgICAgICAgIHN0YXRlID0gJ2N1cnJlbnQnOyAvLyDlvZPliY3pgInkuK1cclxuICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNCZXR3ZWVuSW5SYW5nZSh5ZWFyLCBtb250aCwgZGF5TnVtKSkge1xyXG4gICAgICAgICAgICAgICBzdGF0ZSA9ICdzZWxlY3QnOyAvLyDlnKjpgInkuK3ojIPlm7RcclxuICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICBzdGF0ZSA9ICdkZWZhdWx0JzsgLy8g5rKh5pyJ6YCJ5LitXHJcbiAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICBkYXRlQXJyW2pdID0ge1xyXG4gICAgICAgICAgICAgICB2YWx1ZTogZGF5TnVtLFxyXG4gICAgICAgICAgICAgICBzdGF0ZSxcclxuICAgICAgICAgICAgICAgaXNUb2RheTogdGhpcy5pc0VxdWFsVG9Ub2RheSgnZGF5JywgeWVhciwgbW9udGgsIGRheU51bSlcclxuICAgICAgIH07XHJcblxyXG4gICAgICAgICAgIGRheU51bSsrO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgIC8vIDTvvJrlsIbkuIvkuKrmnIjnmoTml6XlrZjlhaXmlbDnu4RkYXRlQXJyXHJcbiAgICAgICBkYXlOdW0gPSAxO1xyXG4gICAgICAgY29uc3QgbmV4dE1vbnRoRGF5U3RhdGU6IHN0cmluZyA9IHRoaXMuaXNNYXhNb250aCA/ICdkaXNhYmxlJyA6ICduZXh0TW9udGgnOyAvLyDkuIvkuKrmnIjml6XmnJ/nmoTnirbmgIFcclxuICAgICAgIGZvciAobGV0IGs6IG51bWJlciA9IGRhdGVBcnIubGVuZ3RoOyBrIDwgNDI7IGsrKykge1xyXG4gICAgICAgICAgICBkYXRlQXJyW2tdID0ge1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRheU51bSxcclxuICAgICAgICAgICAgICAgIHN0YXRlOiBuZXh0TW9udGhEYXlTdGF0ZVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNCaWdnZXJUaGFuTWF4RGF5KHllYXIsIG1vbnRoICsgMSwgZGF5TnVtKSB8fCB0aGlzLmlzRGlzYWJsZWREYXkoeWVhciwgbW9udGggKyAxLCBkYXlOdW0pXHJcbiAgICAgICAgICAgICAgICB8fCB0aGlzLmlzRml4ZWRXaXRoRGlzYWJsZWQoeWVhciwgbW9udGggKyAxLCBkYXlOdW0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUFycltrXS5zdGF0ZSA9ICdkaXNhYmxlJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGF5TnVtKys7XHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgLy8gNe+8muWwhmRhdGVBcnLnu4Too4XmiJDkuIvmi4npnaLmnb/kuK3mmL7npLrml6XnmoTkuoznu7TmlbDnu4RkYXlBcnJcclxuICAgICAgIGZvciAobGV0IHA6IG51bWJlciA9IDA7IHAgPCBkYXRlQXJyLmxlbmd0aCAvIDc7IHArKykge1xyXG4gICAgICAgICAgIHRoaXMuZGF5QXJyW3BdID0gW107XHJcbiAgICAgICAgICAgZm9yIChsZXQgcTogbnVtYmVyID0gMDsgcSA8IDc7IHErKykge1xyXG4gICAgICAgICAgICAgICB0aGlzLmRheUFycltwXS5wdXNoKGRhdGVBcnJbcSArIHAgKiA3XSk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgfVxyXG4gICB9XHJcblxyXG4gIC8qKlxyXG4gICAgKiBAZGVzY3JpcHRpb24g5qC55o2u5b2T5YmN5bm05pyI5YC877yM6K6+572u5LiL5ouJ6Z2i5p2/5Lit5pi+56S655qE5pel5pWw5o2uXHJcbiAgICAqL1xyXG4gICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Y3ljbG9tYXRpYy1jb21wbGV4aXR5XHJcbiAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XHJcbiAgIHByaXZhdGUgc2V0TmV4dERheUFycigpOiB2b2lkIHtcclxuICAgIC8vIOiOt+WPluW9k+WJjeW5tOaciFxyXG4gICAgY29uc3Qgc3NzOiBudW1iZXIgPSB0aGlzLmRhdGUubW9udGggPT09IDEyID8gMSA6IHRoaXMuZGF0ZS5tb250aCArIDE7XHJcbiAgICBjb25zdCB5eXk6IG51bWJlciA9IHRoaXMuZGF0ZS5tb250aCA9PT0gMTIgPyB0aGlzLmRhdGUueWVhciArIDEgOiB0aGlzLmRhdGUueWVhcjtcclxuICAgIGNvbnN0IHllYXI6IG51bWJlciA9IHBhcnNlSW50KFN0cmluZyh5eXkpLCAxMCk7XHJcbiAgICBjb25zdCBtb250aDogbnVtYmVyID0gcGFyc2VJbnQoU3RyaW5nKHNzcyksIDEwKTtcclxuXHJcbiAvLyAgICBjb25zdCBtb250aE5leHQ6IG51bWJlciA9IHBhcnNlSW50KFN0cmluZyh0aGlzLmRhdGUubW9udGggKyAxKSwgMTApO1xyXG5cclxuICAgIC8vIDHvvJrorqHnrpfov5nkuKrmnIgx5Y+35piv5LiL5ouJ6Z2i5p2/56ys5LiA6KGM55qE56ys5Yeg5LiqXHJcbiAgICAvLyDojrflj5bliLDov5nkuKrmnIgx5Y+35piv5ZGo5YegIOWRqOS4gOWIsOWRqOWFre+8mjEtNu+8jOWRqOWkqe+8mjDvvJtcclxuICAgIGNvbnN0IGJlZ2luOiBudW1iZXIgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIDEpLmdldERheSgpO1xyXG5cclxuICAgIC8vIDLvvJrlsIbkuIrkuKrmnIjnmoTml6XmnJ/lrZjlhaXmlbDnu4RkYXRlQXJyXHJcbiAgICBjb25zdCBkYXRlQXJyOiBBcnJheTxUaURhdGVWYWx1ZUFuZFN0YXRlPiA9IFtdOyAvLyDlrZjlgqjkuIvmi4npnaLmnb/kuK3miYDmnInml6XnmoTlgLzlkoznirbmgIFcclxuICAgIGNvbnN0IHByZU1vbnRoOiBudW1iZXIgPSAobW9udGggPT09IDEgPyAxMiA6IChtb250aCAtIDEpKTsgLy8g5LiK5Liq5pyIXHJcbiAgICBjb25zdCBwcmVNb250aERheXM6IG51bWJlciA9IG5ldyBEYXRlKHllYXIsIHByZU1vbnRoLCAwKS5nZXREYXRlKCk7IC8vIOS4iuS4quaciOaAu+WkqeaVsFxyXG4gICAgY29uc3QgcHJlTW9udGhTdGFydDogbnVtYmVyID0gcHJlTW9udGhEYXlzIC0gYmVnaW4gKyAxOyAvLyDojrflj5bliLDnrKzkuIDooYznmoTotbflp4vlgLxcclxuXHJcbiAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgYmVnaW47IGkrKykge1xyXG4gICAgICAgICBkYXRlQXJyW2ldID0ge1xyXG4gICAgICAgICAgICAgdmFsdWU6IHByZU1vbnRoU3RhcnQgKyBpLFxyXG4gICAgICAgICAgICAgc3RhdGU6ICdwcmVNb250aCdcclxuICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgIGlmICh0aGlzLmlzQmlnZ2VyVGhhbk1heERheSh5ZWFyLCBtb250aCAtIDEsIHByZU1vbnRoU3RhcnQgKyBpKSB8fFxyXG4gICAgICAgICAgICB0aGlzLmlzU21hbGxlclRoYW5NaW5EYXkoeWVhciwgbW9udGggLSAxLCBwcmVNb250aFN0YXJ0ICsgaSkgfHxcclxuICAgICAgICAgICAgdGhpcy5pc0Rpc2FibGVkRGF5KHllYXIsIG1vbnRoIC0gMSwgcHJlTW9udGhTdGFydCArIGkpIHx8XHJcbiAgICAgICAgICAgIHRoaXMuaXNGaXhlZFdpdGhEaXNhYmxlZCh5ZWFyLCBtb250aCAtIDEsIHByZU1vbnRoU3RhcnQgKyBpKSkge1xyXG4gICAgICAgICAgICBkYXRlQXJyW2ldLnN0YXRlID0gJ2Rpc2FibGUnO1xyXG4gICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gM++8muWwhuacrOaciOeahOaXpeWtmOWFpeaVsOe7hGRhdGVBcnJcclxuICAgIGxldCBkYXlOdW06IG51bWJlciA9IDE7XHJcbiAgICBjb25zdCBtb250aERheXM6IG51bWJlciA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAwKS5nZXREYXRlKCk7IC8vIOi/meS4quaciOaAu+WkqeaVsFxyXG4gICAgY29uc3QgbGVuZ3RoOiBudW1iZXIgPSBiZWdpbiArIG1vbnRoRGF5cztcclxuICAgIGxldCBzdGF0ZTogc3RyaW5nID0gJyc7XHJcblxyXG4gICAgZm9yIChsZXQgajogbnVtYmVyID0gYmVnaW47IGogPCBsZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQmlnZ2VyVGhhbk1heERheSh5ZWFyLCBtb250aCwgZGF5TnVtKSB8fFxyXG4gICAgICAgIHRoaXMuaXNTbWFsbGVyVGhhbk1pbkRheSh5ZWFyLCBtb250aCwgZGF5TnVtKSB8fFxyXG4gICAgICAgIHRoaXMuaXNEaXNhYmxlZERheSh5ZWFyLCBtb250aCwgZGF5TnVtKSB8fFxyXG4gICAgICAgIHRoaXMuaXNGaXhlZFdpdGhEaXNhYmxlZCh5ZWFyLCBtb250aCwgZGF5TnVtKSkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9ICdkaXNhYmxlJzsgLy8g5pel5qC35byP572u54GwXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXF1YWxUb1ZhbHVlKCdkYXknLCB5ZWFyLCBtb250aCwgZGF5TnVtKSkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9ICdjdXJyZW50JzsgLy8g5b2T5YmN6YCJ5LitXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzQmV0d2VlbkluUmFuZ2UoeWVhciwgbW9udGgsIGRheU51bSkpIHtcclxuICAgICAgICAgICAgc3RhdGUgPSAnc2VsZWN0JzsgLy8g5Zyo6YCJ5Lit6IyD5Zu0XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3RhdGUgPSAnZGVmYXVsdCc7IC8vIOayoeaciemAieS4rVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGF0ZUFycltqXSA9IHtcclxuICAgICAgICAgICAgdmFsdWU6IGRheU51bSxcclxuICAgICAgICAgICAgc3RhdGUsXHJcbiAgICAgICAgICAgIGlzVG9kYXk6IHRoaXMuaXNFcXVhbFRvVG9kYXkoJ2RheScsIHllYXIsIG1vbnRoLCBkYXlOdW0pXHJcbiAgICB9O1xyXG5cclxuICAgICAgICBkYXlOdW0rKztcclxuICAgIH1cclxuXHJcbiAgICAvLyA077ya5bCG5LiL5Liq5pyI55qE5pel5a2Y5YWl5pWw57uEZGF0ZUFyclxyXG4gICAgZGF5TnVtID0gMTtcclxuICAgIGNvbnN0IG5leHRNb250aERheVN0YXRlOiBzdHJpbmcgPSB0aGlzLmlzTWF4TW9udGggPyAnZGlzYWJsZScgOiAnbmV4dE1vbnRoJzsgLy8g5LiL5Liq5pyI5pel5pyf55qE54q25oCBXHJcbiAgICBmb3IgKGxldCBrOiBudW1iZXIgPSBkYXRlQXJyLmxlbmd0aDsgayA8IDQyOyBrKyspIHtcclxuICAgICAgICAgZGF0ZUFycltrXSA9IHtcclxuICAgICAgICAgICAgIHZhbHVlOiBkYXlOdW0sXHJcbiAgICAgICAgICAgICBzdGF0ZTogbmV4dE1vbnRoRGF5U3RhdGVcclxuICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgIHRoaXMuaXNCaWdnZXJUaGFuTWF4RGF5KHllYXIsIG1vbnRoICsgMSwgZGF5TnVtKSB8fFxyXG4gICAgICAgICAgICAgdGhpcy5pc0Rpc2FibGVkRGF5KHllYXIsIG1vbnRoICsgMSwgZGF5TnVtKSB8fFxyXG4gICAgICAgICAgICAgdGhpcy5pc0ZpeGVkV2l0aERpc2FibGVkKHllYXIsIG1vbnRoICsgMSwgZGF5TnVtKSkge1xyXG4gICAgICAgICAgICAgICAgIGRhdGVBcnJba10uc3RhdGUgPSAnZGlzYWJsZSc7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgIGRheU51bSsrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDXvvJrlsIZkYXRlQXJy57uE6KOF5oiQ5LiL5ouJ6Z2i5p2/5Lit5pi+56S65pel55qE5LqM57u05pWw57uEZGF5QXJyXHJcbiAgICBmb3IgKGxldCBwOiBudW1iZXIgPSAwOyBwIDwgZGF0ZUFyci5sZW5ndGggLyA3OyBwKyspIHtcclxuICAgICAgICB0aGlzLm5leHRkYXlBcnJbcF0gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBxOiBudW1iZXIgPSAwOyBxIDwgNzsgcSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dGRheUFycltwXS5wdXNoKGRhdGVBcnJbcSArIHAgKiA3XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4gICAvKipcclxuICAgICogQGRlc2NyaXB0aW9uIOWIpOaWreWPguaVsOS8oOadpeeahOaXpeacn+aYr+WQpmJlZ2lu5YC85bCP5LqOZW5k55qE5YC877yMZW5k5YC85aSn5LqOYmVnaW9u5YC8XHJcbiAgICAqIEBwYXJhbSB5ZWFyIOW5tOS7vVxyXG4gICAgKiBAcGFyYW0gbW9udGgg5pyI5Lu9XHJcbiAgICAqIEBwYXJhbSBkYXkg5pelXHJcbiAgICAqL1xyXG4gICBwcml2YXRlIGlzT3V0SW5SYW5nZSh5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIsIGRheTogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWU6IFRpRGF0ZVZhbHVlID0gdGhpcy52YWx1ZTtcclxuICAgICAgICBjb25zdCBjdXJWYWx1ZTogbnVtYmVyID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXkpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBPYmplY3QpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGVuZDogRGF0ZSA9IHZhbHVlLmVuZDtcclxuICAgICAgICBsZXQgZW5kVmFsdWU6IG51bWJlcjtcclxuICAgICAgICBpZiAoVGlEYXRlVXRpbC5pc0RhdGUodmFsdWUuZW5kKSkge1xyXG4gICAgICAgICAgICAvLyDlj6rlj5blubTmnIjml6XvvJrpmLLmraLkvKDlhaXluKbmnInml7bliIbnp5LnmoTlgLxcclxuICAgICAgICAgICAgZW5kID0gbmV3IERhdGUoZW5kLmdldEZ1bGxZZWFyKCksIGVuZC5nZXRNb250aCgpLCBlbmQuZ2V0RGF0ZSgpKTtcclxuICAgICAgICAgICAgZW5kVmFsdWUgPSBlbmQuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGN1clZhbHVlID4gZW5kVmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgIH1cclxuXHJcbiAgIC8qKlxyXG4gICAgKiBAZGVzY3JpcHRpb24g5Yik5pat5Y+C5pWw5Lyg5p2l55qE5pel5pyf5piv5ZCm562J5LqO5b2T5YmN6YCJ5Lit55qE5pel5pyf77ya562J5LqO6L+U5ZuedHJ1Ze+8jOS4jeetieS6jui/lOWbnmZhbHNlXHJcbiAgICAqIEBwYXJhbSB5ZWFyIOW5tOS7vVxyXG4gICAgKiBAcGFyYW0gbW9udGgg5pyI5Lu9XHJcbiAgICAqIEBwYXJhbSBkYXkg5pelXHJcbiAgICAqL1xyXG4gICBwcml2YXRlIGlzRXF1YWxUb1ZhbHVlKHR5cGU/OiBzdHJpbmcsIHllYXI/OiBudW1iZXIsIG1vbnRoPzogbnVtYmVyLCBkYXk/OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBiZWdpblZhbDogRGF0ZSA9IHRoaXMudmFsdWUuYmVnaW47XHJcbiAgICAgICAgY29uc3QgZW5kVmFsOiBEYXRlID0gdGhpcy52YWx1ZS5lbmQ7XHJcbiAgICAgICAgaWYgKGJlZ2luVmFsID09PSBudWxsICYmIGVuZFZhbCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlMTogRGF0ZTtcclxuICAgICAgICAgICAgbGV0IHZhbHVlMjogRGF0ZTtcclxuICAgICAgICAgICAgbGV0IGJlZ2luVjogYm9vbGVhbjtcclxuICAgICAgICAgICAgbGV0IGVuZFY6IGJvb2xlYW47XHJcbiAgICAgICAgICAgIGlmIChiZWdpblZhbCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUxID0gbmV3IERhdGUoYmVnaW5WYWwuZ2V0RnVsbFllYXIoKSwgYmVnaW5WYWwuZ2V0TW9udGgoKSwgYmVnaW5WYWwuZ2V0RGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIGJlZ2luViA9IHRoaXMuaXNFcXVhbFZhbHVlKHR5cGUsIHZhbHVlMSwgeWVhciwgbW9udGgsIGRheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVuZFZhbCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUyID0gbmV3IERhdGUoZW5kVmFsLmdldEZ1bGxZZWFyKCksIGVuZFZhbC5nZXRNb250aCgpLCBlbmRWYWwuZ2V0RGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIGVuZFYgPSB0aGlzLmlzRXF1YWxWYWx1ZSh0eXBlLCB2YWx1ZTIsIHllYXIsIG1vbnRoLCBkYXkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYmVnaW5WIHx8IGVuZFY7XHJcblxyXG4gICAgICAgIH1cclxuICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIEBkZXNjcmlwdGlvbiDliKTmlq3lj4LmlbDkvKDmnaXnmoTml6XmnJ/mmK/lkKblnKjlvZPliY3pgInkuK3ml6XmnJ/nmoTojIPlm7TlhoUs5bm25LiU5LiN562J5LqO5b2T5YmN6YCJ5Lit55qE5YC877ya56ym5ZCI6L+U5ZuedHJ1Ze+8jOS4jeespuWQiOi/lOWbnmZhbHNlXHJcbiAgICAqIEBwYXJhbSB5ZWFyIOW5tOS7vVxyXG4gICAgKiBAcGFyYW0gbW9udGgg5pyI5Lu9XHJcbiAgICAqIEBwYXJhbSBkYXkg5pelXHJcbiAgICAqL1xyXG4gICBwcml2YXRlIGlzQmV0d2VlbkluUmFuZ2UoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyLCBkYXk6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgY29uc3QgdmFsdWU6IFRpRGF0ZVZhbHVlID0gdGhpcy52YWx1ZTtcclxuICAgICAgIC8vIHZhbHVl5LiN5piv5a+56LGh77yMYmVnaW7miJbogIVlbmTkuI3mmK/lkIjms5Xml6XmnJ9cclxuICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgT2JqZWN0KSB8fCAhVGlEYXRlVXRpbC5pc0RhdGUodmFsdWUuYmVnaW4pIHx8ICFUaURhdGVVdGlsLmlzRGF0ZSh2YWx1ZS5lbmQpKSB7XHJcbiAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgIGxldCBiZWdpbjogRGF0ZSA9IHZhbHVlLmJlZ2luO1xyXG4gICAgICAgYmVnaW4gPSBuZXcgRGF0ZShiZWdpbi5nZXRGdWxsWWVhcigpLCBiZWdpbi5nZXRNb250aCgpLCBiZWdpbi5nZXREYXRlKCkpO1xyXG4gICAgICAgY29uc3QgYmVnaW5WYWx1ZTogbnVtYmVyID0gYmVnaW4uZ2V0VGltZSgpO1xyXG5cclxuICAgICAgIGxldCBlbmQ6IERhdGUgPSB2YWx1ZS5lbmQ7XHJcbiAgICAgICBlbmQgPSBuZXcgRGF0ZShlbmQuZ2V0RnVsbFllYXIoKSwgZW5kLmdldE1vbnRoKCksIGVuZC5nZXREYXRlKCkpO1xyXG4gICAgICAgY29uc3QgZW5kVmFsdWU6IG51bWJlciA9IGVuZC5nZXRUaW1lKCk7XHJcblxyXG4gICAgICAgY29uc3QgY3VyVmFsdWU6IG51bWJlciA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5KS5nZXRUaW1lKCk7XHJcbiAgICAgICBpZiAoYmVnaW5WYWx1ZSA8IGN1clZhbHVlICYmIGN1clZhbHVlIDw9IGVuZFZhbHVlKSB7XHJcbiAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICB9XHJcblxyXG4gICAvKipcclxuICAgICogQGRlc2NyaXB0aW9uIOWIpOaWreWPguaVsOS8oOadpeeahOaXpeacn+aYr+WQpuetieS6juW9k+WJjeaXpeacn+aXtumXtFxyXG4gICAgKiBAcGFyYW0geWVhciDlubTku71cclxuICAgICogQHBhcmFtIG1vbnRoIOaciOS7vVxyXG4gICAgKiBAcGFyYW0gZGF5IOaXpVxyXG4gICAgKi9cclxuICAgcHJpdmF0ZSBpc0VxdWFsVG9Ub2RheSh0eXBlPzogc3RyaW5nLCB5ZWFyPzogbnVtYmVyLCBtb250aD86IG51bWJlciwgZGF5PzogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgdG9kYXk6IERhdGUgPSAodGhpcy5ub3dEYXRlVGltZSAmJiBUaURhdGVVdGlsLmlzRGF0ZSh0aGlzLm5vd0RhdGVUaW1lKSkgPyB0aGlzLm5vd0RhdGVUaW1lIDogbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNFcXVhbFZhbHVlKHR5cGUsIHRvZGF5LCB5ZWFyLCBtb250aCwgZGF5KTtcclxuICAgfVxyXG5cclxuICAgIC8vIOWIpOaWreaXpeacn+aYr+W9k+WJjeaXpeacn+aIluW9k+WJjemAieS4reaXpeacn1xyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnByZWZlci1mdW5jdGlvbi1vdmVyLW1ldGhvZFxyXG4gICAgcHJpdmF0ZSBpc0VxdWFsVmFsdWUodHlwZT86IHN0cmluZywgdmFsdWU/OiBhbnksIHllYXI/OiBudW1iZXIsIG1vbnRoPzogbnVtYmVyLCBkYXk/OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIGxldCBfdmFsdWU6IGFueTtcclxuICAgIGlmICh0eXBlID09PSAneWVhcicpIHsgLy8g5bm0XHJcbiAgICAgICAgX3ZhbHVlID0gdmFsdWUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICBpZiAoX3ZhbHVlID09PSB5ZWFyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlID09PSAnbW9udGgnKSB7IC8vIOW5tOOAgeaciFxyXG4gICAgICAgIF92YWx1ZSA9IG5ldyBEYXRlKHZhbHVlLmdldEZ1bGxZZWFyKCksIHZhbHVlLmdldE1vbnRoKCkpO1xyXG4gICAgICAgIGlmIChfdmFsdWUuZ2V0VGltZSgpID09PSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEpLmdldFRpbWUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIOW5tOOAgeaciOOAgeaXpVxyXG4gICAgX3ZhbHVlID0gbmV3IERhdGUodmFsdWUuZ2V0RnVsbFllYXIoKSwgdmFsdWUuZ2V0TW9udGgoKSwgdmFsdWUuZ2V0RGF0ZSgpKTtcclxuICAgIGlmIChfdmFsdWUuZ2V0VGltZSgpID09PSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSkuZ2V0VGltZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4gICAvKipcclxuICAgICogQGRlc2NyaXB0aW9uIOagueaNruW9k+WJjeW5tOS7veWSjOacgOWkp+acgOWwj+WAvO+8jOiuvue9ruS4i+aLiemdouadv+S4reaYvuekuueahOaciOS7veeKtuaAgVxyXG4gICAgKi9cclxuICAgcHJpdmF0ZSBzZXRNb250aEFycigpOiB2b2lkIHtcclxuICAgICAgIGNvbnN0IHllYXI6IG51bWJlciA9IHRoaXMuZGF0ZS55ZWFyO1xyXG4gICAgICAgY29uc3QgaW5uZXJNb250aDogQXJyYXk8VGlEYXRlVmFsdWVBbmRTdGF0ZT4gPSBbXTtcclxuICAgICAgIGxldCBzdGF0ZTogc3RyaW5nID0gJyc7XHJcbiAgICAgICAvLyDorr7nva7mr4/kuKrmnIjku73lr7nlupTnmoTlgLzlkoznirbmgIFcclxuICAgICAgIGZvciAobGV0IG1vbnRoOiBudW1iZXIgPSAxOyBtb250aCA8PSAxMjsgbW9udGgrKykge1xyXG4gICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpwcmVmZXItY29uZGl0aW9uYWwtZXhwcmVzc2lvblxyXG4gICAgICAgICAgIGlmICh0aGlzLmlzU21hbGxlclRoYW5NaW5Nb250aCh5ZWFyLCBtb250aCkgfHwgKHRoaXMuaXNCaWdnZXJUaGFuTWF4TW9udGgoeWVhciwgbW9udGgpKSkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9ICdkaXNhYmxlJzsgLy8g5pyI5qC35byP572u54GwXHJcbiAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXF1YWxUb1ZhbHVlKCdtb250aCcsIHllYXIsIG1vbnRoKSkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9ICdjdXJyZW50JzsgLy8g5b2T5YmN6YCJ5LitXHJcbiAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3RhdGUgPSAnZGVmYXVsdCc7IC8vIOayoeaciemAieS4rVxyXG4gICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgaW5uZXJNb250aFttb250aCAtIDFdID0ge1xyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5sb2NhbC5tb250aEFyclttb250aCAtIDFdLFxyXG4gICAgICAgICAgICBzdGF0ZSxcclxuICAgICAgICAgICAgaXNNb250aDogdGhpcy5pc0VxdWFsVG9Ub2RheSgnbW9udGgnLCB5ZWFyLCBtb250aClcclxuICAgICAgICB9O1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgIC8vIOWwhuaciOS7veaVsOaNruagvOW8j+WMluS4uuS6jOe7tOaVsOe7hFxyXG4gICAgICAgdGhpcy5tb250aEFyciA9IFtdO1xyXG4gICAgICAgZm9yIChsZXQgcDogbnVtYmVyID0gMDsgcCA8IDM7IHArKykge1xyXG4gICAgICAgICAgIHRoaXMubW9udGhBcnJbcF0gPSBbXTtcclxuICAgICAgICAgICBmb3IgKGxldCBxOiBudW1iZXIgPSAwOyBxIDwgNDsgcSsrKSB7XHJcbiAgICAgICAgICAgICAgIHRoaXMubW9udGhBcnJbcF0ucHVzaChpbm5lck1vbnRoW3EgKyBwICogNF0pO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgIH1cclxuICAgfVxyXG5cclxuXHJcbiAgIC8qKlxyXG4gICAgKiBAZGVzY3JpcHRpb24g5qC55o2u5b2T5YmN5bm05Lu95ZKM5pyA5aSn5pyA5bCP5YC877yM6K6+572u5LiL5ouJ6Z2i5p2/5Lit5pi+56S655qE5pyI5Lu954q25oCBXHJcbiAgICAqL1xyXG4gICBwcml2YXRlIHNldEVuZHBhbmVsTW9udGhBcnIoKTogdm9pZCB7XHJcbiAgICBjb25zdCB5ZWFyOiBudW1iZXIgPSB0aGlzLmRhdGUueWVhciArIDE7XHJcbiAgICBjb25zdCBpbm5lck1vbnRoOiBBcnJheTxUaURhdGVWYWx1ZUFuZFN0YXRlPiA9IFtdO1xyXG4gICAgbGV0IHN0YXRlOiBzdHJpbmcgPSAnJztcclxuICAgIC8vIOiuvue9ruavj+S4quaciOS7veWvueW6lOeahOWAvOWSjOeKtuaAgVxyXG4gICAgZm9yIChsZXQgbW9udGg6IG51bWJlciA9IDE7IG1vbnRoIDw9IDEyOyBtb250aCsrKSB7XHJcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnByZWZlci1jb25kaXRpb25hbC1leHByZXNzaW9uXHJcbiAgICAgICAgaWYgKHRoaXMuaXNTbWFsbGVyVGhhbk1pbk1vbnRoKHllYXIsIG1vbnRoKSB8fCAodGhpcy5pc0JpZ2dlclRoYW5NYXhNb250aCh5ZWFyLCBtb250aCkpKSB7XHJcbiAgICAgICAgIHN0YXRlID0gJ2Rpc2FibGUnOyAvLyDmnIjmoLflvI/nva7ngbBcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNFcXVhbFRvVmFsdWUoJ21vbnRoJywgeWVhciwgbW9udGgpKSB7XHJcbiAgICAgICAgIHN0YXRlID0gJ2N1cnJlbnQnOyAvLyDlvZPliY3pgInkuK1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBzdGF0ZSA9ICdkZWZhdWx0JzsgLy8g5rKh5pyJ6YCJ5LitXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbm5lck1vbnRoW21vbnRoIC0gMV0gPSB7XHJcbiAgICAgICAgIHZhbHVlOiB0aGlzLmxvY2FsLm1vbnRoQXJyW21vbnRoIC0gMV0sXHJcbiAgICAgICAgIHN0YXRlLFxyXG4gICAgICAgICBpc01vbnRoOiB0aGlzLmlzRXF1YWxUb1RvZGF5KCdtb250aCcsIHllYXIsIG1vbnRoKVxyXG4gICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5bCG5pyI5Lu95pWw5o2u5qC85byP5YyW5Li65LqM57u05pWw57uEXHJcbiAgICB0aGlzLmVuZHBhbmVsTW9udGhBcnIgPSBbXTtcclxuICAgIGZvciAobGV0IHA6IG51bWJlciA9IDA7IHAgPCAzOyBwKyspIHtcclxuICAgICAgICB0aGlzLmVuZHBhbmVsTW9udGhBcnJbcF0gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBxOiBudW1iZXIgPSAwOyBxIDwgNDsgcSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kcGFuZWxNb250aEFycltwXS5wdXNoKGlubmVyTW9udGhbcSArIHAgKiA0XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24g5Yik5pat5Y+C5pWw5Lyg5p2l55qE5bm05pyI5piv5ZCm5bCP5LqO5pyA5bCP5pyI5Lu977ya5bCP5LqO6L+U5ZuedHJ1Ze+8jOWkp+S6jui/lOWbnmZhbHNlXHJcbiAgICAgKiBAcGFyYW0geWVhciDlubTku71cclxuICAgICAqIEBwYXJhbSBtb250aCDmnIjku71cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc1NtYWxsZXJUaGFuTWluTW9udGgoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCFUaURhdGVVdGlsLmlzRGF0ZSh0aGlzLm1pbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG1pbjogRGF0ZSA9IHRoaXMubWluO1xyXG4gICAgICAgIG1pbiA9IG5ldyBEYXRlKG1pbi5nZXRGdWxsWWVhcigpLCBtaW4uZ2V0TW9udGgoKSwgMSk7XHJcbiAgICAgICAgaWYgKG1pbi5nZXRUaW1lKCkgPiBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIDEpLmdldFRpbWUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbiDliKTmlq3lj4LmlbDkvKDmnaXnmoTlubTmnIjmmK/lkKblpKfkuo7mnIDlpKfmnIjku73vvJrlpKfkuo7ov5Tlm550cnVl77yM5bCP5LqO6L+U5ZueZmFsc2VcclxuICAgICAqIEBwYXJhbSB5ZWFyIOW5tOS7vVxyXG4gICAgICogQHBhcmFtIG1vbnRoIOaciOS7vVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzQmlnZ2VyVGhhbk1heE1vbnRoKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghVGlEYXRlVXRpbC5pc0RhdGUodGhpcy5tYXgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBtYXg6IERhdGUgPSB0aGlzLm1heDtcclxuICAgICAgICBtYXggPSBuZXcgRGF0ZShtYXguZ2V0RnVsbFllYXIoKSwgbWF4LmdldE1vbnRoKCksIDEpO1xyXG4gICAgICAgIGlmIChtYXguZ2V0VGltZSgpIDwgbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCAxKS5nZXRUaW1lKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24g6K6+572u5oyJ6ZKu54q25oCB77yaXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2V0WWVhclJhbmdlUHJlTmV4dFN0YXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IG1pblZhbHVlUmFuZ2U6IFRpWWVhclJhbmdlID0gdGhpcy5nZXRZZWFyUmFuZ2UodGhpcy5taW4uZ2V0RnVsbFllYXIoKSk7XHJcbiAgICAgICAgY29uc3QgbWF4VmFsdWVSYW5nZTogVGlZZWFyUmFuZ2UgPSB0aGlzLmdldFllYXJSYW5nZSh0aGlzLm1heC5nZXRGdWxsWWVhcigpKTtcclxuICAgICAgICB0aGlzLmlzTWF4WWVhclJhbmdlID0gKHRoaXMuZGF0ZS55ZWFyID49IG1heFZhbHVlUmFuZ2UubWluICYmIHRoaXMuZGF0ZS55ZWFyIDw9IG1heFZhbHVlUmFuZ2UubWF4KSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzTWluWWVhclJhbmdlID0gKHRoaXMuZGF0ZS55ZWFyID49IG1pblZhbHVlUmFuZ2UubWluICYmIHRoaXMuZGF0ZS55ZWFyIDw9IG1pblZhbHVlUmFuZ2UubWF4KSA/IHRydWUgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDojrflj5bml7bpl7TpnaLmnb/vvJrmnIDlpKflgLzlkozmnIDlsI/lgLzlubTpnaLmnb/ojIPlm7RcclxuICAgIHByaXZhdGUgZ2V0WWVhclJhbmdlKHllYXI6IG51bWJlcik6IFRpWWVhclJhbmdlIHtcclxuICAgICAgICBjb25zdCBtaW5EYXRlUmFuZ2U6IG51bWJlciA9ICB5ZWFyIC0geWVhciAlIDEwO1xyXG4gICAgICAgIGNvbnN0IG1heERhdGVSYW5nZTogbnVtYmVyID0gIG1pbkRhdGVSYW5nZSArIDk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1pbjogbWluRGF0ZVJhbmdlLFxyXG4gICAgICAgICAgICBtYXg6IG1heERhdGVSYW5nZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAvKipcclxuICAgICogQGRlc2NyaXB0aW9uIOagueaNruW9k+WJjeW5tOS7veWSjOacgOWkp+acgOWwj+WAvO+8jOiuvue9ruS4i+aLiemdouadv+S4reaYvuekuueahOW5tOS7veeKtuaAgVxyXG4gICAgKi9cclxuICAgcHJpdmF0ZSBzZXRZZWFyQXJyKCk6IHZvaWQge1xyXG4gICAgICAgLy8gMS7ojrflj5blvZPliY3lubTvvJvnrpflh7rotbflp4vlubTvvIxcclxuICAgICAgIGNvbnN0IGlubmVyWWVhcjogQXJyYXk8VGlEYXRlVmFsdWVBbmRTdGF0ZT4gPSBbXTsgLy8g5a2Y5YKo5bm05YC8XHJcbiAgICAgICBjb25zdCB5ZWFyOiBudW1iZXIgPSB0aGlzLmRhdGUueWVhciAtIHRoaXMuZGF0ZS55ZWFyICUgMTA7XHJcbiAgICAgICAvLyAyLuaVsOe7hOeahOesrOS4gOS4quS4uui1t+Wni+W5tCAtMe+8m1xyXG4gICAgICAgY29uc3Qgc3RhcnQ6IG51bWJlciA9IHllYXIgLSAxO1xyXG4gICAgICAgY29uc3QgZW5kOiBudW1iZXIgPSB5ZWFyICsgOTtcclxuICAgICAgIGxldCBpbmRleDogbnVtYmVyID0gMDtcclxuICAgICAgIGxldCBzdGF0ZTogc3RyaW5nID0gJyc7XHJcbiAgICAgICBjb25zdCBwcmVZZWFyUmFuZ2U6IHN0cmluZyA9IChzdGFydCA8PSB0aGlzLm1pbi5nZXRGdWxsWWVhcigpKSA/ICdkaXNhYmxlJyA6ICdwcmVZZWFyJztcclxuICAgICAgIGlubmVyWWVhci5wdXNoKHtcclxuICAgICAgICAgICBzdGF0ZTogcHJlWWVhclJhbmdlLFxyXG4gICAgICAgICAgIHZhbHVlOiBzdGFydFxyXG4gICAgICAgfSk7XHJcbiAgICAgICAvLyAzLui1t+Wni+W5tCAgLSDmnIDnu4jlubTvvIjotbflp4vlubQrOe+8ie+8iGZvcumBjeWOhu+8iVxyXG4gICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0geWVhcjsgaSA8PSBlbmQ7IGkrKykge1xyXG4gICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgaWYgKGkgPCB0aGlzLm1pbi5nZXRGdWxsWWVhcigpIHx8IGkgPiB0aGlzLm1heC5nZXRGdWxsWWVhcigpKSB7XHJcbiAgICAgICAgICAgICAgIHN0YXRlID0gJ2Rpc2FibGUnO1xyXG4gICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0VxdWFsVG9WYWx1ZSgneWVhcicsIGkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9ICdjdXJyZW50JzsgLy8g5b2T5YmN6YCJ5LitXHJcbiAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgc3RhdGUgPSAnZGVmYXVsdCc7XHJcbiAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICBpbm5lclllYXJbaW5kZXhdID0ge1xyXG4gICAgICAgICAgICB2YWx1ZTogaSxcclxuICAgICAgICAgICAgc3RhdGUsXHJcbiAgICAgICAgICAgIGlzWWVhcjogdGhpcy5pc0VxdWFsVG9Ub2RheSgneWVhcicsIGkpXHJcbiAgICAgICAgfTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgICAvLyDliKTmlq3mmK/kuI3mmK/lpKfkuo7mnIDlpKflubTvvJrlpKfkuo7mnIDlpKflubTnirbmgIHkuLrngbDljJZcclxuICAgICAgIGNvbnN0IG5leHRZZWFyUmFuZ2U6IHN0cmluZyA9IChlbmQgPj0gdGhpcy5tYXguZ2V0RnVsbFllYXIoKSkgPyAnZGlzYWJsZScgOiAnbmV4dFllYXInO1xyXG4gICAgICAgaW5uZXJZZWFyLnB1c2goe1xyXG4gICAgICAgICAgIHN0YXRlOiBuZXh0WWVhclJhbmdlLFxyXG4gICAgICAgICAgIHZhbHVlOiBlbmQgKyAxXHJcbiAgICAgICB9KTtcclxuICAgICAgIC8vIOWwhuaciOS7veaVsOaNruagvOW8j+WMluS4uuS6jOe7tOaVsOe7hFxyXG4gICAgICAgdGhpcy55ZWFyQXJyID0gW107XHJcbiAgICAgICBmb3IgKGxldCBwOiBudW1iZXIgPSAwOyBwIDwgMzsgcCsrKSB7XHJcbiAgICAgICAgICAgdGhpcy55ZWFyQXJyW3BdID0gW107XHJcbiAgICAgICAgICAgZm9yIChsZXQgcTogbnVtYmVyID0gMDsgcSA8IDQ7IHErKykge1xyXG4gICAgICAgICAgICAgICB0aGlzLnllYXJBcnJbcF0ucHVzaChpbm5lclllYXJbcSArIHAgKiA0XSk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgfVxyXG4gICB9XHJcblxyXG4gICAvKipcclxuICAgICogQGRlc2NyaXB0aW9uIOagueaNruW9k+WJjeW5tOS7veWSjOacgOWkp+acgOWwj+WAvO+8jOiuvue9ruS4i+aLiemdouadv+S4reaYvuekuueahOW5tOS7veeKtuaAgVxyXG4gICAgKi9cclxuICAgcHJpdmF0ZSBzZXRFbmRwYW5lbFllYXJBcnIoKTogdm9pZCB7XHJcbiAgICAvLyAxLuiOt+WPluW9k+WJjeW5tO+8m+eul+WHuui1t+Wni+W5tO+8jFxyXG4gICAgY29uc3QgaW5uZXJZZWFyOiBBcnJheTxUaURhdGVWYWx1ZUFuZFN0YXRlPiA9IFtdOyAvLyDlrZjlgqjlubTlgLxcclxuICAgIGNvbnN0IHllYXI6IG51bWJlciA9IHRoaXMuZGF0ZS55ZWFyIC0gdGhpcy5kYXRlLnllYXIgJSAxMCArIDEwO1xyXG4gICAgLy8gMi7mlbDnu4TnmoTnrKzkuIDkuKrkuLrotbflp4vlubQgLTHvvJtcclxuICAgIGNvbnN0IHN0YXJ0OiBudW1iZXIgPSB5ZWFyIC0gMTtcclxuICAgIGNvbnN0IGVuZDogbnVtYmVyID0geWVhciArIDk7XHJcbiAgICBsZXQgaW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICBsZXQgc3RhdGU6IHN0cmluZyA9ICcnO1xyXG4gICAgY29uc3QgcHJlWWVhclJhbmdlOiBzdHJpbmcgPSAoc3RhcnQgPD0gdGhpcy5taW4uZ2V0RnVsbFllYXIoKSkgPyAnZGlzYWJsZScgOiAncHJlWWVhcic7XHJcbiAgICBpbm5lclllYXIucHVzaCh7XHJcbiAgICAgICAgc3RhdGU6IHByZVllYXJSYW5nZSxcclxuICAgICAgICB2YWx1ZTogc3RhcnRcclxuICAgIH0pO1xyXG4gICAgLy8gMy7otbflp4vlubQgIC0g5pyA57uI5bm077yI6LW35aeL5bm0KznvvInvvIhmb3LpgY3ljobvvIlcclxuICAgIGZvciAobGV0IGk6IG51bWJlciA9IHllYXI7IGkgPD0gZW5kOyBpKyspIHtcclxuICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgIGlmIChpIDwgdGhpcy5taW4uZ2V0RnVsbFllYXIoKSB8fCBpID4gdGhpcy5tYXguZ2V0RnVsbFllYXIoKSkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9ICdkaXNhYmxlJztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNFcXVhbFRvVmFsdWUoJ3llYXInLCBpKSkge1xyXG4gICAgICAgICAgICAgc3RhdGUgPSAnY3VycmVudCc7IC8vIOW9k+WJjemAieS4rVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gJ2RlZmF1bHQnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5uZXJZZWFyW2luZGV4XSA9IHtcclxuICAgICAgICAgdmFsdWU6IGksXHJcbiAgICAgICAgIHN0YXRlLFxyXG4gICAgICAgICBpc1llYXI6IHRoaXMuaXNFcXVhbFRvVG9kYXkoJ3llYXInLCBpKVxyXG4gICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5Yik5pat5piv5LiN5piv5aSn5LqO5pyA5aSn5bm077ya5aSn5LqO5pyA5aSn5bm054q25oCB5Li654Gw5YyWXHJcbiAgICBjb25zdCBuZXh0WWVhclJhbmdlOiBzdHJpbmcgPSAoZW5kID49IHRoaXMubWF4LmdldEZ1bGxZZWFyKCkpID8gJ2Rpc2FibGUnIDogJ25leHRZZWFyJztcclxuICAgIGlubmVyWWVhci5wdXNoKHtcclxuICAgICAgICBzdGF0ZTogbmV4dFllYXJSYW5nZSxcclxuICAgICAgICB2YWx1ZTogZW5kICsgMVxyXG4gICAgfSk7XHJcbiAgICAvLyDlsIbmnIjku73mlbDmja7moLzlvI/ljJbkuLrkuoznu7TmlbDnu4RcclxuICAgIHRoaXMuZW5kcGFuZWxZZWFyQXJyID0gW107XHJcbiAgICBmb3IgKGxldCBwOiBudW1iZXIgPSAwOyBwIDwgMzsgcCsrKSB7XHJcbiAgICAgICAgdGhpcy5lbmRwYW5lbFllYXJBcnJbcF0gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBxOiBudW1iZXIgPSAwOyBxIDwgNDsgcSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kcGFuZWxZZWFyQXJyW3BdLnB1c2goaW5uZXJZZWFyW3EgKyBwICogNF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuICAgLy8g6K6+572u5bem5bm05ZCO6YCA5oyJ6ZKu54Gw5YyWXHJcbiAgICBpc1BpY2tlclllYXJNaW5WYWx1ZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5waWNrZXIgPT09ICd5ZWFyJz8gdGhpcy5pc01pblllYXJSYW5nZSA6IHRoaXMuaXNNaW5ZZWFyO1xyXG4gICAgfVxyXG4gICAvLyDorr7nva7lj7PlubTliY3ov5vmjInpkq7ngbDljJZcclxuICAgIGlzUGlja2VyWWVhck1heFZhbHVlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBpY2tlciA9PT0gJ3llYXInPyB0aGlzLmlzTWF4WWVhclJhbmdlIDogdGhpcy5pc01heFllYXI7XHJcbiAgIH1cclxuXHJcbiAgIHB1YmxpYyB0cmFja0J5Rm4oaW5kZXg6IG51bWJlciwgaXRlbTogYW55KTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRPcHRpb25zKG51bTogbnVtYmVyLCBwb3M/OiBzdHJpbmcpOiBBcnJheTxhbnk+IHtcclxuICAgICAgICBjb25zdCBvcHRpb25zOiBBcnJheTxhbnk+ID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IG51bTsgaSsrKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnNbaV0gPSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbCA6IGkgPCAxMCA/ICcwJyArIGkgOiBTdHJpbmcoaSksXHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogcG9zID09PSAnZW5kJyA/IHRoaXMuZW5kVGltZURpc2FibGVkIDogdGhpcy5iZWdpblRpbWVEaXNhYmxlZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBpZ25vcmVcclxuICAgICog5pe26Ze06YCJ5oup5qGG6YOo5YiG6byg5qCH56e75Ye65pe25Y676ZmkaG92ZXLmoLflvI9cclxuICAgICovXHJcbiAgICBwdWJsaWMgb25Nb3VzZWxlYXZlKGxpc3RDb206IFRpTGlzdENvbXBvbmVudCkge1xyXG4gICAgICAgIGxpc3RDb20uaG92ZXJPcHRpb24gPSBudWxsO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==