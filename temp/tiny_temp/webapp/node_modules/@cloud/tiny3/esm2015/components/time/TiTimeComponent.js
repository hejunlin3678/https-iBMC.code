import { Component, ElementRef, HostListener, Input, NgZone, Renderer2, ViewChild, Inject } from '@angular/core';
import { TiKeymap, Util } from '../../utils/Util';
import { TiLocale, TiLocaleFormat } from '../../locale/TiLocaleModule';
import { TiFormComponent } from '../base/TiBaseModule';
import { TiDropComponent } from '../drop/TiDropModule';
import { DOCUMENT } from '@angular/common';
/**
 * Time时间组件
 *
 * Time组件提供了一种方便的显示和设置时间的方式。
 *
 * <example-url>../tiny3demo/#/time/time-all</example-url>
 */
export class TiTimeComponent extends TiFormComponent {
    constructor(zone, hostRef, renderer2, document) {
        super(hostRef, renderer2);
        this.zone = zone;
        this.hostRef = hostRef;
        this.renderer2 = renderer2;
        this.document = document;
        /**
         * 是否展示清除时间图标（默认显示）
         *
         * 10.1.2新增接口
         */
        this.clearIcon = true;
        this.localeWords = TiLocale.getLocaleWords();
        /**
         * @ignore
         * time编辑框内部value值
         */
        this.inputValue = '';
        /**
         * @ignore
         * dominator最终显示时间值
         */
        this.timeValue = '';
        /**
         * @ignore
         * 时间下拉面板宽度，根据时间格式宽度各异
         */
        this.timePanelWidth = 284;
        /**
         * @ignore
         * 底部确认按钮是否禁用
         */
        this.buttonDisabled = true;
        /**
         * @ignore
         */
        this.oldInputValue = '';
        /**
         * @ignore
         * 面板与dominator的距离
         */
        this.dominatorSpace = '-30px';
        this.keydownHandlerFn = (event) => {
            if (event.keyCode === TiKeymap.KEY_ESCAPE) {
                this.hidePanel();
            }
        };
    }
    /**
     * @description: 若时间字符串没有一个冒号时处理成合法的事件字符串（加冒号）
     * @param value 时间字符串
     */
    static addColon(value) {
        // new Date()时，时间中没有一个冒号得到的是非法时间
        if (value.match(/:/)) {
            return value;
        }
        let ampm = value.match(/am|AM|pm|PM/);
        ampm = ampm || '';
        return `${parseInt(value, 10)}: ${ampm}`;
    }
    /**
     * @description 判读字符串是否是合法的时间
     * @param: time: 校验的时间
     */
    static isValidTime(time) {
        // value非字符串或者为空字符串时，为非法时间
        if (!Util.isString(time) || time.trim() === '') {
            return false;
        }
        const date = new Date(`2018/5/15 ${TiTimeComponent.addColon(time)}`);
        // any类型是为了防止编译报错 Date类型不能和string类型比较
        return !(String(date) === 'Invalid Date');
    }
    /**
     * @description: hh/HH/mm/ss 时间格式时，显示的值处理成2位，不足2位补0
     * @param: num : 各个时间显示框的数值
     * @param: length : 需要处理之后的长度
     */
    static addZero(num, length) {
        const zeroNum = `00${num}`;
        return zeroNum.substr(zeroNum.length - length, length);
    }
    /**
     * @description newVal参数为合法值时返回newVal，否则返回defaultValue参数
     * @param: newVal:新值
     * @param: defaultValue:默认值
     */
    static verifyTime(newVal, defaultValue) {
        return TiTimeComponent.isValidTime(newVal) ? newVal : defaultValue;
    }
    /**
     * @description 比较value1和value2两个时间值大小.value1 < value2时，返回true；否则返回false  ；
     * @param: value1:比较的前一个值
     * @param: value2:比较的后一个值
     */
    static isSmaller(value1, value2) {
        return Date.parse(`2018/5/15 ${TiTimeComponent.addColon(value1)}`) < Date.parse(`2018/5/15 ${TiTimeComponent.addColon(value2)}`);
    }
    /**
     * @description 比较value1和value2两个时间值大小.value1 > value2时，返回true；否则返回false  ；
     * @param: value1:比较的前一个值
     * @param: value2:比较的后一个值
     */
    static isBigger(value1, value2) {
        return Date.parse(`2018/5/15 ${TiTimeComponent.addColon(value1)}`) > Date.parse(`2018/5/15 ${TiTimeComponent.addColon(value2)}`);
    }
    /**
     * @description 比较value1和value2两个时间值大小.value1 <= value2时，返回true；否则返回false  ；
     * @param: value1:比较的前一个值
     * @param: value2:比较的后一个值
     */
    static isSmallerOrEqual(value1, value2) {
        return Date.parse(`2018/5/15 ${TiTimeComponent.addColon(value1)}`) <= Date.parse(`2018/5/15 ${TiTimeComponent.addColon(value2)}`);
    }
    /**
     * @description 比较value1和value2两个时间值大小.value1 >= value2时，返回true；否则返回false  ；
     * @param: value1:比较的前一个值
     * @param: value2:比较的后一个值
     */
    static isBiggerOrEqual(value1, value2) {
        return Date.parse(`2018/5/15 ${TiTimeComponent.addColon(value1)}`) >= Date.parse(`2018/5/15 ${TiTimeComponent.addColon(value2)}`);
    }
    // 组件声明周期钩子--start
    ngOnInit() {
        super.ngOnInit();
        // 初始化变量
        this.initVariable();
        // 最大最小值校验
        this.validateMaxAndMin();
        this.showTimeWithFormat();
        this.setTimeOptions();
        this.placeholder = this.format;
        this.zone.runOutsideAngular(() => {
            // document上的Ecs快捷键功能
            this.documentKeydownListener = this.renderer2.listen(this.document, 'keydown', this.keydownHandlerFn);
        });
    }
    setTimeOptions() {
        this.hourOptions = this.setOptions(24, 'hour');
        this.minuteOptions = this.setOptions(60, 'minute');
        this.secondOptions = this.setOptions(60, 'second');
    }
    // 根据格式format判断面板展示情况
    showTimeWithFormat() {
        // 纯小时
        if (this.format.indexOf('m') === -1) {
            this.onlyHour = true;
        }
        else if (this.format.indexOf('s') === -1) { // 仅时分
            this.onlyHourMinute = true;
        }
    }
    initVariable() {
        // 1. 时间格式校验
        this.format = Util.isString(this.format) ? this.format : this.localeWords.tiLocaleDate['time'];
    }
    validateMaxAndMin() {
        const defaultMaxValue = '23:59:59';
        const defaultMinValue = '00:00:00';
        // 最大值合法性校验
        this.max = TiTimeComponent.verifyTime(this.max, defaultMaxValue);
        // 最小值合法性校验
        this.min = TiTimeComponent.verifyTime(this.min, defaultMinValue);
        // 最大最小值矛盾时，设置为默认值
        if (TiTimeComponent.isSmaller(this.max, this.min)) {
            this.min = defaultMinValue;
            this.max = defaultMaxValue;
        }
    }
    ngOnChanges(changes) {
        super.ngOnChanges(changes);
        // 1.0 minValue监控
        if (changes['min'] && !changes['min'].isFirstChange()) {
            // 新minValue值非法时，恢复到之前值
            if (!this.isValidMinValue(changes['min'].currentValue)) {
                this.min = changes['min'].previousValue;
                return;
            }
            // 对value值进行最小值校验
            setTimeout(() => {
                if (TiTimeComponent.isValidTime(this.model) && TiTimeComponent.isSmaller(this.model, this.min)) {
                    this.model = this.min;
                    this.formatValue();
                }
                this.setDisableData();
            }, 0);
        }
        // 2.0 maxValue监控
        if (changes['max'] && !changes['max'].isFirstChange()) {
            // 新maxValue值非法时，恢复到之前值
            if (!this.isValidMaxValue(changes['max'].currentValue)) {
                this.max = changes['max'].previousValue;
                return;
            }
            // 对value值进行最小值校验
            setTimeout(() => {
                if (TiTimeComponent.isValidTime(this.model) && TiTimeComponent.isBigger(this.model, this.max)) {
                    this.model = this.max;
                    this.formatValue();
                }
                this.setDisableData();
            }, 0);
        }
        // 3.0 format监控
        if (changes['format'] && !changes['format'].isFirstChange()) {
            // 新format值非法时，恢复到之前值
            if (!Util.isString(changes['format'].currentValue)) {
                this.format = changes['format'].previousValue;
                return;
            }
            this.showTimeWithFormat();
            if (TiTimeComponent.isValidTime(this.model)) {
                this.formatValue();
            }
        }
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
        setTimeout(() => {
            this.dominatorCom = this.containerRef.nativeElement;
            this.setFocusableElems([this.dominatorCom]
                .concat(this.dropCom.nativeElement)
                .concat(this.textCom.nativeElement)
                .concat(this.inputEle.nativeElement)
                .concat(this.buttonEle.nativeElement));
        }, 0);
    }
    ngOnDestroy() {
        super.ngOnDestroy();
        if (this.documentKeydownListener) {
            this.documentKeydownListener();
        }
    }
    // 组件声明周期钩子--end
    // 实现ControlValueAccessor接口
    /**
     * @ignore
     */
    writeValue(value) {
        super.writeValue(value);
        if (value === '' || !this.isValidValue(value)) {
            this.model = '';
            this.buttonDisabled = true;
            this.setDisableData();
            return;
        }
        this.buttonDisabled = false;
        this.model = value;
        this.formatValue();
        this.setDisableData();
    }
    // 实现ControlValueAccessor接口--end
    /**
     * @ignore
     * @description: 组件整体失焦之后处理函数
     */
    onBlur() {
        // 失焦后下拉关闭
        this.hidePanel();
        this.inputValue = this.model;
        this.setDisableData();
        this.setSelectVal();
        this.getScrollData();
    }
    // 面板延迟200ms关闭,用户输入新值之后，直接点击确认按钮关闭面板时，
    // 面板内部选中项先刷新 再关闭 200ms的延迟 用户可以看到这样一个视觉的过程
    // 200ms通过本地用例，跟规范侧共同决定的一个延时数值
    hidePanel() {
        setTimeout(() => {
            this.dropCom.hide();
            // 初始化数据，保证有时间值时，初次打开数据定位在顶部
            this.hourScroll = -1;
            this.minuteScroll = -1;
            this.secondScroll = -1;
        }, 200);
    }
    /**
     * @ignore
     * 点击dominator打开面板
     */
    onShowClick() {
        if (this.disabled) {
            return;
        }
        if (this.isClearClick) {
            this.isClearClick = false;
            return;
        }
        this.getScrollData();
        this.dropCom.show();
        this.textCom.nativeElement.focus();
        this.buttonDisabled = !this.model;
    }
    /**
     * @ignore
     * 点击确认按钮关闭面板
     */
    okClickFn() {
        this.timeValue = this.inputValue;
        this.model = this.inputValue;
        // 记录旧值，当输入非法时，返回之前合法值
        this.oldInputValue = this.inputValue;
        this.containerRef.nativeElement.focus();
        this.hidePanel();
    }
    /**
     * @ignore
     * 时间面板点击选择事件
     * @param val
     * @param title
     */
    onSelect(val, title) {
        // 禁用状态
        if (val.disabled) {
            return;
        }
        const arr = this.onlyHour ? ['00'] : this.onlyHourMinute ? ["00", "00"] : ["00", "00", "00"];
        const timeArr = this.inputValue === '' ? arr : this.inputValue.split(':');
        switch (title) {
            case 'hour':
                timeArr[0] = val.label;
                this.hourScroll = val.label * 30;
                break;
            case 'minute':
                timeArr[1] = val.label;
                this.minuteScroll = val.label * 30;
                break;
            case 'second':
                timeArr[2] = val.label;
                this.secondScroll = val.label * 30;
                break;
            default:
                break;
        }
        this.inputValue = timeArr.join(':');
        this.setSelectVal();
        this.oldInputValue = this.inputValue;
        this.buttonDisabled = false;
        this.setDisableData();
    }
    setSelectVal() {
        if (!TiTimeComponent.isValidTime(this.inputValue)) {
            this.selectedHour = null;
            this.selectedMinute = null;
            this.selectedSecond = null;
            return;
        }
        if (TiTimeComponent.isSmaller(this.inputValue, this.min)) {
            this.inputValue = this.min;
        }
        if (TiTimeComponent.isBigger(this.inputValue, this.max)) {
            this.inputValue = this.max;
        }
        const newtimeArr = this.inputValue.split(':');
        const hourVal = TiTimeComponent.addZero(Number(newtimeArr[0]), 2);
        const minuteVal = TiTimeComponent.addZero(Number(newtimeArr[1]), 2);
        const secondVal = TiTimeComponent.addZero(Number(newtimeArr[2]), 2);
        this.selectedHour = this.getSelectedVal(this.hourOptions, hourVal);
        this.selectedMinute = this.getSelectedVal(this.minuteOptions, minuteVal);
        this.selectedSecond = this.getSelectedVal(this.secondOptions, secondVal);
        // 失焦之后，个位的数字需补零
        if (this.onlyHour) {
            this.inputValue = hourVal;
        }
        else if (this.onlyHourMinute) {
            this.inputValue = hourVal + ':' + minuteVal;
        }
        else {
            this.inputValue = hourVal + ':' + minuteVal + ':' + secondVal;
        }
        this.getScrollData();
    }
    /**
     * 组件快捷键处理tab键 enter键
     */
    onKeydown(event) {
        switch (event.keyCode) {
            case TiKeymap.KEY_ENTER: // ENTER键(大键盘)
            case TiKeymap.KEY_NUMPAD_ENTER: // ENTER键(数字小键盘)
                this.responseEnter();
                break;
            default:
                break;
        }
    }
    /**
     * @ignore
     * enter键的功能：如果面板展开不处理，面板收起则展开，设置datePanel指令的接口值
     */
    responseEnter() {
        if (this.dropCom.isShow) {
            return;
        }
        this.getScrollData();
        // 时间面板展开
        this.dropCom.show();
        this.textCom.nativeElement.focus();
    }
    /**
     * @ignore
     * 输入为中文冒号时，自动转换为英文冒号
     * @param val
     */
    onInputChangeFn(val) {
        if (!Util.isEmptyString(val)) {
            let value = val;
            value = value.replace('：', ':');
            this.inputValue = value;
        }
        else {
            this.buttonDisabled = true;
        }
    }
    /**
     * @ignore
     * 时间框enter事件
     */
    timeKeydownFn(event, val) {
        if (event.keyCode === TiKeymap.KEY_ENTER || event.keyCode === TiKeymap.KEY_NUMPAD_ENTER) {
            this.timeBlur(val);
        }
    }
    timeBlur(val) {
        if (val === '') {
            this.buttonDisabled = true;
            this.inputValue = '';
            this.oldInputValue = this.inputValue;
            this.getScrollData();
            return;
        }
        // 区分中英文冒号
        const reg = new RegExp('[\\:\\：]');
        let timeArr = val.split(reg);
        const formatArr = this.format.split(':');
        // 用户输入与format不匹配时，按照非法字符处理
        if (timeArr.length !== formatArr.length) {
            this.inputValue = this.oldInputValue;
            return;
        }
        timeArr.forEach((item) => {
            if ((item < 0 || item > 59) || isNaN(Number(item)) || parseInt(item, 10) !== Number(item)) {
                this.inputValue = this.oldInputValue;
                if (Util.isEmptyString(this.inputValue)) {
                    this.buttonDisabled = false;
                }
                return;
            }
        });
        this.oldInputValue = this.inputValue;
        this.buttonDisabled = false;
        this.setSelectVal();
        this.getScrollData();
        this.setDisableData();
    }
    // 获取滚动值
    getScrollData() {
        if (Util.isEmptyString(this.inputValue)) {
            this.hourScroll = 0;
            this.minuteScroll = 0;
            this.secondScroll = 0;
        }
        else {
            const reg = new RegExp('[\\:\\：]');
            const timeArr = this.inputValue.split(reg);
            this.hourScroll = timeArr[0] * 30;
            this.minuteScroll = timeArr[1] * 30;
            this.secondScroll = timeArr[2] * 30;
        }
    }
    /**
     * @ignore
     * 清除
     */
    onIconClearClick() {
        if (this.disabled || !this.clearIcon) {
            return;
        }
        this.inputValue = '';
        this.oldInputValue = '';
        this.timeValue = '';
        this.model = '';
        this.selectedHour = null;
        this.selectedMinute = null;
        this.selectedSecond = null;
        this.buttonDisabled = true;
        this.isClearClick = true;
        this.setDisableData();
    }
    getSelectedVal(options, val) {
        return options.find((item) => {
            if (!item.disabled && item.label === val) {
                return item;
            }
            else {
                return null;
            }
        });
    }
    setOptions(num, labelKey) {
        const options = [];
        for (let i = 0; i < num; i++) {
            options[i] = {
                label: TiTimeComponent.addZero(i, 2),
                disabled: false
            };
        }
        return options;
    }
    setDisableData() {
        if (this.max === '23:59:59' && this.min === '00:00:00') {
            return false;
        }
        const maxArr = this.max.split(':');
        const minArr = this.min.split(':');
        const timeArr = this.inputValue.split(':');
        // 根据最大最小值判定小时禁用项
        this.hourOptions.forEach((item) => {
            item.disabled = Number(item.label) < Number(minArr[0]) || Number(item.label) > Number(maxArr[0]);
        });
        // 最小小时情况,需考虑分钟禁用
        if (Number(timeArr[0]) === Number(minArr[0])) {
            this.minuteOptions.forEach((minuteItem) => {
                minuteItem.disabled = Number(minuteItem.label) < Number(minArr[1]);
            });
        }
        // 最大小时情况,需考虑分钟禁用
        if (Number(timeArr[0]) === Number(maxArr[0])) {
            this.minuteOptions.forEach((minuteItem) => {
                minuteItem.disabled = Number(minuteItem.label) > Number(maxArr[1]);
            });
        }
        // 最小时分情况,需考虑秒数禁用
        if (Number(timeArr[0]) === Number(minArr[0]) && Number(timeArr[1]) === Number(minArr[1])) {
            this.secondOptions.forEach((secondItem) => {
                secondItem.disabled = Number(secondItem.label) < Number(minArr[2]);
            });
        }
        else if (Number(timeArr[0]) === Number(maxArr[0]) && Number(timeArr[1]) === Number(maxArr[1])) { // 最大时分情况,需考虑秒数禁用
            this.secondOptions.forEach((secondItem) => {
                secondItem.disabled = Number(secondItem.label) > Number(maxArr[2]);
            });
        }
        else {
            this.secondOptions.forEach((secondItem) => {
                secondItem.disabled = false;
            });
        }
        // 非临界值(最大最小小时)时需复原
        if (Number(timeArr[0]) !== Number(minArr[0]) && Number(timeArr[0]) !== Number(maxArr[0])) {
            this.minuteOptions.forEach((minuteItem) => {
                minuteItem.disabled = false;
            });
        }
    }
    /**
    * @ignore
    * 时间选择框部分鼠标移出时去除hover样式
    */
    onMouseleave(listCom) {
        listCom.hoverOption = null;
    }
    // 组件交互方法集合--end
    // 内部公共方法集合--start
    /**
     * @description:最大值最小值检验
     */
    validateValue() {
        // 最小值校验
        if (TiTimeComponent.isSmaller(this.model, this.min)) {
            this.model = this.min;
        }
        // 最大值校验
        if (TiTimeComponent.isBigger(this.model, this.max)) {
            this.model = this.max;
        }
    }
    /**
     * @description: 时间格式化及时间各个框显示值设置
     */
    formatValue() {
        // 格式化value
        const date = new Date(`2018/5/15 ${TiTimeComponent.addColon(this.model)}`);
        const formatStr = TiLocaleFormat.formatTime(date, this.format);
        if (this.model !== formatStr) {
            this.model = formatStr;
        }
        this.timeValue = this.model;
        this.inputValue = this.model;
        this.oldInputValue = this.inputValue;
        const timeArr = this.inputValue.split(':');
        this.selectedHour = this.getSelectedVal(this.hourOptions, TiTimeComponent.addZero(Number(timeArr[0]), 2));
        this.selectedMinute = this.getSelectedVal(this.minuteOptions, TiTimeComponent.addZero(Number(timeArr[1]), 2));
        this.selectedSecond = this.getSelectedVal(this.secondOptions, TiTimeComponent.addZero(Number(timeArr[2]), 2));
    }
    /**
     * @description: 校验动态更新的minValue是否是合法值
     * @param: minValue:动态更新的传入的minValue
     */
    isValidMinValue(minValue) {
        return TiTimeComponent.isValidTime(minValue) && TiTimeComponent.isSmallerOrEqual(minValue, this.max);
    }
    /**
     * @description: 校验动态更新的maxValue是否是合法值
     * @param: maxValue:动态更新的传入的maxValue
     */
    isValidMaxValue(maxValue) {
        return TiTimeComponent.isValidTime(maxValue) && TiTimeComponent.isBiggerOrEqual(maxValue, this.min);
    }
    /**
     * @description: 判断动态更新写入组件的value值是否是一个合法值
     * @param: value 动态更新写入组件的value值
     */
    isValidValue(value) {
        return TiTimeComponent.isValidTime(value) &&
            TiTimeComponent.isBiggerOrEqual(value, this.min) &&
            TiTimeComponent.isSmallerOrEqual(value, this.max);
    }
}
TiTimeComponent.decorators = [
    { type: Component, args: [{
                selector: 'ti-time',
                template: "<ti-date-dominator #dominator\r\n    [id]=\"appendId('dominator')\"\r\n    [clearable]=\"clearIcon\"\r\n    [disabled]=\"disabled\"\r\n    [isTime]='true'\r\n    [(ngModel)]=\"timeValue\"\r\n    (clear)=\"onIconClearClick()\"\r\n    (click)=\"onShowClick()\">{{ placeholder }}</ti-date-dominator>\r\n\r\n<ti-drop #drop [dominatorElem]=\"dominatorCom\"\r\n    [dominatorSpace]='dominatorSpace'\r\n    fixMaxHeight=\"true\"\r\n    [panelWidth]=\"timePanelWidth\" class='ti3-time-drop-container'\r\n    [id]=\"appendId('drop')\">\r\n    <input class='ti3-time-edit'\r\n                    type=\"text\"\r\n                    [(ngModel)]='inputValue'\r\n                    (ngModelChange)='onInputChangeFn($event)'\r\n                    (blur)='timeBlur(inputValue)'\r\n                    maxlength=\"8\"\r\n                    (keydown)='timeKeydownFn($event, inputValue)'\r\n                    [id]=\"appendId('input')\"\r\n                    #text\r\n                    tiText/>\r\n                    <!-- \u786E\u8BA4\u6309\u94AE\u7981\u7528\u573A\u666F\u4E0B\uFF0C\u65F6\u95F4\u8F93\u5165\u4E4B\u540E\u65E0\u6CD5\u76F4\u63A5tab\u5207\u6362\u7126\u70B9\u81F3\u786E\u8BA4\u6309\u94AE\uFF0C\u6545\u6DFB\u52A0\u6B64\u8FC7\u5EA6input -->\r\n                    <input #input type=\"text\"\r\n                    [ngClass]=\"{'ti3-time-edit-with-button-disabled': buttonDisabled,\r\n                    'ti3-time-edit-with-button-undisabled': !buttonDisabled}\"\r\n                    class=\"ti3-time-tab-input\"/>\r\n    <section class='ti3-time-select-container'>\r\n        <!-- \u65F6 -->\r\n        <div class='ti3-time-select-item-container'>\r\n            <span class='ti3-time-select-title'>{{ 'tiDate.hour' | tiTranslate }}</span>\r\n            <ti-list #hourContainer class='ti3-time-select-list' [options]='hourOptions'\r\n                [(ngModel)]=\"selectedHour\"\r\n                [scrollTop]='hourScroll'\r\n                (select)=\"onSelect($event, 'hour')\"\r\n                (mouseleave)=\"onMouseleave(hourContainer)\"\r\n                [id]=\"appendId('list_hour')\"></ti-list>\r\n        </div>\r\n        <!-- \u5206 -->\r\n        <div class='ti3-time-select-item-container' *ngIf=\"!onlyHour\">\r\n            <span class='ti3-time-select-title'>{{ 'tiDate.minute' | tiTranslate }}</span>\r\n           <ti-list #minuteContainer class='ti3-time-select-list' [options]='minuteOptions'\r\n           [(ngModel)]=\"selectedMinute\"\r\n           [scrollTop]='minuteScroll'\r\n           (select)=\"onSelect($event, 'minute')\"\r\n           (mouseleave)=\"onMouseleave(minuteContainer)\"\r\n           [id]=\"appendId('list_minute')\"></ti-list>\r\n        </div>\r\n        <!-- \u79D2 -->\r\n        <div class='ti3-time-select-item-container' *ngIf='!onlyHour && !onlyHourMinute'>\r\n            <span class='ti3-time-select-title'>{{ 'tiDate.second' | tiTranslate }}</span>\r\n            <ti-list #secondContainer class='ti3-time-select-list' [options]='secondOptions'\r\n            [(ngModel)]=\"selectedSecond\"\r\n            [scrollTop]='secondScroll'\r\n            (select)=\"onSelect($event, 'second')\"\r\n            (mouseleave)=\"onMouseleave(secondContainer)\"\r\n            [id]=\"appendId('list_second')\"></ti-list>\r\n        </div>\r\n    </section>\r\n    <div class='ti3-time-button-confirm'>\r\n        <button #button tiButton size=\"small\" [disabled]=\"buttonDisabled\" (click)='okClickFn()' [id]=\"appendId('button')\">{{ 'tiCommon.okBtn' | tiTranslate }}</button>\r\n    </div>\r\n</ti-drop>\r\n",
                providers: [TiFormComponent.getValueAccessor(TiTimeComponent)],
                host: {
                    '[class.ti3-time-container]': 'true',
                    '(blur)': 'onBlur()'
                },
                styles: [".ti3-compnent-container-border,:host.ti3-time-container{-ms-box-sizing:border-box;border:1px solid;border-radius:var(--ti-input-border-radius);box-sizing:border-box;display:inline-block}.ti3-compnent-container-border:not([disabled]),:host.ti3-time-container:not([disabled]){background-color:var(--ti-input-bg-color);border-color:var(--ti-input-border-color)}.ti3-compnent-container-border:not([disabled]):hover,:host.ti3-time-container:not([disabled]):hover{border-color:var(--ti-input-border-color-hover)}.ti3-compnent-container-border:not([disabled])[tiFocused],:host.ti3-time-container:not([disabled])[tiFocused]{border-color:var(--ti-input-border-color-focus)}.ti3-compnent-container-border[disabled],:host.ti3-time-container[disabled]{background-color:var(--ti-input-bg-color-disabled);border-color:var(--ti-input-border-color-disabled);cursor:not-allowed!important}:host.ti3-time-container{width:120px}::ng-deep :root .ti3-time-drop-container:focus{outline:0}:host.ti3-time-container{-ms-box-sizing:border-box;-ms-user-select:none;-webkit-user-select:none;background-color:var(--ti-input-bg-color);border:1px solid var(--ti-input-border-color);border-radius:var(--ti-input-border-radius);box-sizing:border-box;display:inline-block;font-size:var(--ti-common-font-size-base);height:var(--ti-input-height);line-height:normal;position:relative;user-select:none;vertical-align:middle}.ti3-time-select-container{border:1px solid var(--ti-common-color-line-dividing);display:flex;justify-content:space-around}.ti3-time-select-item-container{border-right:1px solid var(--ti-common-color-line-dividing);width:100%}.ti3-time-select-item-container:last-child{border-right:none}::ng-deep :root .ti3-time-select-list{height:230px;overflow-y:auto;width:100%}::ng-deep :root .ti3-time-select-list li{margin-top:0;text-align:center}.ti3-time-drop-container{height:365px;padding:var(--ti-common-space-3x) var(--ti-common-space-4x)}.ti3-time-edit{display:block;margin-bottom:var(--ti-common-space-3x);width:100%}::ng-deep .ti3-time-edit{border-color:var(--ti-input-border-color-focus)!important}.ti3-time-select-title{display:block;height:30px;line-height:30px;margin-left:-6px;text-align:center;width:100%}.ti3-time-button-confirm{float:right;margin-top:var(--ti-common-space-3x)}::ng-deep .ti3-time-edit-with-button-disabled{opacity:0}::ng-deep .ti3-time-edit-with-button-undisabled{display:none}.ti3-time-tab-input{height:0;left:-9999px;position:absolute;top:-9999px;width:0}"]
            },] }
];
TiTimeComponent.ctorParameters = () => [
    { type: NgZone },
    { type: ElementRef },
    { type: Renderer2 },
    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }
];
TiTimeComponent.propDecorators = {
    format: [{ type: Input }],
    max: [{ type: Input }],
    min: [{ type: Input }],
    clearIcon: [{ type: Input }],
    containerRef: [{ type: ViewChild, args: ['dominator', { static: true },] }],
    dropCom: [{ type: ViewChild, args: [TiDropComponent, { static: true },] }],
    textCom: [{ type: ViewChild, args: ['text', { static: true },] }],
    inputEle: [{ type: ViewChild, args: ['input', { static: true },] }],
    buttonEle: [{ type: ViewChild, args: ['button', { static: true },] }],
    onKeydown: [{ type: HostListener, args: ['keydown', ['$event'],] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGlUaW1lQ29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vQGNsb3VkL3RpbnkzL2NvbXBvbmVudHMvdGltZS9UaVRpbWVDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILFNBQVMsRUFDVCxVQUFVLEVBQ1YsWUFBWSxFQUNaLEtBQUssRUFDTCxNQUFNLEVBQ04sU0FBUyxFQUVULFNBQVMsRUFDVCxNQUFNLEVBQ1QsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsUUFBUSxFQUFFLGNBQWMsRUFBaUIsTUFBTSw2QkFBNkIsQ0FBQztBQUN0RixPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDdkQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQW9CM0M7Ozs7OztHQU1HO0FBWUgsTUFBTSxPQUFPLGVBQWdCLFNBQVEsZUFBZTtJQXVKaEQsWUFDWSxJQUFZLEVBQ1YsT0FBbUIsRUFDbkIsU0FBb0IsRUFDSixRQUFRO1FBRWxDLEtBQUssQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFMbEIsU0FBSSxHQUFKLElBQUksQ0FBUTtRQUNWLFlBQU8sR0FBUCxPQUFPLENBQVk7UUFDbkIsY0FBUyxHQUFULFNBQVMsQ0FBVztRQUNKLGFBQVEsR0FBUixRQUFRLENBQUE7UUExSHRDOzs7O1dBSUc7UUFDSyxjQUFTLEdBQVksSUFBSSxDQUFDO1FBcUJqQixnQkFBVyxHQUFrQixRQUFRLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDeEU7OztXQUdHO1FBQ0ksZUFBVSxHQUFXLEVBQUUsQ0FBQztRQUMvQjs7O1dBR0c7UUFDSSxjQUFTLEdBQVcsRUFB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QUFJLEVBQUU7d0JBSWxDLFNBQVMsU0FBQyxRQUFRLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO3dCQTRjcEMsWUFBWSxTQUFDLFNBQVMsRUFBRSxDQUFDLFFBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgICBDb21wb25lbnQsXHJcbiAgICBFbGVtZW50UmVmLFxyXG4gICAgSG9zdExpc3RlbmVyLFxyXG4gICAgSW5wdXQsXHJcbiAgICBOZ1pvbmUsXHJcbiAgICBSZW5kZXJlcjIsXHJcbiAgICBTaW1wbGVDaGFuZ2VzLFxyXG4gICAgVmlld0NoaWxkLFxyXG4gICAgSW5qZWN0XHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRpS2V5bWFwLCBVdGlsIH0gZnJvbSAnLi4vLi4vdXRpbHMvVXRpbCc7XHJcbmltcG9ydCB7IFRpTG9jYWxlLCBUaUxvY2FsZUZvcm1hdCwgVGlMb2NhbGVXb3JkcyB9IGZyb20gJy4uLy4uL2xvY2FsZS9UaUxvY2FsZU1vZHVsZSc7XHJcbmltcG9ydCB7IFRpRm9ybUNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UvVGlCYXNlTW9kdWxlJztcclxuaW1wb3J0IHsgVGlEcm9wQ29tcG9uZW50IH0gZnJvbSAnLi4vZHJvcC9UaURyb3BNb2R1bGUnO1xyXG5pbXBvcnQgeyBET0NVTUVOVCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7IFRpTGlzdENvbXBvbmVudCB9IGZyb20gJy4uL2xpc3QvVGlMaXN0TW9kdWxlJztcclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGltZUZpZWxkICB7XHJcbiAgICBob3VyOiBzdHJpbmc7XHJcbiAgICBtaW51dGU6IHN0cmluZztcclxuICAgIHNlY29uZDogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBUaUNvbXB1dGluZ1BhcmFtcyB7XHJcbiAgICBtYXg6IG51bWJlcjtcclxuICAgIG1pbjogbnVtYmVyO1xyXG4gICAgbmVlZEFkZFplcm86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaW1l5pe26Ze057uE5Lu2XHJcbiAqXHJcbiAqIFRpbWXnu4Tku7bmj5DkvpvkuobkuIDnp43mlrnkvr/nmoTmmL7npLrlkozorr7nva7ml7bpl7TnmoTmlrnlvI/jgIJcclxuICpcclxuICogPGV4YW1wbGUtdXJsPi4uL3RpbnkzZGVtby8jL3RpbWUvdGltZS1hbGw8L2V4YW1wbGUtdXJsPlxyXG4gKi9cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ3RpLXRpbWUnLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcuL3RpbWUuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnLi90aW1lLmxlc3MnIF0sXHJcbiAgICBwcm92aWRlcnM6IFtUaUZvcm1Db21wb25lbnQuZ2V0VmFsdWVBY2Nlc3NvcihUaVRpbWVDb21wb25lbnQpIF0sXHJcbiAgICBob3N0OiB7XHJcbiAgICAgICAgJ1tjbGFzcy50aTMtdGltZS1jb250YWluZXJdJzogJ3RydWUnLFxyXG4gICAgICAgICcoYmx1ciknOiAnb25CbHVyKCknXHJcbiAgICB9XHJcbn0pXHJcblxyXG5leHBvcnQgY2xhc3MgVGlUaW1lQ29tcG9uZW50IGV4dGVuZHMgVGlGb3JtQ29tcG9uZW50IHtcclxuICAgIC8qKlxyXG4gICAgICog6K6+572u5pe26Ze05pi+56S65qC85byP44CC5ZCE5Liq5pe26Ze05q615qC85byP6KeE5YiZOyDpu5jorqTlgLzvvJonSEg6bW06c3MnXHJcbiAgICAgKlxyXG4gICAgICogMS7lsI/ml7blj6/ku6Xorr7nva7kuLrvvJpcclxuICAgICAqXHJcbiAgICAgKiBISCDigJTigJQgMjTlsI/ml7bliLYs5Lik5L2N5pWw5a2X6KGo56S65bCP5pe2KDAwLTIzKVxyXG4gICAgICpcclxuICAgICAqIEgg4oCU4oCUIDI05bCP5pe25Yi277yM5byA5aS05LiN6KGl6Zu25pWw5a2X6KGo56S65bCP5pe2KDAtMjMpXHJcbiAgICAgKlxyXG4gICAgICogMi7liIbpkp/lj6/ku6Xorr7nva7kuLrvvJpcclxuICAgICAqXHJcbiAgICAgKiBtbSDigJTigJQg5Lik5L2N5pWw5a2X6KGo56S65YiG6ZKf5YC877yIMDAtNTnvvIlcclxuICAgICAqXHJcbiAgICAgKiBtIOKAlOKAlCDlvIDlpLTkuI3ooaXpm7bmlbDlrZfooajnpLrliIbpkp/lgLzvvIgwLTU577yJXHJcbiAgICAgKlxyXG4gICAgICogMy7np5Llj6/ku6Xorr7nva7kuLrvvJpcclxuICAgICAqXHJcbiAgICAgKiBzcyDigJTigJQg5Lik5L2N5pWw5a2X6KGo56S656eS5YC8KDAwLTU5KVxyXG4gICAgICpcclxuICAgICAqIHMg4oCU4oCUIOW8gOWktOS4jeihpembtuaVsOWtl+ihqOekuuenkuWAvCgwLTU5KVxyXG4gICAgICpcclxuICAgICAqIOivtOaYju+8muW8gOWktOihpembtuaYr+aMh+W9k+WJjeaXtumXtOaYr+S4quS9jeaVsOWtl+aXtu+8jOWJjei+ueihpembtu+8jOWni+e7iOS/neaMgeS4pOS9jeaVsOWtl1xyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBmb3JtYXQ6IHN0cmluZztcclxuICAgIC8qKlxyXG4gICAgICog6K6+572u5pe26Ze05pyA5aSn5YC8IOm7mOiupOWAvO+8micyMzo1OTo1OSdcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgbWF4OiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIOiuvue9ruaXtumXtOacgOWwj+WAvCDpu5jorqTlgLzvvJonMDA6MDA6MDAnXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIG1pbjogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKblsZXnpLrmuIXpmaTml7bpl7Tlm77moIfvvIjpu5jorqTmmL7npLrvvIlcclxuICAgICAqXHJcbiAgICAgKiAxMC4xLjLmlrDlop7mjqXlj6NcclxuICAgICAqL1xyXG4gICBASW5wdXQoKSBjbGVhckljb246IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIEBWaWV3Q2hpbGQoJ2RvbWluYXRvcicsIHsgc3RhdGljOiB0cnVlIH0pIHByaXZhdGUgY29udGFpbmVyUmVmOiBFbGVtZW50UmVmO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIEBWaWV3Q2hpbGQoVGlEcm9wQ29tcG9uZW50LCB7IHN0YXRpYzogdHJ1ZSB9KSBkcm9wQ29tOiBUaURyb3BDb21wb25lbnQ7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgQFZpZXdDaGlsZCgndGV4dCcsIHsgc3RhdGljOiB0cnVlIH0pIHRleHRDb206IEVsZW1lbnRSZWY7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICBAVmlld0NoaWxkKCdpbnB1dCcsIHsgc3RhdGljOiB0cnVlIH0pIGlucHV0RWxlOiBFbGVtZW50UmVmO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIEBWaWV3Q2hpbGQoJ2J1dHRvbicsIHsgc3RhdGljOiB0cnVlIH0pIGJ1dHRvbkVsZTogRWxlbWVudFJlZjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbG9jYWxlV29yZHM6IFRpTG9jYWxlV29yZHMgPSBUaUxvY2FsZS5nZXRMb2NhbGVXb3JkcygpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiB0aW1l57yW6L6R5qGG5YaF6YOodmFsdWXlgLxcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlucHV0VmFsdWU6IHN0cmluZyA9ICcnO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiBkb21pbmF0b3LmnIDnu4jmmL7npLrml7bpl7TlgLxcclxuICAgICAqL1xyXG4gICAgcHVibGljIHRpbWVWYWx1ZTogU3RyaW5nID0gJyc7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGRvbWluYXRvckNvbTogRWxlbWVudFJlZjtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5pe26Ze05LiL5ouJ6Z2i5p2/5a695bqm77yM5qC55o2u5pe26Ze05qC85byP5a695bqm5ZCE5byCXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB0aW1lUGFuZWxXaWR0aDogbnVtYmVyID0gMjg0O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDlupXpg6jnoa7orqTmjInpkq7mmK/lkKbnpoHnlKhcclxuICAgICAqL1xyXG4gICAgcHVibGljIGJ1dHRvbkRpc2FibGVkOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogcGxhY2Vob2xkZXLmj5DnpLrmlofmnKxcclxuICAgICAqL1xyXG4gICAgcHVibGljIHBsYWNlaG9sZGVyOiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGhvdXJPcHRpb25zOiBBcnJheTxhbnk+O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtaW51dGVPcHRpb25zOiBBcnJheTxhbnk+O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZWNvbmRPcHRpb25zOiBBcnJheTxhbnk+O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZWxlY3RlZEhvdXI6IGFueTtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2VsZWN0ZWRNaW51dGU6IGFueTtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2VsZWN0ZWRTZWNvbmQ6IGFueTtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaG91clNjcm9sbDogbnVtYmVyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtaW51dGVTY3JvbGw6IG51bWJlcjtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2Vjb25kU2Nyb2xsOiBudW1iZXI7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOWPquWxleekuuWwj+aXtuautVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25seUhvdXI6IGJvb2xlYW47XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOWPquWxleekuuaXtuWIhuautVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25seUhvdXJNaW51dGU6IGJvb2xlYW47XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgcHVibGljIG9sZElucHV0VmFsdWU6IHN0cmluZyA9ICcnO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDpnaLmnb/kuI5kb21pbmF0b3LnmoTot53nprtcclxuICAgICAqL1xyXG4gICAgcHVibGljIGRvbWluYXRvclNwYWNlOiBzdHJpbmcgPSAnLTMwcHgnO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDmmK/lkKbmuIXpmaRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzQ2xlYXJDbGljazogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgZG9jdW1lbnRLZXlkb3duTGlzdGVuZXI6ICgpID0+IHZvaWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSB6b25lOiBOZ1pvbmUsXHJcbiAgICAgICAgcHJvdGVjdGVkIGhvc3RSZWY6IEVsZW1lbnRSZWYsXHJcbiAgICAgICAgcHJvdGVjdGVkIHJlbmRlcmVyMjogUmVuZGVyZXIyLFxyXG4gICAgICAgIEBJbmplY3QoRE9DVU1FTlQpIHByaXZhdGUgZG9jdW1lbnRcclxuICAgICkge1xyXG4gICAgICAgIHN1cGVyKGhvc3RSZWYsIHJlbmRlcmVyMik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb246IOiLpeaXtumXtOWtl+espuS4suayoeacieS4gOS4quWGkuWPt+aXtuWkhOeQhuaIkOWQiOazleeahOS6i+S7tuWtl+espuS4su+8iOWKoOWGkuWPt++8iVxyXG4gICAgICogQHBhcmFtIHZhbHVlIOaXtumXtOWtl+espuS4slxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBhZGRDb2xvbih2YWx1ZTogYW55KTogc3RyaW5nIHtcclxuICAgICAgICAvLyBuZXcgRGF0ZSgp5pe277yM5pe26Ze05Lit5rKh5pyJ5LiA5Liq5YaS5Y+35b6X5Yiw55qE5piv6Z2e5rOV5pe26Ze0XHJcbiAgICAgICAgaWYgKHZhbHVlLm1hdGNoKC86LykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYW1wbTogc3RyaW5nID0gdmFsdWUubWF0Y2goL2FtfEFNfHBtfFBNLyk7XHJcbiAgICAgICAgYW1wbSA9IGFtcG0gfHwgJyc7XHJcblxyXG4gICAgICAgIHJldHVybiBgJHtwYXJzZUludCh2YWx1ZSwgMTApfTogJHthbXBtfWA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24g5Yik6K+75a2X56ym5Liy5piv5ZCm5piv5ZCI5rOV55qE5pe26Ze0XHJcbiAgICAgKiBAcGFyYW06IHRpbWU6IOagoemqjOeahOaXtumXtFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBpc1ZhbGlkVGltZSh0aW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAvLyB2YWx1ZemdnuWtl+espuS4suaIluiAheS4uuepuuWtl+espuS4suaXtu+8jOS4uumdnuazleaXtumXtFxyXG4gICAgICAgIGlmICghVXRpbC5pc1N0cmluZyh0aW1lKSB8fCB0aW1lLnRyaW0oKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZGF0ZTogYW55ID0gbmV3IERhdGUoYDIwMTgvNS8xNSAke1RpVGltZUNvbXBvbmVudC5hZGRDb2xvbih0aW1lKX1gKTtcclxuXHJcbiAgICAgICAgLy8gYW5557G75Z6L5piv5Li65LqG6Ziy5q2i57yW6K+R5oql6ZSZIERhdGXnsbvlnovkuI3og73lkoxzdHJpbmfnsbvlnovmr5TovoNcclxuICAgICAgICByZXR1cm4gIShTdHJpbmcoZGF0ZSkgPT09ICdJbnZhbGlkIERhdGUnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbjogaGgvSEgvbW0vc3Mg5pe26Ze05qC85byP5pe277yM5pi+56S655qE5YC85aSE55CG5oiQMuS9je+8jOS4jei2szLkvY3ooaUwXHJcbiAgICAgKiBAcGFyYW06IG51bSA6IOWQhOS4quaXtumXtOaYvuekuuahhueahOaVsOWAvFxyXG4gICAgICogQHBhcmFtOiBsZW5ndGggOiDpnIDopoHlpITnkIbkuYvlkI7nmoTplb/luqZcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYWRkWmVybyhudW06IG51bWJlciwgbGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHplcm9OdW06IHN0cmluZyA9IGAwMCR7bnVtfWA7XHJcblxyXG4gICAgICAgIHJldHVybiB6ZXJvTnVtLnN1YnN0cih6ZXJvTnVtLmxlbmd0aCAtIGxlbmd0aCwgbGVuZ3RoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIG5ld1ZhbOWPguaVsOS4uuWQiOazleWAvOaXtui/lOWbnm5ld1ZhbO+8jOWQpuWImei/lOWbnmRlZmF1bHRWYWx1ZeWPguaVsFxyXG4gICAgICogQHBhcmFtOiBuZXdWYWw65paw5YC8XHJcbiAgICAgKiBAcGFyYW06IGRlZmF1bHRWYWx1ZTrpu5jorqTlgLxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdmVyaWZ5VGltZShuZXdWYWw6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBUaVRpbWVDb21wb25lbnQuaXNWYWxpZFRpbWUobmV3VmFsKSA/IG5ld1ZhbCA6IGRlZmF1bHRWYWx1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIOavlOi+g3ZhbHVlMeWSjHZhbHVlMuS4pOS4quaXtumXtOWAvOWkp+Wwjy52YWx1ZTEgPCB2YWx1ZTLml7bvvIzov5Tlm550cnVl77yb5ZCm5YiZ6L+U5ZueZmFsc2UgIO+8m1xyXG4gICAgICogQHBhcmFtOiB2YWx1ZTE65q+U6L6D55qE5YmN5LiA5Liq5YC8XHJcbiAgICAgKiBAcGFyYW06IHZhbHVlMjrmr5TovoPnmoTlkI7kuIDkuKrlgLxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaXNTbWFsbGVyKHZhbHVlMTogc3RyaW5nLCB2YWx1ZTI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBEYXRlLnBhcnNlKGAyMDE4LzUvMTUgJHtUaVRpbWVDb21wb25lbnQuYWRkQ29sb24odmFsdWUxKX1gKSA8IERhdGUucGFyc2UoYDIwMTgvNS8xNSAke1RpVGltZUNvbXBvbmVudC5hZGRDb2xvbih2YWx1ZTIpfWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIOavlOi+g3ZhbHVlMeWSjHZhbHVlMuS4pOS4quaXtumXtOWAvOWkp+Wwjy52YWx1ZTEgPiB2YWx1ZTLml7bvvIzov5Tlm550cnVl77yb5ZCm5YiZ6L+U5ZueZmFsc2UgIO+8m1xyXG4gICAgICogQHBhcmFtOiB2YWx1ZTE65q+U6L6D55qE5YmN5LiA5Liq5YC8XHJcbiAgICAgKiBAcGFyYW06IHZhbHVlMjrmr5TovoPnmoTlkI7kuIDkuKrlgLxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaXNCaWdnZXIodmFsdWUxOiBzdHJpbmcsIHZhbHVlMjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIERhdGUucGFyc2UoYDIwMTgvNS8xNSAke1RpVGltZUNvbXBvbmVudC5hZGRDb2xvbih2YWx1ZTEpfWApID4gRGF0ZS5wYXJzZShgMjAxOC81LzE1ICR7VGlUaW1lQ29tcG9uZW50LmFkZENvbG9uKHZhbHVlMil9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24g5q+U6L6DdmFsdWUx5ZKMdmFsdWUy5Lik5Liq5pe26Ze05YC85aSn5bCPLnZhbHVlMSA8PSB2YWx1ZTLml7bvvIzov5Tlm550cnVl77yb5ZCm5YiZ6L+U5ZueZmFsc2UgIO+8m1xyXG4gICAgICogQHBhcmFtOiB2YWx1ZTE65q+U6L6D55qE5YmN5LiA5Liq5YC8XHJcbiAgICAgKiBAcGFyYW06IHZhbHVlMjrmr5TovoPnmoTlkI7kuIDkuKrlgLxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaXNTbWFsbGVyT3JFcXVhbCh2YWx1ZTE6IHN0cmluZywgdmFsdWUyOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gRGF0ZS5wYXJzZShgMjAxOC81LzE1ICR7VGlUaW1lQ29tcG9uZW50LmFkZENvbG9uKHZhbHVlMSl9YCkgPD0gRGF0ZS5wYXJzZShgMjAxOC81LzE1ICR7VGlUaW1lQ29tcG9uZW50LmFkZENvbG9uKHZhbHVlMil9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24g5q+U6L6DdmFsdWUx5ZKMdmFsdWUy5Lik5Liq5pe26Ze05YC85aSn5bCPLnZhbHVlMSA+PSB2YWx1ZTLml7bvvIzov5Tlm550cnVl77yb5ZCm5YiZ6L+U5ZueZmFsc2UgIO+8m1xyXG4gICAgICogQHBhcmFtOiB2YWx1ZTE65q+U6L6D55qE5YmN5LiA5Liq5YC8XHJcbiAgICAgKiBAcGFyYW06IHZhbHVlMjrmr5TovoPnmoTlkI7kuIDkuKrlgLxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaXNCaWdnZXJPckVxdWFsKHZhbHVlMTogc3RyaW5nLCB2YWx1ZTI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBEYXRlLnBhcnNlKGAyMDE4LzUvMTUgJHtUaVRpbWVDb21wb25lbnQuYWRkQ29sb24odmFsdWUxKX1gKSA+PSBEYXRlLnBhcnNlKGAyMDE4LzUvMTUgJHtUaVRpbWVDb21wb25lbnQuYWRkQ29sb24odmFsdWUyKX1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDnu4Tku7blo7DmmI7lkajmnJ/pkqnlrZAtLXN0YXJ0XHJcbiAgICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xyXG4gICAgICAgIC8vIOWIneWni+WMluWPmOmHj1xyXG4gICAgICAgIHRoaXMuaW5pdFZhcmlhYmxlKCk7XHJcbiAgICAgICAgLy8g5pyA5aSn5pyA5bCP5YC85qCh6aqMXHJcbiAgICAgICAgdGhpcy52YWxpZGF0ZU1heEFuZE1pbigpO1xyXG5cclxuICAgICAgICB0aGlzLnNob3dUaW1lV2l0aEZvcm1hdCgpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFRpbWVPcHRpb25zKCk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSB0aGlzLmZvcm1hdDtcclxuXHJcbiAgICAgICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHsgLy8g6YG/5YWN5LiN5YGc6Kem5Y+R5Y+Y5YyW5qOA5rWLXHJcbiAgICAgICAgICAgIC8vIGRvY3VtZW505LiK55qERWNz5b+r5o236ZSu5Yqf6IO9XHJcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRLZXlkb3duTGlzdGVuZXIgPSB0aGlzLnJlbmRlcmVyMi5saXN0ZW4odGhpcy5kb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmtleWRvd25IYW5kbGVyRm4pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0VGltZU9wdGlvbnMoKSB7XHJcbiAgICAgICAgdGhpcy5ob3VyT3B0aW9ucyA9IHRoaXMuc2V0T3B0aW9ucygyNCwgJ2hvdXInKTtcclxuICAgICAgICB0aGlzLm1pbnV0ZU9wdGlvbnMgPSB0aGlzLnNldE9wdGlvbnMoNjAsICdtaW51dGUnKTtcclxuICAgICAgICB0aGlzLnNlY29uZE9wdGlvbnMgPSB0aGlzLnNldE9wdGlvbnMoNjAsICdzZWNvbmQnKTtcclxuICAgIH1cclxuICAgIC8vIOagueaNruagvOW8j2Zvcm1hdOWIpOaWremdouadv+WxleekuuaDheWGtVxyXG4gICAgcHJpdmF0ZSBzaG93VGltZVdpdGhGb3JtYXQoKTogdm9pZCB7XHJcbiAgICAgICAgLy8g57qv5bCP5pe2XHJcbiAgICAgICAgaWYgKHRoaXMuZm9ybWF0LmluZGV4T2YoJ20nKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5vbmx5SG91ciA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm1hdC5pbmRleE9mKCdzJykgPT09IC0xKSB7IC8vIOS7heaXtuWIhlxyXG4gICAgICAgICAgICB0aGlzLm9ubHlIb3VyTWludXRlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0VmFyaWFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gMS4g5pe26Ze05qC85byP5qCh6aqMXHJcbiAgICAgICAgdGhpcy5mb3JtYXQgPSBVdGlsLmlzU3RyaW5nKHRoaXMuZm9ybWF0KSA/IHRoaXMuZm9ybWF0IDogdGhpcy5sb2NhbGVXb3Jkcy50aUxvY2FsZURhdGVbJ3RpbWUnXTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHZhbGlkYXRlTWF4QW5kTWluKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRNYXhWYWx1ZTogc3RyaW5nID0gJzIzOjU5OjU5JztcclxuICAgICAgICBjb25zdCBkZWZhdWx0TWluVmFsdWU6IHN0cmluZyA9ICcwMDowMDowMCc7XHJcbiAgICAgICAgLy8g5pyA5aSn5YC85ZCI5rOV5oCn5qCh6aqMXHJcbiAgICAgICAgdGhpcy5tYXggPSBUaVRpbWVDb21wb25lbnQudmVyaWZ5VGltZSh0aGlzLm1heCwgZGVmYXVsdE1heFZhbHVlKTtcclxuICAgICAgICAvLyDmnIDlsI/lgLzlkIjms5XmgKfmoKHpqoxcclxuICAgICAgICB0aGlzLm1pbiA9IFRpVGltZUNvbXBvbmVudC52ZXJpZnlUaW1lKHRoaXMubWluLCBkZWZhdWx0TWluVmFsdWUpO1xyXG4gICAgICAgIC8vIOacgOWkp+acgOWwj+WAvOefm+ebvuaXtu+8jOiuvue9ruS4uum7mOiupOWAvFxyXG4gICAgICAgIGlmIChUaVRpbWVDb21wb25lbnQuaXNTbWFsbGVyKHRoaXMubWF4LCB0aGlzLm1pbikpIHtcclxuICAgICAgICAgICAgdGhpcy5taW4gPSBkZWZhdWx0TWluVmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMubWF4ID0gZGVmYXVsdE1heFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIubmdPbkNoYW5nZXMoY2hhbmdlcyk7XHJcbiAgICAgICAgLy8gMS4wIG1pblZhbHVl55uR5o6nXHJcbiAgICAgICAgaWYgKGNoYW5nZXNbJ21pbiddICYmICFjaGFuZ2VzWydtaW4nXS5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgLy8g5pawbWluVmFsdWXlgLzpnZ7ms5Xml7bvvIzmgaLlpI3liLDkuYvliY3lgLxcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWRNaW5WYWx1ZShjaGFuZ2VzWydtaW4nXS5jdXJyZW50VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1pbiA9IGNoYW5nZXNbJ21pbiddLnByZXZpb3VzVmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOWvuXZhbHVl5YC86L+b6KGM5pyA5bCP5YC85qCh6aqMXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoVGlUaW1lQ29tcG9uZW50LmlzVmFsaWRUaW1lKHRoaXMubW9kZWwpICYmIFRpVGltZUNvbXBvbmVudC5pc1NtYWxsZXIodGhpcy5tb2RlbCwgdGhpcy5taW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbCA9IHRoaXMubWluO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGlzYWJsZURhdGEoKTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDIuMCBtYXhWYWx1ZeebkeaOp1xyXG4gICAgICAgIGlmIChjaGFuZ2VzWydtYXgnXSAmJiAhY2hhbmdlc1snbWF4J10uaXNGaXJzdENoYW5nZSgpKSB7XHJcbiAgICAgICAgICAgIC8vIOaWsG1heFZhbHVl5YC86Z2e5rOV5pe277yM5oGi5aSN5Yiw5LmL5YmN5YC8XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1ZhbGlkTWF4VmFsdWUoY2hhbmdlc1snbWF4J10uY3VycmVudFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXggPSBjaGFuZ2VzWydtYXgnXS5wcmV2aW91c1ZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDlr7l2YWx1ZeWAvOi/m+ihjOacgOWwj+WAvOagoemqjFxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKFRpVGltZUNvbXBvbmVudC5pc1ZhbGlkVGltZSh0aGlzLm1vZGVsKSAmJiBUaVRpbWVDb21wb25lbnQuaXNCaWdnZXIodGhpcy5tb2RlbCwgdGhpcy5tYXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbCA9IHRoaXMubWF4O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGlzYWJsZURhdGEoKTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIDMuMCBmb3JtYXTnm5HmjqdcclxuICAgICAgICBpZiAoY2hhbmdlc1snZm9ybWF0J10gJiYgIWNoYW5nZXNbJ2Zvcm1hdCddLmlzRmlyc3RDaGFuZ2UoKSkge1xyXG4gICAgICAgICAgICAvLyDmlrBmb3JtYXTlgLzpnZ7ms5Xml7bvvIzmgaLlpI3liLDkuYvliY3lgLxcclxuICAgICAgICAgICAgaWYgKCFVdGlsLmlzU3RyaW5nKGNoYW5nZXNbJ2Zvcm1hdCddLmN1cnJlbnRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0ID0gY2hhbmdlc1snZm9ybWF0J10ucHJldmlvdXNWYWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zaG93VGltZVdpdGhGb3JtYXQoKTtcclxuICAgICAgICAgICAgaWYgKFRpVGltZUNvbXBvbmVudC5pc1ZhbGlkVGltZSh0aGlzLm1vZGVsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mb3JtYXRWYWx1ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5uZ0FmdGVyVmlld0luaXQoKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRvbWluYXRvckNvbSA9IHRoaXMuY29udGFpbmVyUmVmLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Rm9jdXNhYmxlRWxlbXMoW3RoaXMuZG9taW5hdG9yQ29tXVxyXG4gICAgICAgICAgICAuY29uY2F0KHRoaXMuZHJvcENvbS5uYXRpdmVFbGVtZW50KVxyXG4gICAgICAgICAgICAuY29uY2F0KHRoaXMudGV4dENvbS5uYXRpdmVFbGVtZW50KVxyXG4gICAgICAgICAgICAuY29uY2F0KHRoaXMuaW5wdXRFbGUubmF0aXZlRWxlbWVudClcclxuICAgICAgICAgICAgLmNvbmNhdCh0aGlzLmJ1dHRvbkVsZS5uYXRpdmVFbGVtZW50KSk7XHJcbiAgICAgICAgfSwgMCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG5nT25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLm5nT25EZXN0cm95KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnRLZXlkb3duTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5kb2N1bWVudEtleWRvd25MaXN0ZW5lcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIOe7hOS7tuWjsOaYjuWRqOacn+mSqeWtkC0tZW5kXHJcblxyXG4gICAgLy8g5a6e546wQ29udHJvbFZhbHVlQWNjZXNzb3LmjqXlj6NcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci53cml0ZVZhbHVlKHZhbHVlKTtcclxuICAgICAgICBpZiAodmFsdWUgPT09ICcnIHx8ICF0aGlzLmlzVmFsaWRWYWx1ZSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbCA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbkRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zZXREaXNhYmxlRGF0YSgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJ1dHRvbkRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5tb2RlbCA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuZm9ybWF0VmFsdWUoKTtcclxuICAgICAgICB0aGlzLnNldERpc2FibGVEYXRhKCk7XHJcbiAgICB9XHJcbiAgICAvLyDlrp7njrBDb250cm9sVmFsdWVBY2Nlc3NvcuaOpeWPoy0tZW5kXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIEBkZXNjcmlwdGlvbjog57uE5Lu25pW05L2T5aSx54Sm5LmL5ZCO5aSE55CG5Ye95pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvbkJsdXIoKTogdm9pZCB7XHJcbiAgICAgICAgIC8vIOWkseeEpuWQjuS4i+aLieWFs+mXrVxyXG4gICAgICAgIHRoaXMuaGlkZVBhbmVsKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dFZhbHVlID0gdGhpcy5tb2RlbDtcclxuICAgICAgICB0aGlzLnNldERpc2FibGVEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RWYWwoKTtcclxuICAgICAgICB0aGlzLmdldFNjcm9sbERhdGEoKTtcclxuICAgIH1cclxuICAgIC8vIOmdouadv+W7tui/nzIwMG1z5YWz6ZetLOeUqOaIt+i+k+WFpeaWsOWAvOS5i+WQju+8jOebtOaOpeeCueWHu+ehruiupOaMiemSruWFs+mXremdouadv+aXtu+8jFxyXG4gICAgLy8g6Z2i5p2/5YaF6YOo6YCJ5Lit6aG55YWI5Yi35pawIOWGjeWFs+mXrSAyMDBtc+eahOW7tui/nyDnlKjmiLflj6/ku6XnnIvliLDov5nmoLfkuIDkuKrop4bop4nnmoTov4fnqItcclxuICAgIC8vIDIwMG1z6YCa6L+H5pys5Zyw55So5L6L77yM6Lef6KeE6IyD5L6n5YWx5ZCM5Yaz5a6a55qE5LiA5Liq5bu25pe25pWw5YC8XHJcbiAgICBwcml2YXRlIGhpZGVQYW5lbCgpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRyb3BDb20uaGlkZSgpO1xyXG4gICAgICAgICAgICAvLyDliJ3lp4vljJbmlbDmja7vvIzkv53or4HmnInml7bpl7TlgLzml7bvvIzliJ3mrKHmiZPlvIDmlbDmja7lrprkvY3lnKjpobbpg6hcclxuICAgICAgICAgICAgdGhpcy5ob3VyU2Nyb2xsID0gLTE7XHJcbiAgICAgICAgICAgIHRoaXMubWludXRlU2Nyb2xsID0gLTE7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kU2Nyb2xsID0gLTE7XHJcbiAgICAgICAgfSwgMjAwKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog54K55Ye7ZG9taW5hdG9y5omT5byA6Z2i5p2/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvblNob3dDbGljaygpOiB2b2lkIHtcclxuICAgICAgICBpZih0aGlzLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNDbGVhckNsaWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNDbGVhckNsaWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nZXRTY3JvbGxEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5kcm9wQ29tLnNob3coKTtcclxuICAgICAgICB0aGlzLnRleHRDb20ubmF0aXZlRWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uRGlzYWJsZWQgPSAhdGhpcy5tb2RlbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog54K55Ye756Gu6K6k5oyJ6ZKu5YWz6Zet6Z2i5p2/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBva0NsaWNrRm4oKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50aW1lVmFsdWUgPSB0aGlzLmlucHV0VmFsdWU7XHJcbiAgICAgICAgdGhpcy5tb2RlbCA9IHRoaXMuaW5wdXRWYWx1ZTtcclxuICAgICAgICAvLyDorrDlvZXml6flgLzvvIzlvZPovpPlhaXpnZ7ms5Xml7bvvIzov5Tlm57kuYvliY3lkIjms5XlgLxcclxuICAgICAgICB0aGlzLm9sZElucHV0VmFsdWUgPSB0aGlzLmlucHV0VmFsdWU7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJSZWYubmF0aXZlRWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgIHRoaXMuaGlkZVBhbmVsKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOaXtumXtOmdouadv+eCueWHu+mAieaLqeS6i+S7tlxyXG4gICAgICogQHBhcmFtIHZhbFxyXG4gICAgICogQHBhcmFtIHRpdGxlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvblNlbGVjdCh2YWw6IGFueSwgdGl0bGU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIC8vIOemgeeUqOeKtuaAgVxyXG4gICAgICAgIGlmICh2YWwuZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhcnIgPSB0aGlzLm9ubHlIb3VyID8gWycwMCddIDogdGhpcy5vbmx5SG91ck1pbnV0ZSA/IFtcIjAwXCIsIFwiMDBcIl0gOiBbXCIwMFwiLCBcIjAwXCIsIFwiMDBcIl07XHJcbiAgICAgICAgY29uc3QgdGltZUFyciA9IHRoaXMuaW5wdXRWYWx1ZSA9PT0gJycgPyBhcnIgOiB0aGlzLmlucHV0VmFsdWUuc3BsaXQoJzonKTtcclxuICAgICAgICBzd2l0Y2ggKHRpdGxlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2hvdXInOlxyXG4gICAgICAgICAgICAgICAgdGltZUFyclswXSA9IHZhbC5sYWJlbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaG91clNjcm9sbCA9IHZhbC5sYWJlbCAqIDMwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ21pbnV0ZSc6XHJcbiAgICAgICAgICAgICAgICB0aW1lQXJyWzFdID0gdmFsLmxhYmVsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5taW51dGVTY3JvbGwgPSB2YWwubGFiZWwgKiAzMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzZWNvbmQnOlxyXG4gICAgICAgICAgICAgICAgdGltZUFyclsyXSA9IHZhbC5sYWJlbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kU2Nyb2xsID0gdmFsLmxhYmVsICogMzA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlucHV0VmFsdWUgPSB0aW1lQXJyLmpvaW4oJzonKTtcclxuICAgICAgICB0aGlzLnNldFNlbGVjdFZhbCgpO1xyXG4gICAgICAgIHRoaXMub2xkSW5wdXRWYWx1ZSA9IHRoaXMuaW5wdXRWYWx1ZTtcclxuICAgICAgICB0aGlzLmJ1dHRvbkRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zZXREaXNhYmxlRGF0YSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0U2VsZWN0VmFsKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghVGlUaW1lQ29tcG9uZW50LmlzVmFsaWRUaW1lKHRoaXMuaW5wdXRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEhvdXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTWludXRlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFNlY29uZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFRpVGltZUNvbXBvbmVudC5pc1NtYWxsZXIodGhpcy5pbnB1dFZhbHVlLCB0aGlzLm1pbikpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dFZhbHVlID0gdGhpcy5taW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChUaVRpbWVDb21wb25lbnQuaXNCaWdnZXIodGhpcy5pbnB1dFZhbHVlLCB0aGlzLm1heCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dFZhbHVlID0gdGhpcy5tYXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5ld3RpbWVBcnIgPSB0aGlzLmlucHV0VmFsdWUuc3BsaXQoJzonKTtcclxuICAgICAgICBjb25zdCBob3VyVmFsOiBzdHJpbmcgPSAgVGlUaW1lQ29tcG9uZW50LmFkZFplcm8oTnVtYmVyKG5ld3RpbWVBcnJbMF0pLCAyKTtcclxuICAgICAgICBjb25zdCBtaW51dGVWYWw6IHN0cmluZyA9ICBUaVRpbWVDb21wb25lbnQuYWRkWmVybyhOdW1iZXIobmV3dGltZUFyclsxXSksIDIpO1xyXG4gICAgICAgIGNvbnN0IHNlY29uZFZhbDogc3RyaW5nID0gIFRpVGltZUNvbXBvbmVudC5hZGRaZXJvKE51bWJlcihuZXd0aW1lQXJyWzJdKSwgMik7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEhvdXIgPSB0aGlzLmdldFNlbGVjdGVkVmFsKHRoaXMuaG91ck9wdGlvbnMsIGhvdXJWYWwpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNaW51dGUgPSB0aGlzLmdldFNlbGVjdGVkVmFsKHRoaXMubWludXRlT3B0aW9ucywgbWludXRlVmFsKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkU2Vjb25kID0gdGhpcy5nZXRTZWxlY3RlZFZhbCh0aGlzLnNlY29uZE9wdGlvbnMsIHNlY29uZFZhbCk7XHJcbiAgICAgICAgLy8g5aSx54Sm5LmL5ZCO77yM5Liq5L2N55qE5pWw5a2X6ZyA6KGl6Zu2XHJcbiAgICAgICAgaWYgKHRoaXMub25seUhvdXIpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dFZhbHVlID0gaG91clZhbDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMub25seUhvdXJNaW51dGUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dFZhbHVlID0gaG91clZhbCArICc6JyArIG1pbnV0ZVZhbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0VmFsdWUgPSBob3VyVmFsICsgJzonICsgbWludXRlVmFsICsgJzonICsgc2Vjb25kVmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdldFNjcm9sbERhdGEoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGtleWRvd25IYW5kbGVyRm4gPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gVGlLZXltYXAuS0VZX0VTQ0FQRSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVQYW5lbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog57uE5Lu25b+r5o236ZSu5aSE55CGdGFi6ZSuIGVudGVy6ZSuXHJcbiAgICAgKi9cclxuICAgIEBIb3N0TGlzdGVuZXIoJ2tleWRvd24nLCBbJyRldmVudCddKSBwdWJsaWMgb25LZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVGlLZXltYXAuS0VZX0VOVEVSIDogLy8gRU5URVLplK4o5aSn6ZSu55uYKVxyXG4gICAgICAgICAgICBjYXNlIFRpS2V5bWFwLktFWV9OVU1QQURfRU5URVIgOiAvLyBFTlRFUumUrijmlbDlrZflsI/plK7nm5gpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlRW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0IDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogZW50ZXLplK7nmoTlip/og73vvJrlpoLmnpzpnaLmnb/lsZXlvIDkuI3lpITnkIbvvIzpnaLmnb/mlLbotbfliJnlsZXlvIDvvIzorr7nva5kYXRlUGFuZWzmjIfku6TnmoTmjqXlj6PlgLxcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlc3BvbnNlRW50ZXIoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZHJvcENvbS5pc1Nob3cpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdldFNjcm9sbERhdGEoKTtcclxuICAgICAgICAvLyDml7bpl7TpnaLmnb/lsZXlvIBcclxuICAgICAgICB0aGlzLmRyb3BDb20uc2hvdygpO1xyXG4gICAgICAgIHRoaXMudGV4dENvbS5uYXRpdmVFbGVtZW50LmZvY3VzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOi+k+WFpeS4uuS4reaWh+WGkuWPt+aXtu+8jOiHquWKqOi9rOaNouS4uuiLseaWh+WGkuWPt1xyXG4gICAgICogQHBhcmFtIHZhbFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25JbnB1dENoYW5nZUZuKHZhbDogYW55KSB7XHJcbiAgICAgICAgaWYoIVV0aWwuaXNFbXB0eVN0cmluZyh2YWwpKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHZhbDtcclxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCfvvJonLCAnOicpO1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0VmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbkRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDml7bpl7TmoYZlbnRlcuS6i+S7tlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdGltZUtleWRvd25GbihldmVudDogS2V5Ym9hcmRFdmVudCwgdmFsOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gVGlLZXltYXAuS0VZX0VOVEVSICB8fCBldmVudC5rZXlDb2RlID09PSBUaUtleW1hcC5LRVlfTlVNUEFEX0VOVEVSKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZUJsdXIodmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRpbWVCbHVyKHZhbDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHZhbCA9PT0gJycpIHtcclxuICAgICAgICAgICAgdGhpcy5idXR0b25EaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRWYWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLm9sZElucHV0VmFsdWUgPSB0aGlzLmlucHV0VmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0U2Nyb2xsRGF0YSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWMuuWIhuS4reiLseaWh+WGkuWPt1xyXG4gICAgICAgIGNvbnN0IHJlZzogUmVnRXhwID0gbmV3IFJlZ0V4cCgnW1xcXFw6XFxcXO+8ml0nKTtcclxuICAgICAgICBsZXQgdGltZUFycjogQXJyYXk8YW55PiA9IHZhbC5zcGxpdChyZWcpO1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdEFycjogQXJyYXk8YW55PiA9IHRoaXMuZm9ybWF0LnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgLy8g55So5oi36L6T5YWl5LiOZm9ybWF05LiN5Yy56YWN5pe277yM5oyJ54Wn6Z2e5rOV5a2X56ym5aSE55CGXHJcbiAgICAgICAgaWYgKHRpbWVBcnIubGVuZ3RoICE9PSBmb3JtYXRBcnIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRWYWx1ZSA9IHRoaXMub2xkSW5wdXRWYWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aW1lQXJyLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoKGl0ZW0gPCAwIHx8IGl0ZW0gPiA1OSkgfHwgaXNOYU4oTnVtYmVyKGl0ZW0pICkgfHwgcGFyc2VJbnQoaXRlbSwgMTApICE9PSBOdW1iZXIoaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRWYWx1ZSA9IHRoaXMub2xkSW5wdXRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIGlmKFV0aWwuaXNFbXB0eVN0cmluZyh0aGlzLmlucHV0VmFsdWUpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbkRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9sZElucHV0VmFsdWUgPSB0aGlzLmlucHV0VmFsdWU7XHJcbiAgICAgICAgdGhpcy5idXR0b25EaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2V0U2VsZWN0VmFsKCk7XHJcbiAgICAgICAgdGhpcy5nZXRTY3JvbGxEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5zZXREaXNhYmxlRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgLy8g6I635Y+W5rua5Yqo5YC8XHJcbiAgICBwcml2YXRlIGdldFNjcm9sbERhdGEoKSB7XHJcbiAgICAgICAgaWYgKFV0aWwuaXNFbXB0eVN0cmluZyh0aGlzLmlucHV0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG91clNjcm9sbCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMubWludXRlU2Nyb2xsID0gMDtcclxuICAgICAgICAgICAgdGhpcy5zZWNvbmRTY3JvbGwgPSAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlZzogUmVnRXhwID0gbmV3IFJlZ0V4cCgnW1xcXFw6XFxcXO+8ml0nKTtcclxuICAgICAgICAgICAgY29uc3QgdGltZUFycjogQXJyYXk8YW55PiA9IHRoaXMuaW5wdXRWYWx1ZS5zcGxpdChyZWcpO1xyXG4gICAgICAgICAgICB0aGlzLmhvdXJTY3JvbGwgPSB0aW1lQXJyWzBdICogMzA7XHJcbiAgICAgICAgICAgIHRoaXMubWludXRlU2Nyb2xsID0gdGltZUFyclsxXSAqIDMwO1xyXG4gICAgICAgICAgICB0aGlzLnNlY29uZFNjcm9sbCA9IHRpbWVBcnJbMl0gKiAzMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOa4hemZpFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25JY29uQ2xlYXJDbGljaygpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCAhdGhpcy5jbGVhckljb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlucHV0VmFsdWUgPSAnJztcclxuICAgICAgICB0aGlzLm9sZElucHV0VmFsdWUgPSAnJztcclxuICAgICAgICB0aGlzLnRpbWVWYWx1ZSA9ICcnO1xyXG4gICAgICAgIHRoaXMubW9kZWwgPSAnJztcclxuICAgICAgICB0aGlzLnNlbGVjdGVkSG91ciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZE1pbnV0ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFNlY29uZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5idXR0b25EaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pc0NsZWFyQ2xpY2sgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0RGlzYWJsZURhdGEoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFNlbGVjdGVkVmFsKG9wdGlvbnM6IEFycmF5PGFueT4sIHZhbDogYW55KSB7XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuZmluZCgoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaXRlbS5kaXNhYmxlZCAmJiBpdGVtLmxhYmVsID09PSB2YWwpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gIGl0ZW07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHNldE9wdGlvbnMobnVtOiBudW1iZXIsIGxhYmVsS2V5Pzogc3RyaW5nKTogQXJyYXk8YW55PiB7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uczogQXJyYXk8YW55PiA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCBudW07IGkrKykge1xyXG4gICAgICAgICAgICBvcHRpb25zW2ldID0ge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFRpVGltZUNvbXBvbmVudC5hZGRaZXJvKGksIDIpLFxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldERpc2FibGVEYXRhKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1heCA9PT0gJzIzOjU5OjU5JyAmJiB0aGlzLm1pbiA9PT0gJzAwOjAwOjAwJykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1heEFyciA9IHRoaXMubWF4LnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgY29uc3QgbWluQXJyID0gdGhpcy5taW4uc3BsaXQoJzonKTtcclxuICAgICAgICBjb25zdCB0aW1lQXJyID0gdGhpcy5pbnB1dFZhbHVlLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgLy8g5qC55o2u5pyA5aSn5pyA5bCP5YC85Yik5a6a5bCP5pe256aB55So6aG5XHJcbiAgICAgICAgdGhpcy5ob3VyT3B0aW9ucy5mb3JFYWNoKChpdGVtOiBhbnkpPT4ge1xyXG4gICAgICAgICAgICBpdGVtLmRpc2FibGVkID0gTnVtYmVyKGl0ZW0ubGFiZWwpIDwgTnVtYmVyKG1pbkFyclswXSkgfHwgTnVtYmVyKGl0ZW0ubGFiZWwpID4gTnVtYmVyKG1heEFyclswXSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvLyDmnIDlsI/lsI/ml7bmg4XlhrUs6ZyA6ICD6JmR5YiG6ZKf56aB55SoXHJcbiAgICAgICAgaWYgKE51bWJlcih0aW1lQXJyWzBdKSA9PT0gTnVtYmVyKG1pbkFyclswXSkpIHtcclxuICAgICAgICAgICAgdGhpcy5taW51dGVPcHRpb25zLmZvckVhY2goKG1pbnV0ZUl0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbWludXRlSXRlbS5kaXNhYmxlZCA9IE51bWJlcihtaW51dGVJdGVtLmxhYmVsKSA8IE51bWJlcihtaW5BcnJbMV0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDmnIDlpKflsI/ml7bmg4XlhrUs6ZyA6ICD6JmR5YiG6ZKf56aB55SoXHJcbiAgICAgICAgaWYgKE51bWJlcih0aW1lQXJyWzBdKSA9PT0gTnVtYmVyKG1heEFyclswXSkpIHtcclxuICAgICAgICAgICAgdGhpcy5taW51dGVPcHRpb25zLmZvckVhY2goKG1pbnV0ZUl0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbWludXRlSXRlbS5kaXNhYmxlZCA9IE51bWJlcihtaW51dGVJdGVtLmxhYmVsKSA+ICBOdW1iZXIobWF4QXJyWzFdKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5pyA5bCP5pe25YiG5oOF5Ya1LOmcgOiAg+iZkeenkuaVsOemgeeUqFxyXG4gICAgICAgIGlmIChOdW1iZXIodGltZUFyclswXSkgPT09IE51bWJlcihtaW5BcnJbMF0pICYmIE51bWJlcih0aW1lQXJyWzFdKSA9PT0gTnVtYmVyKG1pbkFyclsxXSkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWNvbmRPcHRpb25zLmZvckVhY2goKHNlY29uZEl0ZW06IGFueSk9PiB7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmRJdGVtLmRpc2FibGVkICA9IE51bWJlcihzZWNvbmRJdGVtLmxhYmVsKSA8IE51bWJlcihtaW5BcnJbMl0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSBpZiAoTnVtYmVyKHRpbWVBcnJbMF0pID09PSBOdW1iZXIobWF4QXJyWzBdKSAmJiBOdW1iZXIodGltZUFyclsxXSkgPT09IE51bWJlcihtYXhBcnJbMV0pKSB7IC8vIOacgOWkp+aXtuWIhuaDheWGtSzpnIDogIPomZHnp5LmlbDnpoHnlKhcclxuICAgICAgICAgICAgdGhpcy5zZWNvbmRPcHRpb25zLmZvckVhY2goKHNlY29uZEl0ZW06IGFueSk9PiB7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmRJdGVtLmRpc2FibGVkICA9IE51bWJlcihzZWNvbmRJdGVtLmxhYmVsKSA+IE51bWJlcihtYXhBcnJbMl0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kT3B0aW9ucy5mb3JFYWNoKChzZWNvbmRJdGVtOiBhbnkpPT4ge1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kSXRlbS5kaXNhYmxlZCAgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOmdnuS4tOeVjOWAvCjmnIDlpKfmnIDlsI/lsI/ml7Yp5pe26ZyA5aSN5Y6fXHJcbiAgICAgICAgaWYgKE51bWJlcih0aW1lQXJyWzBdKSAhPT0gTnVtYmVyKG1pbkFyclswXSkgJiYgTnVtYmVyKHRpbWVBcnJbMF0pICE9PSBOdW1iZXIobWF4QXJyWzBdKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1pbnV0ZU9wdGlvbnMuZm9yRWFjaCgobWludXRlSXRlbTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtaW51dGVJdGVtLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAaWdub3JlXHJcbiAgICAqIOaXtumXtOmAieaLqeahhumDqOWIhum8oOagh+enu+WHuuaXtuWOu+mZpGhvdmVy5qC35byPXHJcbiAgICAqL1xyXG4gICAgcHVibGljIG9uTW91c2VsZWF2ZShsaXN0Q29tOiBUaUxpc3RDb21wb25lbnQpIHtcclxuICAgICAgICBsaXN0Q29tLmhvdmVyT3B0aW9uID0gbnVsbDtcclxuICAgIH1cclxuICAgIC8vIOe7hOS7tuS6pOS6kuaWueazlembhuWQiC0tZW5kXHJcblxyXG4gICAgLy8g5YaF6YOo5YWs5YWx5pa55rOV6ZuG5ZCILS1zdGFydFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb2465pyA5aSn5YC85pyA5bCP5YC85qOA6aqMXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdmFsaWRhdGVWYWx1ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyDmnIDlsI/lgLzmoKHpqoxcclxuICAgICAgICBpZiAoVGlUaW1lQ29tcG9uZW50LmlzU21hbGxlcih0aGlzLm1vZGVsLCB0aGlzLm1pbikpIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbCA9IHRoaXMubWluO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDmnIDlpKflgLzmoKHpqoxcclxuICAgICAgICBpZiAoVGlUaW1lQ29tcG9uZW50LmlzQmlnZ2VyKHRoaXMubW9kZWwsIHRoaXMubWF4KSkge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsID0gdGhpcy5tYXg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uOiDml7bpl7TmoLzlvI/ljJblj4rml7bpl7TlkITkuKrmoYbmmL7npLrlgLzorr7nva5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBmb3JtYXRWYWx1ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyDmoLzlvI/ljJZ2YWx1ZVxyXG4gICAgICAgIGNvbnN0IGRhdGU6IERhdGUgPSBuZXcgRGF0ZShgMjAxOC81LzE1ICR7VGlUaW1lQ29tcG9uZW50LmFkZENvbG9uKHRoaXMubW9kZWwpfWApO1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdFN0cjogc3RyaW5nID0gVGlMb2NhbGVGb3JtYXQuZm9ybWF0VGltZShkYXRlLCB0aGlzLmZvcm1hdCk7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kZWwgIT09IGZvcm1hdFN0cikge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsID0gZm9ybWF0U3RyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRpbWVWYWx1ZSA9IHRoaXMubW9kZWw7XHJcbiAgICAgICAgdGhpcy5pbnB1dFZhbHVlID0gdGhpcy5tb2RlbDtcclxuICAgICAgICB0aGlzLm9sZElucHV0VmFsdWUgPSB0aGlzLmlucHV0VmFsdWU7XHJcbiAgICAgICAgY29uc3QgdGltZUFycjogQXJyYXk8YW55PiA9IHRoaXMuaW5wdXRWYWx1ZS5zcGxpdCgnOicpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRIb3VyID0gdGhpcy5nZXRTZWxlY3RlZFZhbCh0aGlzLmhvdXJPcHRpb25zLCBUaVRpbWVDb21wb25lbnQuYWRkWmVybyhOdW1iZXIodGltZUFyclswXSksIDIpKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkTWludXRlID0gdGhpcy5nZXRTZWxlY3RlZFZhbCh0aGlzLm1pbnV0ZU9wdGlvbnMsIFRpVGltZUNvbXBvbmVudC5hZGRaZXJvKE51bWJlcih0aW1lQXJyWzFdKSwgMikpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTZWNvbmQgPSB0aGlzLmdldFNlbGVjdGVkVmFsKHRoaXMuc2Vjb25kT3B0aW9ucywgVGlUaW1lQ29tcG9uZW50LmFkZFplcm8oTnVtYmVyKHRpbWVBcnJbMl0pLCAyKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvbjog5qCh6aqM5Yqo5oCB5pu05paw55qEbWluVmFsdWXmmK/lkKbmmK/lkIjms5XlgLxcclxuICAgICAqIEBwYXJhbTogbWluVmFsdWU65Yqo5oCB5pu05paw55qE5Lyg5YWl55qEbWluVmFsdWVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc1ZhbGlkTWluVmFsdWUobWluVmFsdWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBUaVRpbWVDb21wb25lbnQuaXNWYWxpZFRpbWUobWluVmFsdWUpICYmIFRpVGltZUNvbXBvbmVudC5pc1NtYWxsZXJPckVxdWFsKG1pblZhbHVlLCB0aGlzLm1heCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb246IOagoemqjOWKqOaAgeabtOaWsOeahG1heFZhbHVl5piv5ZCm5piv5ZCI5rOV5YC8XHJcbiAgICAgKiBAcGFyYW06IG1heFZhbHVlOuWKqOaAgeabtOaWsOeahOS8oOWFpeeahG1heFZhbHVlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNWYWxpZE1heFZhbHVlKG1heFZhbHVlOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gVGlUaW1lQ29tcG9uZW50LmlzVmFsaWRUaW1lKG1heFZhbHVlKSAmJiBUaVRpbWVDb21wb25lbnQuaXNCaWdnZXJPckVxdWFsKG1heFZhbHVlLCB0aGlzLm1pbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb246IOWIpOaWreWKqOaAgeabtOaWsOWGmeWFpee7hOS7tueahHZhbHVl5YC85piv5ZCm5piv5LiA5Liq5ZCI5rOV5YC8XHJcbiAgICAgKiBAcGFyYW06IHZhbHVlIOWKqOaAgeabtOaWsOWGmeWFpee7hOS7tueahHZhbHVl5YC8XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNWYWxpZFZhbHVlKHZhbHVlOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gVGlUaW1lQ29tcG9uZW50LmlzVmFsaWRUaW1lKHZhbHVlKSAmJlxyXG4gICAgICAgICAgICAgICAgVGlUaW1lQ29tcG9uZW50LmlzQmlnZ2VyT3JFcXVhbCh2YWx1ZSwgdGhpcy5taW4pICYmXHJcbiAgICAgICAgICAgICAgICBUaVRpbWVDb21wb25lbnQuaXNTbWFsbGVyT3JFcXVhbCh2YWx1ZSwgdGhpcy5tYXgpO1xyXG4gICAgfVxyXG4gICAgLy8g5YaF6YOo5YWs5YWx5pa55rOV6ZuG5ZCILS1lbmRcclxufVxyXG4iXX0=