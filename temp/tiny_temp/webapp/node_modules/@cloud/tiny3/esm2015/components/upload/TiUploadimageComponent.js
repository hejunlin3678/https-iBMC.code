import { Component, ContentChild, ElementRef, EventEmitter, Input, NgZone, Output, Renderer2, ViewChild } from '@angular/core';
import { TiUploadService } from '../../services/upload/TiUploadService';
import { TiModalService } from '../../services/modal/TiModalService';
import { TiImagepreviewComponent } from '../imagepreview/TiImagepreviewComponent';
import { TiUploadbaseComponent } from './TiUploadbaseComponent';
import { DomSanitizer } from '@angular/platform-browser';
/**
 * 10.0.2版本新增
 *
 * 该组件基于TiUploadService和已设计好的交互规范，实现上传图片功能（但不限于上传图片），包含两种样式：
 *
 * 1.带上传结果展示的样式(type为block)
 *
 * 2.不展示上传结果的样式(type为drag)
 *
 * 负责人：谭莉
 * <example-url>../tiny3demo/#/uploadimage/uploadimage-all</example-url>
 */
export class TiUploadimageComponent extends TiUploadbaseComponent {
    constructor(uploaderService, hostEle, renderer, tiModal, sanitizer, zone) {
        super(hostEle, renderer);
        this.uploaderService = uploaderService;
        this.tiModal = tiModal;
        this.sanitizer = sanitizer;
        this.zone = zone;
        /**
         * 能够上传文件的最大数量，默认不限制
         */
        this.maxCount = undefined;
        /**
         * 设置上传成功后可以删除，默认可删除
         */
        this.deletable = true;
        /**
         * 上传按钮的样式，默认为block
         */
        this.type = 'block';
        /**
         * @ignore
         * 上传结果展示，目前只有一种，picture-card；
         * 当type设置为drag时无效
         */
        this.listType = 'picture-card';
        /**
         * 文件上传达上限的回调
         * 参数是当前的文件预览信息列表
         */
        this.uploadLimit = new EventEmitter();
        /**
         * 上传按钮的宽度，用于自定义样式，默认为100px，在type为drag下设置才生效
         */
        this.uploadBtnWidth = '100px';
        /**
         * 上传按钮的高度，用于自定义样式，默认为100px，在type为drag下设置才生效
         */
        this.uploadBtnHeight = '100px';
        /**
         * @ignore 需要展示的文件列表
         */
        this.fileList = [];
    }
    /**
     * @ignore
     */
    // tslint:disable-next-line: use-life-cycle-interface
    ngOnInit() {
        super.ngOnInit();
        // 设置上传实例配置
        this.setUploadConfig();
        // 创建uploader实例
        this.uploadInst = this.uploaderService.create(this.uploadConfig);
        if (this.type === 'drag') {
            this.listType = '';
        }
    }
    // tslint:disable-next-line: use-life-cycle-interface
    ngAfterViewChecked() {
        super.ngAfterViewChecked();
        // 拖拽添加/上传时，设置上传按钮的高度和宽度
        if (this.uploadBtn && this.type === 'drag') {
            this.renderer.setStyle(this.uploadBtn.nativeElement, 'width', this.uploadBtnWidth);
            this.renderer.setStyle(this.uploadBtn.nativeElement, 'height', this.uploadBtnHeight);
        }
    }
    // tslint:disable-next-line: use-life-cycle-interface
    ngAfterContentChecked() {
        super.ngAfterContentChecked();
    }
    /**
     * 重新设置上传实例配置
     */
    setUploadConfig() {
        this.setFilters();
        this.uploadConfig.onAddItemFailed = (file, validResults) => {
            // 文件上传达上限，触发回调
            if (validResults.includes('maxCount')) {
                this.uploadLimit.emit(this.fileList);
            }
            this.addItemFailed.emit({ file, validResults });
        };
        this.uploadConfig.onAddItemSuccess = (fileItem) => {
            this.addPreviewList(fileItem);
            this.addItemSuccess.emit(fileItem);
        };
        this.uploadConfig.onSuccessItems = (fileItems, response, status) => {
            this.setPreviewInfo(fileItems[0]);
            this.successItems.emit({ fileItems, response, status });
        };
        this.uploadConfig.onRemoveItems = (fileItems) => {
            this.removePreviewList(fileItems[0]);
            this.removeItems.emit(fileItems);
        };
    }
    /**
     * 设置过滤条件
     */
    setFilters() {
        let uploadFilters = this.filters || [];
        if ((typeof this.maxCount === 'number') && this.maxCount > 0) {
            uploadFilters = uploadFilters.concat({
                name: 'maxCount',
                params: [this.maxCount]
            });
        }
        this.uploadConfig.filters = uploadFilters;
    }
    /**
     * 添加文件成功后，增加一个预览对象
     */
    addPreviewList(fileItem) {
        const imgInfoItem = {
            imgFileItem: fileItem,
            name: fileItem._file.name,
            previewUrl: '',
            isImage: false
        };
        this.fileList.push(imgInfoItem);
    }
    /**
     * 删除时，将文件信息从预览列表中移除
     */
    removePreviewList(fileItem) {
        // 获取需要删除的数据的索引
        const deleteIndex = this.fileList.findIndex((item) => {
            return (fileItem._file === item.imgFileItem._file);
        });
        this.fileList.splice(deleteIndex, 1);
    }
    /**
     * 上传成功后，更新预览地址
     */
    setPreviewInfo(fileItem) {
        // 生成预览url
        const url = window.URL.createObjectURL(fileItem._file);
        const isImagePromise = this.isImage(fileItem._file.name, url);
        isImagePromise.then((result) => {
            this.fileList.forEach((item) => {
                if (item.imgFileItem._file === fileItem._file) {
                    item.previewUrl = url;
                    item.isImage = result;
                }
            });
        });
    }
    /**
     * @ignore 在弹框中预览上传的图片
     * 参数i: 表示被点击图片的索引
     */
    preview(i) {
        const previewList = [];
        let firstIndex = i;
        this.fileList.forEach((item, index) => {
            if (item.imgFileItem.isSuccess && item.isImage) {
                // 上传成功并且是图片
                previewList.push(item);
            }
            else {
                // 非图片或上传失败，并且在被点击的文件之前，第一个预览的索引需要-1
                if (i >= index) {
                    firstIndex -= 1;
                }
            }
        });
        this.tiModal.open(TiImagepreviewComponent, {
            id: 'imagePreviewModal',
            modalClass: 'ti3-image-preview-modal',
            context: {
                index: firstIndex,
                fileList: previewList // 预览列表
            }
        });
    }
    /**
     * 判断是否是图片类型
     * 参数fileName: 文件名称
     * 参数previewUrl: 预览地址
     */
    // tslint:disable-next-line: prefer-function-over-method
    isImage(fileName, previewUrl) {
        const tempArray = fileName.split('.');
        const extension = tempArray[tempArray.length - 1].toLocaleLowerCase();
        const supportTypes = ['jpg', 'png', 'jpeg', 'svg', 'gif', 'bmp'];
        return new Promise(resolve => {
            if (!supportTypes.includes(extension)) {
                resolve(false);
                return;
            }
            this.zone.runOutsideAngular(() => {
                // 测试图片能否加载成功，能加载成功，则认为可预览；否则，认为不可预览
                const img = document.createElement('img');
                img.src = previewUrl;
                img.onerror = (event) => {
                    resolve(false);
                };
                img.onload = (event) => {
                    resolve(true);
                };
            });
        });
    }
    /**
     * @ignore 禁用上传时，阻止默认事件、停止冒泡
     */
    selectFile(event) {
        if (this.disabled) {
            event.stopPropagation();
            event.preventDefault();
            return;
        }
        // 焦点转移
        this.uploadBtn.nativeElement.focus();
    }
    onKeydown() {
        this.uploadInputEle.nativeElement.focus();
    }
}
TiUploadimageComponent.decorators = [
    { type: Component, args: [{
                selector: 'ti-upload[type="block"], ti-upload[type="drag"]',
                template: "<!-- \u4E0A\u4F20\u7ED3\u679C\u5C55\u793A -->\r\n<ng-container *ngIf=\"listType==='picture-card'\">\r\n    <div class=\"ti3-picture-card-container\" *ngFor=\"let item of fileList; index as i;\">\r\n        <div class='ti3-picture-card-item'\r\n            [ngClass]=\"{'ti3-picture-card-item-error': item.imgFileItem.isError}\">\r\n            <img class=\"ti3-picture-card-item-img\" *ngIf='item.imgFileItem.isSuccess && item.isImage' [src]=\"sanitizer.bypassSecurityTrustUrl(item.previewUrl)\" />\r\n            <div class=\"ti3-picture-card-item-not-img\" *ngIf=\"item.imgFileItem.isError || item.imgFileItem.isCancel || (item.imgFileItem.isSuccess && !item.isImage)\"></div>\r\n            <!-- \u8FDB\u5EA6 -->\r\n            <div class=\"ti3-image-upload-progress\" *ngIf=\"item.imgFileItem.isUploading\">\r\n                <ti-progressbar [value]=\"item.imgFileItem.progress\" [animation]='true'></ti-progressbar>\r\n                <span class=\"ti3-image-upload-cancel-text\" (click)=\"item.imgFileItem.cancel()\" [id]=\"appendId('cancel')\">{{uploadLan.cancel}}</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"ti3-picture-card-drop\" *ngIf=\"item.imgFileItem.isUploaded || item.imgFileItem.isCancel\"\r\n            [tiTip]=\"item.imgFileItem.isError ? tipContent : ''\"\r\n            [tiTipContext]='{\"item\": item}'>\r\n            <span class=\"ti3-picture-card-operation ti3-picture-card-operation-preview\"\r\n                *ngIf=\"item.imgFileItem.isSuccess && item.isImage\"\r\n                (click)=\"preview(i)\"\r\n                [id]=\"appendId('preview')\"\r\n                [ngClass]=\"{\r\n                    'ti3-picture-card-operation-center': !deletable\r\n                }\">\r\n            </span>\r\n            <span class=\"ti3-picture-card-operation ti3-picture-card-operation-delete\"\r\n                *ngIf=\"item.imgFileItem.isError || item.imgFileItem.isCancel || (item.imgFileItem.isSuccess && deletable)\"\r\n                (click)=\"item.imgFileItem.remove()\"\r\n                [id]=\"appendId('remove')\"\r\n                [ngClass]=\"{\r\n                    'ti3-picture-card-operation-delete-success': item.imgFileItem.isSuccess && deletable,\r\n                    'ti3-picture-card-operation-success-center': item.imgFileItem.isError || item.imgFileItem.isCancel || (item.imgFileItem.isSuccess && !item.isImage && deletable)\r\n                }\">\r\n            </span>\r\n        </div>\r\n        <span tiOverflow tiTipPosition=\"right\" class=\"ti3-picture-card-name\"\r\n            [ngClass]=\"{'ti3-picture-card-name-error': item.imgFileItem.isError}\" [id]=\"appendId('name')\">{{item.imgFileItem.file.name}}</span>\r\n    </div>\r\n</ng-container>\r\n\r\n<!-- \u4E0A\u4F20\u6309\u94AE -->\r\n<div #uploadBtn class=\"ti3-image-upload-btn\" tiButton [tiDisabled]='disabled'\r\n    tabindex=\"0\" (keydown.enter)=\"onKeydown()\" tiOutline\r\n    *ngIf=\"!maxCount || uploadInst.queue.length < maxCount\">\r\n    <ng-container *ngTemplateOutlet=\"uploadContainerTemplate?uploadContainerTemplate:defaultUploadTemplate;\"></ng-container>\r\n    <input #uploadInput class=\"ti3-image-upload-input\" type=\"file\" tabindex=\"-1\" [tiDisabled]='disabled'\r\n        [title]=\"title\"\r\n        [accept]=\"accept\"\r\n        (click)=\"selectFile($event)\"\r\n        [tiFileSelect]=\"uploadInst\"\r\n        [multiple]=\"!uploadInst.isSingleFile\"\r\n        [id]=\"appendId('select_file')\"/>\r\n</div>\r\n\r\n<!-- \u9ED8\u8BA4\u4E0A\u4F20\u6837\u5F0F -->\r\n<ng-template #defaultUploadTemplate>\r\n    <div class='ti3-image-upload-content' *ngIf=\"!uploadContainerTemplate\">\r\n        <ti-icon name=\"add\" class=\"ti3-image-upload-icon\"></ti-icon>\r\n    </div>\r\n</ng-template>\r\n\r\n<!-- \u63D0\u793A -->\r\n<ng-template #tipContent let-item=\"context.item\">\r\n    <ti-error-msg [errorMessage]=\"item.imgFileItem.errorInfo || uploadLan.error\"></ti-error-msg>\r\n</ng-template>\r\n",
                styles: ["::ng-deep :root{--ti-image-preview-modal-width:640px;--ti-image-upload-btn-height:100px;--ti-image-upload-btn-width:100px;--ti-image-upload-delete-bg-img-url:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABV0lEQVQ4T42TP0jVURiGn4cGFzeJUBwCdXBouIvgJNXSEoI0OCk4OFzMzT+DSzUFLhkiDg7iIA2CU9AQgUGbILooXeROJQUu4iLCFyd+V7w/71HP9p33/R4+3u8caXEi4ifQW5Jqal/ZbgYwDjwuaXV1/V6AVtDcnZlx78uoJUBj3BGgG1i6o/s18AvYAupXGUTER2BUfXgbICL+Ap/UqeS7DlgA3gBt6mUm3AfABfBWTd4mwCSwCnSpvzOAR8AJUFVXyoBhYBuoqHsZwBNgH3ilpgyaJhgEfgAv1C9JjIi15FEnivoZ8BUYUnfKgB6gBoypG0XDt/8mfVrUo8Am0K8elgHtwBkwoy5mANPAB6BDPW0CFA3nwLI6W9QpqFCrRf0OmCs2Fa0Ax8B3NT2uGyci0pZeql0NsekzRcRnYADYzTymCnCgPs8BUpDvgc4M4A8wrx419H/te4tFrK91SQAAAABJRU5ErkJggg==\");--ti-image-upload-icon-font-size:16px;--ti-image-upload-icon-margin:37px;--ti-image-upload-preview-bg-img-url:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAArUlEQVQ4T62SwRUBMRiEv6mACvRBLZrgxsW6cKMLpdg2lEAF42Vf1gsvT7JWrsl8//wzESOPRup5AWzfgUkENpL2NfAU4ChoJS1qxOHNJ6AF5sBZ0roGkgJ2wbbtE7ACjpK2JUg2RNsHYCZp+ROgJErv/1fjt6m2L8Atl0mVg5jJpm/Hdhf4W42lvZN2uqoldcOrHPRw29f4TxgMCLaBJsIekqaDHeTWHLRCDvAEGOo5EdqEuwAAAAAASUVORK5CYII=\");--ti-image-upload-progress-top:57px;--ti-image-upload-progress-width:80px;--ti-picture-card-item-default-img:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEEElEQVRYR8WXX2gcVRTGv3NnN9s0ttYmaXdnk92ZTaAgUfrQxhIfklqrIhRR6kss7ZsIBR8ECVjFiCKl4pMgBIUiVcQXFaVSE2jeCpVVCIaWuM3822QmDVVa2kab7MyRO8kmacjuTtskvU8z3HPO95t7zz33DOEhD5L6zCwcZ+owgw8GwKNRmeIidqK1dUdB2ufz7ubGJv6CieLV/AVwnRQaPP3lwPf9/f0BMXPCcryfARyMKhzaEQpaa2oXEbF8NSzvbSI+FTkG49ztW6mXyHKmPmIOTsgYIHwCiOtRgpCi/KWlm/8o25qO+zwgHqvlywhyCNBHhK1CUD+ZlmuDkPFJPNGeSY7WCrAW84YxeYgU+gnAOJm268sF1bOqWIvgUWKMjo7WNWzZfgfAHQkg95A3EmB4eDim5XbNAZhbUwB78urT/lypV5DwFYGvW1tTv622IusCYFluLxPOAAi3kohK7POruq7+uBJiXQBMx7XByKwQu6xn1cfXHYCZFcvx5J6GhW3Z+FfPqpvXHUAKmI53Ecydy8UIdF7Lpg5sDIA5sRtCnAOwcz4HMIEAz2maenlDAKRIoVDYGo83PMuMoL5eDCWTydsPfAoKhUIiVvfIO7JWaJnkx0Q0G6XYVLO5p1Ng2e4ZBo7IgAx8k8uq4fODjMgApu31AXzybjHu17PpD2oBGEaxk4RyigiFWzf/Od7R0bG4cpEADHvqkCD+QR6xFWIM4tf0TPrbShCmWXwKQvkVC70FM3+e09LHy/Y1Aa5ccTpELHaBCFsqiPznMx9o19IXVs4bRa+TfB4ELTU2smcg5mPZrCorJaoCjI25TXWbcBFArsYyTxOLfZqWNMt24463VzAPAti2iu8MK0pXrmXnSEWAfD4fb2xSh0DorrXHC/OXgtKmrra27TfCYmR7xwA+vUpFDM0JNE6Y3WsYxs1Vb0PTdgcAvB5RPDRjYMjOpF7cT1Sah5jsA2hF4i5FZOCsnkm9bDmeTMql65gEvckBf3Yv4stsB/Ss+kb53XK8T5n5rUqxiOhDZn7vLgAGfAJi9wXAPPL3Neras0edkf528eqRIPDDhKswgoVre3EF7kt3fmPpz0SMn1FV9Zp8HbfcV4jwXcSPmSPDcmeJULWXr0J3yU+I/e3J5HS4/0X3BQSQDUgi4hfNkOl4I2B+MqLD8mwaA8d6dH3H1Ly414OAfwFQHzUWAb+TYXtHCfxVVKeF81RQEO/JZJrdUNyc2gcRyPNfqXCtHp5Eb9jBWI77LjNkVtZFADHiSqK7paVxIhSfmN4Nv3QeQM2fknJsZp4lovf1rHpysYUqFotpH0o3M1X9Nwzm+Gxbm+qUg9m2dzggNEcAD02CgG8oDfFhrbnZC3M4quN62T10gP8BX1AYJjtlKGcAAAAASUVORK5CYII=\");--ti-picture-card-operation-height:16px;--ti-picture-card-operation-left-center:42px;--ti-picture-card-operation-preview-left:28px;--ti-picture-card-operation-top:42px;--ti-picture-card-operation-width:16px}.ti3-picture-card-container{display:inline-block;position:relative;width:var(--ti-image-upload-btn-width)}.ti3-picture-card-container:not(:last-child){margin-right:var(--ti-common-space-2x)}.ti3-picture-card-container .ti3-picture-card-item{border:1px solid var(--ti-common-color-line-normal);border-radius:var(--ti-common-border-radius-normal);box-sizing:border-box;height:var(--ti-image-upload-btn-height);position:relative}.ti3-picture-card-container .ti3-picture-card-item .ti3-picture-card-item-img{border-style:none;height:100%;object-fit:cover;width:100%}.ti3-picture-card-container .ti3-picture-card-item .ti3-picture-card-item-not-img{background:var(--ti-picture-card-item-default-img) 50% no-repeat;padding:calc(var(--ti-image-upload-btn-width)/2)}.ti3-picture-card-container .ti3-picture-card-item .ti3-image-upload-progress{margin:0 var(--ti-common-space-10);position:absolute;top:var(--ti-image-upload-progress-top);width:var(--ti-image-upload-progress-width)}.ti3-picture-card-container .ti3-picture-card-item .ti3-image-upload-progress ti-progressbar{position:absolute}.ti3-picture-card-container .ti3-picture-card-item .ti3-image-upload-progress .ti3-progress-bar{background-color:var(--ti-common-color-success)}.ti3-picture-card-container .ti3-picture-card-item .ti3-image-upload-progress .ti3-image-upload-cancel-text{color:var(--ti-common-color-prompt-text);cursor:pointer;display:inline-block;margin-top:calc(5px + var(--ti-common-space-2x));text-align:center;width:100%}.ti3-picture-card-container .ti3-picture-card-item-error{border-color:var(--ti-common-color-error-border)}.ti3-picture-card-container .ti3-picture-card-drop{background:rgba(0,0,0,.4);border-radius:var(--ti-common-border-radius-normal);height:var(--ti-image-upload-btn-height);opacity:0;position:absolute;top:0;width:var(--ti-image-upload-btn-width)}.ti3-picture-card-container .ti3-picture-card-drop:hover{opacity:1}.ti3-picture-card-container .ti3-picture-card-drop .ti3-picture-card-operation{display:inline-block;height:var(--ti-picture-card-operation-height);position:absolute;width:var(--ti-picture-card-operation-width)}.ti3-picture-card-container .ti3-picture-card-drop .ti3-picture-card-operation:hover{cursor:pointer}.ti3-picture-card-container .ti3-picture-card-drop .ti3-picture-card-operation-preview{background-image:var(--ti-image-upload-preview-bg-img-url);left:var(--ti-picture-card-operation-preview-left);top:var(--ti-picture-card-operation-top)}.ti3-picture-card-container .ti3-picture-card-drop .ti3-picture-card-operation-center{left:var(--ti-picture-card-operation-left-center)}.ti3-picture-card-container .ti3-picture-card-drop .ti3-picture-card-operation-success-center{left:var(--ti-picture-card-operation-left-center)!important}.ti3-picture-card-container .ti3-picture-card-drop .ti3-picture-card-operation-delete{background-image:var(--ti-image-upload-delete-bg-img-url);top:var(--ti-picture-card-operation-top)}.ti3-picture-card-container .ti3-picture-card-drop .ti3-picture-card-operation-delete-error{left:var(--ti-picture-card-operation-left-center)}.ti3-picture-card-container .ti3-picture-card-drop .ti3-picture-card-operation-delete-success{left:calc(var(--ti-picture-card-operation-preview-left)*2)}.ti3-picture-card-container .ti3-picture-card-name{display:inline-block;margin-top:var(--ti-common-space-2x);overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap;width:100%}.ti3-picture-card-container .ti3-picture-card-name-error{color:var(--ti-common-color-error-text)}.ti3-image-upload-btn{border:1px dashed var(--ti-common-color-line-normal);border-radius:var(--ti-common-border-radius-normal);height:var(--ti-image-upload-btn-height);overflow:hidden;padding:0;position:relative;vertical-align:top;width:var(--ti-image-upload-btn-width)}.ti3-image-upload-btn[disabled]{cursor:not-allowed}.ti3-image-upload-btn :hover{cursor:pointer}.ti3-image-upload-btn .ti3-image-upload-icon{display:inline-block;font-size:var(--ti-image-upload-icon-font-size);left:0;margin:var(--ti-image-upload-icon-margin) auto;position:absolute;top:0;width:100%}.ti3-image-upload-btn .ti3-image-upload-input{display:inline-block;font-size:0;height:100%;left:0;opacity:0;outline:none;position:absolute;top:0;width:100%}.ti3-image-upload-btn .ti3-image-upload-input[disabled]{cursor:not-allowed}::ng-deep .ti3-image-preview-modal{width:var(--ti-image-preview-modal-width)!important}"]
            },] }
];
TiUploadimageComponent.ctorParameters = () => [
    { type: TiUploadService },
    { type: ElementRef },
    { type: Renderer2 },
    { type: TiModalService },
    { type: DomSanitizer },
    { type: NgZone }
];
TiUploadimageComponent.propDecorators = {
    maxCount: [{ type: Input }],
    deletable: [{ type: Input }],
    type: [{ type: Input }],
    uploadLimit: [{ type: Output }],
    uploadBtn: [{ type: ViewChild, args: ['uploadBtn', { static: false },] }],
    uploadInputEle: [{ type: ViewChild, args: ['uploadInput', { static: false },] }],
    uploadContainerTemplate: [{ type: ContentChild, args: ['uploadContainer', { static: true },] }],
    uploadBtnWidth: [{ type: Input }],
    uploadBtnHeight: [{ type: Input }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGlVcGxvYWRpbWFnZUNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL0BjbG91ZC90aW55My9jb21wb25lbnRzL3VwbG9hZC9UaVVwbG9hZGltYWdlQ29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUvSCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDeEUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQ3JFLE9BQU8sRUFBcUIsdUJBQXVCLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUNyRyxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUNoRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFekQ7Ozs7Ozs7Ozs7O0dBV0c7QUFPSCxNQUFNLE9BQU8sc0JBQXVCLFNBQVEscUJBQXFCO0lBMkQ3RCxZQUFvQixlQUFnQyxFQUFFLE9BQW1CLEVBQUUsUUFBbUIsRUFDMUUsT0FBdUIsRUFBUyxTQUF1QixFQUFVLElBQVk7UUFDN0YsS0FBSyxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztRQUZULG9CQUFlLEdBQWYsZUFBZSxDQUFpQjtRQUNoQyxZQUFPLEdBQVAsT0FBTyxDQUFnQjtRQUFTLGNBQVMsR0FBVCxTQUFTLENBQWM7UUFBVSxTQUFJLEdBQUosSUFBSSxDQUFRO1FBMURqRzs7V0FFRztRQUNNLGFBQVEsR0FBVyxTQUFTLENBQUM7UUFFdEM7O1dBRUc7UUFDTSxjQUFTLEdBQVksSUFBSSxDQUFDO1FBRW5DOztXQUVHO1FBQ00sU0FBSSxHQUFxQixPQUFPLENBQUM7UUFFMUM7Ozs7V0FJRztRQUNILGFBQVEsR0FBVyxjQUFjLENBQUM7UUFFbEM7OztXQUdHO1FBQ2dCLGdCQUFXLEdBQTRDLElBQUksWUFBWSxFQUE0QixDQUFDO1FBZ0J2SDs7V0FFRztRQUNNLG1CQUFjLEdBQVcsT0FBTyxDQUFDO1FBRTFDOztXQUVHO1FBQ00sb0JBQWUsR0FBVyxPQUFPLENBQUM7UUFFM0M7O1dBRUc7UUFDSCxhQUFRLEdBQThCLEVBQUUsQ0FBQztJQUt6QyxDQUFDO0lBRUQ7O09BRUc7SUFDSCxxREFBcUQ7SUFDckQsUUFBUTtRQUNKLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNqQixXQUFXO1FBQ1gsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3ZCLGVBQWU7UUFDZixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNqRSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxFQUFFO1lBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1NBQ3RCO0lBQ0wsQ0FBQztJQUVELHFEQUFxRDtJQUNyRCxrQkFBa0I7UUFDZCxLQUFLLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUMzQix3QkFBd0I7UUFDeEIsSUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxFQUFFO1lBQ3hDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDbkYsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUN4RjtJQUNMLENBQUM7SUFFRCxxREFBcUQ7SUFDckQscUJBQXFCO1FBQ2pCLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO0lBQ2xDLENBQUM7SUFFRDs7T0FFRztJQUNLLGVBQWU7UUFDbkIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxZQUFZLENBQUMsZUFBZSxHQUFHLENBQUMsSUFBZ0IsRUFBRSxZQUEyQixFQUFRLEVBQUU7WUFDeEYsZUFBZTtZQUNmLElBQUksWUFBWSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsRUFBRTtnQkFDbkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQ3hDO1lBQ0QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsRUFBQyxJQUFJLEVBQUUsWUFBWSxFQUFDLENBQUMsQ0FBQztRQUNsRCxDQUFDLENBQUM7UUFDRixJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixHQUFHLENBQUMsUUFBb0IsRUFBUSxFQUFFO1lBQ2hFLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDOUIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdkMsQ0FBQyxDQUFDO1FBQ0YsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxTQUE0QixFQUFFLFFBQWdCLEVBQUUsTUFBYyxFQUFRLEVBQUU7WUFDeEcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNsQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFDLFNBQVMsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQztRQUMxRCxDQUFDLENBQUM7UUFDRixJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsR0FBRyxDQUFDLFNBQTRCLEVBQVEsRUFBRTtZQUNyRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDckMsQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUVEOztPQUVHO0lBQ0ssVUFBVTtRQUNkLElBQUksYUFBYSxHQUFvQixJQUFJLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQztRQUN4RCxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsUUFBUSxLQUFLLFFBQVEsQ0FBQyxJQUFJLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxFQUFFO1lBQzFELGFBQWEsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDO2dCQUNqQyxJQUFJLEVBQUUsVUFBVTtnQkFDaEIsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQzthQUMxQixDQUFDLENBQUM7U0FDTjtRQUNELElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxHQUFHLGFBQWEsQ0FBQztJQUM5QyxDQUFDO0lBRUQ7O09BRUc7SUFDSyxjQUFjLENBQUMsUUFBb0I7UUFDdkMsTUFBTSxXQUFXLEdBQXNCO1lBQ25DLFdBQVcsRUFBRSxRQUFRO1lBQ3JCLElBQUksRUFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUk7WUFDekIsVUFBVSxFQUFFLEVBQUU7WUFDZCxPQUFPLEVBQUUsS0FBSztTQUNmLENBQUM7UUFDSixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBRUQ7O09BRUc7SUFDSyxpQkFBaUIsQ0FBQyxRQUFvQjtRQUMxQyxlQUFlO1FBQ2YsTUFBTSxXQUFXLEdBQVcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUF1QixFQUFXLEVBQUU7WUFDckYsT0FBTyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2RCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQ7O09BRUc7SUFDSyxjQUFjLENBQUMsUUFBb0I7UUFDdkMsVUFBVTtRQUNWLE1BQU0sR0FBRyxHQUFXLE1BQU0sQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMvRCxNQUFNLGNBQWMsR0FBcUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNoRixjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBZSxFQUFFLEVBQUU7WUFDcEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUF1QixFQUFRLEVBQUU7Z0JBQ3BELElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEtBQUssUUFBUSxDQUFDLEtBQUssRUFBRTtvQkFDM0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUM7b0JBQ3RCLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO2lCQUN6QjtZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksT0FBTyxDQUFDLENBQVM7UUFDcEIsTUFBTSxXQUFXLEdBQTZCLEVBQUUsQ0FBQztRQUNqRCxJQUFJLFVBQVUsR0FBVyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUF1QixFQUFFLEtBQWEsRUFBUSxFQUFFO1lBQ25FLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtnQkFDNUMsWUFBWTtnQkFDWixXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQzFCO2lCQUFNO2dCQUNILG9DQUFvQztnQkFDcEMsSUFBSSxDQUFDLElBQUksS0FBSyxFQUFFO29CQUNaLFVBQVUsSUFBSSxDQUFDLENBQUM7aUJBQ25CO2FBQ0o7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLHVCQUF1QixFQUFFO1lBQ3ZDLEVBQUUsRUFBRSxtQkFBbUI7WUFDdkIsVUFBVSxFQUFFLHlCQUF5QjtZQUNyQyxPQUFPLEVBQUU7Z0JBQ0wsS0FBSyxFQUFFLFVBQVU7Z0JBQ2pCLFFBQVEsRUFBRSxXQUFXLENBQUMsT0FBTzthQUNoQztTQUNKLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsd0RBQXdEO0lBQ2hELE9BQU8sQ0FBQyxRQUFnQixFQUFFLFVBQWtCO1FBQ2hELE1BQU0sU0FBUyxHQUFrQixRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JELE1BQU0sU0FBUyxHQUFXLFNBQVMsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDOUUsTUFBTSxZQUFZLEdBQWtCLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztRQUVoRixPQUFPLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ3pCLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUNuQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBRWYsT0FBTzthQUNWO1lBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUU7Z0JBQzdCLG9DQUFvQztnQkFDcEMsTUFBTSxHQUFHLEdBQVEsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDL0MsR0FBRyxDQUFDLEdBQUcsR0FBRyxVQUFVLENBQUM7Z0JBQ3JCLEdBQUcsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxLQUFVLEVBQVEsRUFBRTtvQkFDL0IsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNuQixDQUFDLENBQUM7Z0JBQ0YsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEtBQVUsRUFBUSxFQUFFO29CQUM5QixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2xCLENBQUMsQ0FBQztZQUNOLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQ7O09BRUc7SUFDSCxVQUFVLENBQUMsS0FBVTtRQUNqQixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDZixLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDeEIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBRXZCLE9BQU87U0FDVjtRQUNELE9BQU87UUFDUCxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0lBRU0sU0FBUztRQUNaLElBQUksQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzlDLENBQUM7OztZQWhRSixTQUFTLFNBQUM7Z0JBQ1AsUUFBUSxFQUFFLGlEQUFpRDtnQkFDM0QseTVIQUFpQzs7YUFFcEM7OztZQXRCUSxlQUFlO1lBRlUsVUFBVTtZQUF1QyxTQUFTO1lBR25GLGNBQWM7WUFHZCxZQUFZO1lBTjhDLE1BQU07Ozt1QkErQnBFLEtBQUs7d0JBS0wsS0FBSzttQkFLTCxLQUFLOzBCQWFMLE1BQU07d0JBS04sU0FBUyxTQUFDLFdBQVcsRUFBRSxFQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUM7NkJBS3RDLFNBQVMsU0FBQyxhQUFhLEVBQUUsRUFBQyxNQUFNLEVBQUUsS0FBSyxFQUFDO3NDQUl4QyxZQUFZLFNBQUMsaUJBQWlCLEVBQUUsRUFBQyxNQUFNLEVBQUUsSUFBSSxFQUFDOzZCQUs5QyxLQUFLOzhCQUtMLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIENvbnRlbnRDaGlsZCwgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgTmdab25lLCBPdXRwdXQsIFJlbmRlcmVyMiwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRpRmlsZUluZm8sIFRpRmlsZUl0ZW0sIFRpRmlsdGVyIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvdXBsb2FkL1RpRmlsZUludGVyZmFjZSc7XHJcbmltcG9ydCB7IFRpVXBsb2FkU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3VwbG9hZC9UaVVwbG9hZFNlcnZpY2UnO1xyXG5pbXBvcnQgeyBUaU1vZGFsU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL21vZGFsL1RpTW9kYWxTZXJ2aWNlJztcclxuaW1wb3J0IHsgVGlGaWxlUHJldmlld0luZm8sIFRpSW1hZ2VwcmV2aWV3Q29tcG9uZW50IH0gZnJvbSAnLi4vaW1hZ2VwcmV2aWV3L1RpSW1hZ2VwcmV2aWV3Q29tcG9uZW50JztcclxuaW1wb3J0IHsgVGlVcGxvYWRiYXNlQ29tcG9uZW50IH0gZnJvbSAnLi9UaVVwbG9hZGJhc2VDb21wb25lbnQnO1xyXG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcclxuXHJcbi8qKlxyXG4gKiAxMC4wLjLniYjmnKzmlrDlop5cclxuICpcclxuICog6K+l57uE5Lu25Z+65LqOVGlVcGxvYWRTZXJ2aWNl5ZKM5bey6K6+6K6h5aW955qE5Lqk5LqS6KeE6IyD77yM5a6e546w5LiK5Lyg5Zu+54mH5Yqf6IO977yI5L2G5LiN6ZmQ5LqO5LiK5Lyg5Zu+54mH77yJ77yM5YyF5ZCr5Lik56eN5qC35byP77yaXHJcbiAqXHJcbiAqIDEu5bim5LiK5Lyg57uT5p6c5bGV56S655qE5qC35byPKHR5cGXkuLpibG9jaylcclxuICpcclxuICogMi7kuI3lsZXnpLrkuIrkvKDnu5PmnpznmoTmoLflvI8odHlwZeS4umRyYWcpXHJcbiAqXHJcbiAqIOi0n+i0o+S6uu+8muiwreiOiVxyXG4gKiA8ZXhhbXBsZS11cmw+Li4vdGlueTNkZW1vLyMvdXBsb2FkaW1hZ2UvdXBsb2FkaW1hZ2UtYWxsPC9leGFtcGxlLXVybD5cclxuICovXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICd0aS11cGxvYWRbdHlwZT1cImJsb2NrXCJdLCB0aS11cGxvYWRbdHlwZT1cImRyYWdcIl0nLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcuL3VwbG9hZGltYWdlLmh0bWwnLFxyXG4gICAgc3R5bGVVcmxzOiBbJy4vdXBsb2FkaW1hZ2UubGVzcyddXHJcbn0pXHJcblxyXG5leHBvcnQgY2xhc3MgVGlVcGxvYWRpbWFnZUNvbXBvbmVudCBleHRlbmRzIFRpVXBsb2FkYmFzZUNvbXBvbmVudCB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDog73lpJ/kuIrkvKDmlofku7bnmoTmnIDlpKfmlbDph4/vvIzpu5jorqTkuI3pmZDliLZcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgbWF4Q291bnQ6IG51bWJlciA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuvue9ruS4iuS8oOaIkOWKn+WQjuWPr+S7peWIoOmZpO+8jOm7mOiupOWPr+WIoOmZpFxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBkZWxldGFibGU6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LiK5Lyg5oyJ6ZKu55qE5qC35byP77yM6buY6K6k5Li6YmxvY2tcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgdHlwZTogJ2Jsb2NrJyB8ICdkcmFnJyA9ICdibG9jayc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDkuIrkvKDnu5PmnpzlsZXnpLrvvIznm67liY3lj6rmnInkuIDnp43vvIxwaWN0dXJlLWNhcmTvvJtcclxuICAgICAqIOW9k3R5cGXorr7nva7kuLpkcmFn5pe25peg5pWIXHJcbiAgICAgKi9cclxuICAgIGxpc3RUeXBlOiBzdHJpbmcgPSAncGljdHVyZS1jYXJkJztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaWh+S7tuS4iuS8oOi+vuS4iumZkOeahOWbnuiwg1xyXG4gICAgICog5Y+C5pWw5piv5b2T5YmN55qE5paH5Lu26aKE6KeI5L+h5oGv5YiX6KGoXHJcbiAgICAgKi9cclxuICAgIEBPdXRwdXQoKSByZWFkb25seSB1cGxvYWRMaW1pdDogRXZlbnRFbWl0dGVyPEFycmF5PFRpRmlsZVByZXZpZXdJbmZvPj4gPSAgbmV3IEV2ZW50RW1pdHRlcjxBcnJheTxUaUZpbGVQcmV2aWV3SW5mbz4+KCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlIOWGhemDqOWPmOmHj1xyXG4gICAgICovXHJcbiAgICBAVmlld0NoaWxkKCd1cGxvYWRCdG4nLCB7c3RhdGljOiBmYWxzZX0pIHVwbG9hZEJ0bjogRWxlbWVudFJlZjtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5LiK5Lyg57uE5Lu25a+55bqU55qEaW5wdXTlhYPntKBcclxuICAgICAqL1xyXG4gICAgQFZpZXdDaGlsZCgndXBsb2FkSW5wdXQnLCB7c3RhdGljOiBmYWxzZX0pIHVwbG9hZElucHV0RWxlOiBFbGVtZW50UmVmO1xyXG4gICAgLyoqXHJcbiAgICAgKiDnlKjmiLfoh6rlrprkuYnkuIrkvKDnmoTmoLflvI9cclxuICAgICAqL1xyXG4gICAgQENvbnRlbnRDaGlsZCgndXBsb2FkQ29udGFpbmVyJywge3N0YXRpYzogdHJ1ZX0pIHVwbG9hZENvbnRhaW5lclRlbXBsYXRlOiBFbGVtZW50UmVmO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LiK5Lyg5oyJ6ZKu55qE5a695bqm77yM55So5LqO6Ieq5a6a5LmJ5qC35byP77yM6buY6K6k5Li6MTAwcHjvvIzlnKh0eXBl5Li6ZHJhZ+S4i+iuvue9ruaJjeeUn+aViFxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSB1cGxvYWRCdG5XaWR0aDogc3RyaW5nID0gJzEwMHB4JztcclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4iuS8oOaMiemSrueahOmrmOW6pu+8jOeUqOS6juiHquWumuS5ieagt+W8j++8jOm7mOiupOS4ujEwMHB477yM5ZyodHlwZeS4umRyYWfkuIvorr7nva7miY3nlJ/mlYhcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgdXBsb2FkQnRuSGVpZ2h0OiBzdHJpbmcgPSAnMTAwcHgnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZSDpnIDopoHlsZXnpLrnmoTmlofku7bliJfooahcclxuICAgICAqL1xyXG4gICAgZmlsZUxpc3Q6IEFycmF5PFRpRmlsZVByZXZpZXdJbmZvPiA9ICBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHVwbG9hZGVyU2VydmljZTogVGlVcGxvYWRTZXJ2aWNlLCBob3N0RWxlOiBFbGVtZW50UmVmLCByZW5kZXJlcjogUmVuZGVyZXIyLFxyXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSB0aU1vZGFsOiBUaU1vZGFsU2VydmljZSwgcHVibGljIHNhbml0aXplcjogRG9tU2FuaXRpemVyLCBwcml2YXRlIHpvbmU6IE5nWm9uZSkge1xyXG4gICAgICAgIHN1cGVyKGhvc3RFbGUsIHJlbmRlcmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiB1c2UtbGlmZS1jeWNsZS1pbnRlcmZhY2VcclxuICAgIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLm5nT25Jbml0KCk7XHJcbiAgICAgICAgLy8g6K6+572u5LiK5Lyg5a6e5L6L6YWN572uXHJcbiAgICAgICAgdGhpcy5zZXRVcGxvYWRDb25maWcoKTtcclxuICAgICAgICAvLyDliJvlu7p1cGxvYWRlcuWunuS+i1xyXG4gICAgICAgIHRoaXMudXBsb2FkSW5zdCA9IHRoaXMudXBsb2FkZXJTZXJ2aWNlLmNyZWF0ZSh0aGlzLnVwbG9hZENvbmZpZyk7XHJcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ2RyYWcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdFR5cGUgPSAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiB1c2UtbGlmZS1jeWNsZS1pbnRlcmZhY2VcclxuICAgIG5nQWZ0ZXJWaWV3Q2hlY2tlZCgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5uZ0FmdGVyVmlld0NoZWNrZWQoKTtcclxuICAgICAgICAvLyDmi5bmi73mt7vliqAv5LiK5Lyg5pe277yM6K6+572u5LiK5Lyg5oyJ6ZKu55qE6auY5bqm5ZKM5a695bqmXHJcbiAgICAgICAgaWYgKHRoaXMudXBsb2FkQnRuICYmIHRoaXMudHlwZSA9PT0gJ2RyYWcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy51cGxvYWRCdG4ubmF0aXZlRWxlbWVudCwgJ3dpZHRoJywgdGhpcy51cGxvYWRCdG5XaWR0aCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy51cGxvYWRCdG4ubmF0aXZlRWxlbWVudCwgJ2hlaWdodCcsIHRoaXMudXBsb2FkQnRuSGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiB1c2UtbGlmZS1jeWNsZS1pbnRlcmZhY2VcclxuICAgIG5nQWZ0ZXJDb250ZW50Q2hlY2tlZCgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5uZ0FmdGVyQ29udGVudENoZWNrZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmHjeaWsOiuvue9ruS4iuS8oOWunuS+i+mFjee9rlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldFVwbG9hZENvbmZpZygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldEZpbHRlcnMoKTtcclxuICAgICAgICB0aGlzLnVwbG9hZENvbmZpZy5vbkFkZEl0ZW1GYWlsZWQgPSAoZmlsZTogVGlGaWxlSW5mbywgdmFsaWRSZXN1bHRzOiBBcnJheTxzdHJpbmc+KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIC8vIOaWh+S7tuS4iuS8oOi+vuS4iumZkO+8jOinpuWPkeWbnuiwg1xyXG4gICAgICAgICAgICBpZiAodmFsaWRSZXN1bHRzLmluY2x1ZGVzKCdtYXhDb3VudCcpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwbG9hZExpbWl0LmVtaXQodGhpcy5maWxlTGlzdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hZGRJdGVtRmFpbGVkLmVtaXQoe2ZpbGUsIHZhbGlkUmVzdWx0c30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy51cGxvYWRDb25maWcub25BZGRJdGVtU3VjY2VzcyA9IChmaWxlSXRlbTogVGlGaWxlSXRlbSk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFkZFByZXZpZXdMaXN0KGZpbGVJdGVtKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRJdGVtU3VjY2Vzcy5lbWl0KGZpbGVJdGVtKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMudXBsb2FkQ29uZmlnLm9uU3VjY2Vzc0l0ZW1zID0gKGZpbGVJdGVtczogQXJyYXk8VGlGaWxlSXRlbT4sIHJlc3BvbnNlOiBzdHJpbmcsIHN0YXR1czogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJldmlld0luZm8oZmlsZUl0ZW1zWzBdKTtcclxuICAgICAgICAgICAgdGhpcy5zdWNjZXNzSXRlbXMuZW1pdCh7ZmlsZUl0ZW1zLCByZXNwb25zZSwgc3RhdHVzfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnVwbG9hZENvbmZpZy5vblJlbW92ZUl0ZW1zID0gKGZpbGVJdGVtczogQXJyYXk8VGlGaWxlSXRlbT4pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVQcmV2aWV3TGlzdChmaWxlSXRlbXNbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUl0ZW1zLmVtaXQoZmlsZUl0ZW1zKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6K6+572u6L+H5ruk5p2h5Lu2XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2V0RmlsdGVycygpOiB2b2lkIHtcclxuICAgICAgICBsZXQgdXBsb2FkRmlsdGVyczogQXJyYXk8VGlGaWx0ZXI+ID0gdGhpcy5maWx0ZXJzIHx8IFtdO1xyXG4gICAgICAgIGlmICgodHlwZW9mIHRoaXMubWF4Q291bnQgPT09ICdudW1iZXInKSAmJiB0aGlzLm1heENvdW50ID4gMCkge1xyXG4gICAgICAgICAgICB1cGxvYWRGaWx0ZXJzID0gdXBsb2FkRmlsdGVycy5jb25jYXQoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ21heENvdW50JyxcclxuICAgICAgICAgICAgICAgIHBhcmFtczogW3RoaXMubWF4Q291bnRdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVwbG9hZENvbmZpZy5maWx0ZXJzID0gdXBsb2FkRmlsdGVycztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOa3u+WKoOaWh+S7tuaIkOWKn+WQju+8jOWinuWKoOS4gOS4qumihOiniOWvueixoVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFkZFByZXZpZXdMaXN0KGZpbGVJdGVtOiBUaUZpbGVJdGVtKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgaW1nSW5mb0l0ZW06IFRpRmlsZVByZXZpZXdJbmZvID0ge1xyXG4gICAgICAgICAgICBpbWdGaWxlSXRlbTogZmlsZUl0ZW0sXHJcbiAgICAgICAgICAgIG5hbWU6IGZpbGVJdGVtLl9maWxlLm5hbWUsXHJcbiAgICAgICAgICAgIHByZXZpZXdVcmw6ICcnLFxyXG4gICAgICAgICAgICBpc0ltYWdlOiBmYWxzZVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmZpbGVMaXN0LnB1c2goaW1nSW5mb0l0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yig6Zmk5pe277yM5bCG5paH5Lu25L+h5oGv5LuO6aKE6KeI5YiX6KGo5Lit56e76ZmkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVtb3ZlUHJldmlld0xpc3QoZmlsZUl0ZW06IFRpRmlsZUl0ZW0pOiB2b2lkIHtcclxuICAgICAgICAvLyDojrflj5bpnIDopoHliKDpmaTnmoTmlbDmja7nmoTntKLlvJVcclxuICAgICAgICBjb25zdCBkZWxldGVJbmRleDogbnVtYmVyID0gdGhpcy5maWxlTGlzdC5maW5kSW5kZXgoKGl0ZW06IFRpRmlsZVByZXZpZXdJbmZvKTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoZmlsZUl0ZW0uX2ZpbGUgPT09IGl0ZW0uaW1nRmlsZUl0ZW0uX2ZpbGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZmlsZUxpc3Quc3BsaWNlKGRlbGV0ZUluZGV4LCAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4iuS8oOaIkOWKn+WQju+8jOabtOaWsOmihOiniOWcsOWdgFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldFByZXZpZXdJbmZvKGZpbGVJdGVtOiBUaUZpbGVJdGVtKTogdm9pZCB7XHJcbiAgICAgICAgLy8g55Sf5oiQ6aKE6KeIdXJsXHJcbiAgICAgICAgY29uc3QgdXJsOiBzdHJpbmcgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlSXRlbS5fZmlsZSk7XHJcbiAgICAgICAgY29uc3QgaXNJbWFnZVByb21pc2U6IFByb21pc2U8Ym9vbGVhbj4gPSB0aGlzLmlzSW1hZ2UoZmlsZUl0ZW0uX2ZpbGUubmFtZSwgdXJsKTtcclxuICAgICAgICBpc0ltYWdlUHJvbWlzZS50aGVuKChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5maWxlTGlzdC5mb3JFYWNoKChpdGVtOiBUaUZpbGVQcmV2aWV3SW5mbyk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uaW1nRmlsZUl0ZW0uX2ZpbGUgPT09IGZpbGVJdGVtLl9maWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5wcmV2aWV3VXJsID0gdXJsO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uaXNJbWFnZSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlIOWcqOW8ueahhuS4remihOiniOS4iuS8oOeahOWbvueJh1xyXG4gICAgICog5Y+C5pWwaTog6KGo56S66KKr54K55Ye75Zu+54mH55qE57Si5byVXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBwcmV2aWV3KGk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHByZXZpZXdMaXN0OiBBcnJheTxUaUZpbGVQcmV2aWV3SW5mbz4gPSBbXTtcclxuICAgICAgICBsZXQgZmlyc3RJbmRleDogbnVtYmVyID0gaTtcclxuICAgICAgICB0aGlzLmZpbGVMaXN0LmZvckVhY2goKGl0ZW06IFRpRmlsZVByZXZpZXdJbmZvLCBpbmRleDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmltZ0ZpbGVJdGVtLmlzU3VjY2VzcyAmJiBpdGVtLmlzSW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIC8vIOS4iuS8oOaIkOWKn+W5tuS4lOaYr+WbvueJh1xyXG4gICAgICAgICAgICAgICAgcHJldmlld0xpc3QucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIOmdnuWbvueJh+aIluS4iuS8oOWksei0pe+8jOW5tuS4lOWcqOiiq+eCueWHu+eahOaWh+S7tuS5i+WJje+8jOesrOS4gOS4qumihOiniOeahOe0ouW8lemcgOimgS0xXHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+PSBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0SW5kZXggLT0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudGlNb2RhbC5vcGVuKFRpSW1hZ2VwcmV2aWV3Q29tcG9uZW50LCB7XHJcbiAgICAgICAgICAgIGlkOiAnaW1hZ2VQcmV2aWV3TW9kYWwnLFxyXG4gICAgICAgICAgICBtb2RhbENsYXNzOiAndGkzLWltYWdlLXByZXZpZXctbW9kYWwnLFxyXG4gICAgICAgICAgICBjb250ZXh0OiB7XHJcbiAgICAgICAgICAgICAgICBpbmRleDogZmlyc3RJbmRleCwgLy8g5b2T5YmN5paH5Lu257Si5byVXHJcbiAgICAgICAgICAgICAgICBmaWxlTGlzdDogcHJldmlld0xpc3QgLy8g6aKE6KeI5YiX6KGoXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIpOaWreaYr+WQpuaYr+WbvueJh+exu+Wei1xyXG4gICAgICog5Y+C5pWwZmlsZU5hbWU6IOaWh+S7tuWQjeensFxyXG4gICAgICog5Y+C5pWwcHJldmlld1VybDog6aKE6KeI5Zyw5Z2AXHJcbiAgICAgKi9cclxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogcHJlZmVyLWZ1bmN0aW9uLW92ZXItbWV0aG9kXHJcbiAgICBwcml2YXRlIGlzSW1hZ2UoZmlsZU5hbWU6IHN0cmluZywgcHJldmlld1VybDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgY29uc3QgdGVtcEFycmF5OiBBcnJheTxzdHJpbmc+ID0gZmlsZU5hbWUuc3BsaXQoJy4nKTtcclxuICAgICAgICBjb25zdCBleHRlbnNpb246IHN0cmluZyA9IHRlbXBBcnJheVt0ZW1wQXJyYXkubGVuZ3RoIC0gMV0udG9Mb2NhbGVMb3dlckNhc2UoKTtcclxuICAgICAgICBjb25zdCBzdXBwb3J0VHlwZXM6IEFycmF5PHN0cmluZz4gPSBbJ2pwZycsICdwbmcnLCAnanBlZycsICdzdmcnLCAnZ2lmJywgJ2JtcCddO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghc3VwcG9ydFR5cGVzLmluY2x1ZGVzKGV4dGVuc2lvbikpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g5rWL6K+V5Zu+54mH6IO95ZCm5Yqg6L295oiQ5Yqf77yM6IO95Yqg6L295oiQ5Yqf77yM5YiZ6K6k5Li65Y+v6aKE6KeI77yb5ZCm5YiZ77yM6K6k5Li65LiN5Y+v6aKE6KeIXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbWc6IGFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgaW1nLnNyYyA9IHByZXZpZXdVcmw7XHJcbiAgICAgICAgICAgICAgICBpbWcub25lcnJvciA9IChldmVudDogYW55KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IChldmVudDogYW55KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZSDnpoHnlKjkuIrkvKDml7bvvIzpmLvmraLpu5jorqTkuovku7bjgIHlgZzmraLlhpLms6FcclxuICAgICAqL1xyXG4gICAgc2VsZWN0RmlsZShldmVudDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOeEpueCuei9rOenu1xyXG4gICAgICAgIHRoaXMudXBsb2FkQnRuLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25LZXlkb3duKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudXBsb2FkSW5wdXRFbGUubmF0aXZlRWxlbWVudC5mb2N1cygpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=