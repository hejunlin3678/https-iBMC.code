import { Component, EventEmitter, Input, Output } from '@angular/core';
import { TiBaseComponent } from '../base/TiBaseModule';
// TODO: 等待规范统一，可能只保留方形tag
// TODO: hover时是否需要高亮，选中是否高亮。增加selectable接口，表示是否可以选中。
// TODO: 禁用时是否显示叉号？规范和tiny2不一致。
// TODO: 禁用时，不发出原生click事件。
/**
 * Tag标签组件，支持显示自定义内容，和删除事件通知。
 *
 * <example-url>../tiny3demo/#/tag/tag-all</example-url>
 */
export class TiTagComponent extends TiBaseComponent {
    constructor() {
        super(...arguments);
        // @Input() data; // 数据，作为唯一标识
        /**
         * @ignore
         * 样式：有方形和箭头形两种样式，后面可能废弃箭头样式
         */
        // @Input() shape: 'rect'|'arrow'  = 'rect';
        /**
         * 是否禁用
         */
        this.disabled = false;
        /**
         * 选中项文本超出时tip展开方向
         *
         * 9.0.3新增
         */
        this.selectedTipPosition = 'auto';
        /**
         * 删除Tag时的通知事件
         */
        this.delete = new EventEmitter();
    }
    /**
     * @ignore
     * @param $event
     */
    onClickDelete($event) {
        if (this.disabled) {
            return;
        }
        $event.stopPropagation(); // 阻止冒泡，阻止了Tag整体的onClick事件，也阻止Tag之外接收到Click。
        this.delete.emit();
    }
    /**
     * 删除Tag标签element
     */
    remove() {
        this.renderer.removeChild(this.renderer.parentNode(this.nativeElement), this.nativeElement);
    }
}
TiTagComponent.decorators = [
    { type: Component, args: [{
                selector: 'ti-tag',
                template: "<!--\u5DE6\u53F3\u4E24\u4E2Adiv\u662Fabsolute\uFF0C\u8131\u79BB\u6587\u6863\u6D41\uFF0C\u6302\u5728\u7236\u5BB9\u5668\u4E4B\u5916\u7684\u3002ti-overflow\u72EC\u5360\u4E00\u884C-->\r\n<!-- <ng-container *ngIf=\"shape ==='arrow'\">\r\n        <div class=\"ti3-tag-selected-triangle\"></div>\r\n        <div tiOverflow><ng-content></ng-content></div>\r\n        <div *ngIf=\"!disabled\" class=\"ti3-tag-clear ti3-icon ti3-icon-close\" (click)=\"onClickDelete($event)\" [id]=\"appendId('_tag')\">\r\n        </div>\r\n</ng-container>\r\n<ng-container *ngIf=\"shape ==='rect'\"> -->\r\n        <section #content class=\"ti3-box-cell-key\" [id]=\"appendId('content')\" [title]=\"content.textContent\"><ng-content></ng-content></section>\r\n        <section class=\"ti3-icon ti3-icon-clear ti3-icon-close-staic\" (click)=\"onClickDelete($event)\" [id]=\"appendId('closeicon')\"></section>\r\n<!-- </ng-container> -->\r\n",
                host: {
                    '[class.ti3-multiselect-box-cell]': 'true',
                    '[class.ti3-multiselect-option-disabled]': 'disabled',
                    '[style.maxWidth]': 'maxWidth'
                }
                // styleUrls: ['./tag-rect.less', './tag-arrow.less'],
                // host: {
                //       '[class.ti3-tag-container]': 'shape ==="arrow"',
                //       '[class.ti3-multiselect-box-cell]': 'shape ==="rect"',
                //       '[class.ti3-multiselect-option-disabled]': 'shape ==="rect"&&disabled'
                // }
                ,
                styles: ["::ng-deep :root{--ti-tag-box-cell-space:1px;--ti-tag-icon-area-width:32px}:host.ti3-multiselect-box-cell{background-color:var(--ti-tag-bg-color);border-radius:var(--ti-common-border-radius-normal);box-sizing:border-box;color:var(--ti-tag-text-color);display:inline-block;float:left;height:calc(var(--ti-input-height) - 6px);line-height:calc(var(--ti-input-height) - 6px);margin:var(--ti-tag-box-cell-space);max-width:calc(100% - var(--ti-tag-box-cell-space)*2);overflow:hidden;width:auto}:host.ti3-multiselect-box-cell:after{content:\"\";display:block;overflow:hidden}:host.ti3-multiselect-box-cell .ti3-box-cell-key{box-sizing:border-box;float:left;margin-left:var(--ti-common-space-10);margin-right:var(--ti-common-space-6);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:calc(100% - var(--ti-tag-icon-area-width) - var(--ti-common-space-6) - var(--ti-common-space-10))}:host.ti3-multiselect-box-cell .ti3-box-cell-key:hover{color:var(--ti-tag-text-color-hover)}:host.ti3-multiselect-box-cell .ti3-icon-close-staic{box-sizing:border-box;color:var(--ti-tag-icon-color);float:left;height:100%;text-align:center;width:var(--ti-tag-icon-area-width)}:host.ti3-multiselect-box-cell .ti3-icon-close-staic:hover{color:var(--ti-tag-icon-color-hover)}:host.ti3-multiselect-box-cell.ti3-multiselect-option-disabled{background-color:var(--ti-tag-bg-color-disabled);color:var(--ti-tag-text-color-disabled);cursor:not-allowed}:host.ti3-multiselect-box-cell.ti3-multiselect-option-disabled .ti3-box-cell-key{color:var(--ti-tag-text-color-disabled)}:host.ti3-multiselect-box-cell.ti3-multiselect-option-disabled .ti3-icon-close-staic{color:var(--ti-tag-icon-color-disabled)}"]
            },] }
];
TiTagComponent.propDecorators = {
    disabled: [{ type: Input }],
    selectedTipPosition: [{ type: Input }],
    maxWidth: [{ type: Input }],
    delete: [{ type: Output }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGlUYWdDb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9AY2xvdWQvdGlueTMvY29tcG9uZW50cy90YWcvVGlUYWdDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN2RSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFFdkQsMEJBQTBCO0FBQzFCLHFEQUFxRDtBQUNyRCwrQkFBK0I7QUFDL0IsMEJBQTBCO0FBQzFCOzs7O0dBSUc7QUFpQkgsTUFBTSxPQUFPLGNBQWUsU0FBUSxlQUFlO0lBaEJuRDs7UUFpQk0sOEJBQThCO1FBQzlCOzs7V0FHRztRQUNILDRDQUE0QztRQUM1Qzs7V0FFRztRQUNNLGFBQVEsR0FBWSxLQUFLLENBQUM7UUFDbkM7Ozs7V0FJRztRQUNNLHdCQUFtQixHQUFtQixNQUFNLENBQUM7UUFNdEQ7O1dBRUc7UUFDZ0IsV0FBTSxHQUFzQixJQUFJLFlBQVksRUFBTyxDQUFDO0lBa0I3RSxDQUFDO0lBakJLOzs7T0FHRztJQUNJLGFBQWEsQ0FBQyxNQUFrQjtRQUNqQyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDYixPQUFPO1NBQ1o7UUFDRCxNQUFNLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQyw0Q0FBNEM7UUFDdEUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBQ0Q7O09BRUc7SUFDSSxNQUFNO1FBQ1AsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUNsRyxDQUFDOzs7WUExRE4sU0FBUyxTQUFDO2dCQUNMLFFBQVEsRUFBRSxRQUFRO2dCQUNsQiw2NUJBQXlCO2dCQUV6QixJQUFJLEVBQUU7b0JBQ0Esa0NBQWtDLEVBQUUsTUFBTTtvQkFDMUMseUNBQXlDLEVBQUUsVUFBVTtvQkFDckQsa0JBQWtCLEVBQUUsVUFBVTtpQkFDbkM7Z0JBQ0Qsc0RBQXNEO2dCQUN0RCxVQUFVO2dCQUNWLHlEQUF5RDtnQkFDekQsK0RBQStEO2dCQUMvRCwrRUFBK0U7Z0JBQy9FLElBQUk7OzthQUNUOzs7dUJBV00sS0FBSztrQ0FNTCxLQUFLO3VCQUtMLEtBQUs7cUJBSUwsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRpQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UvVGlCYXNlTW9kdWxlJztcclxuaW1wb3J0IHsgVGlQb3NpdGlvblR5cGUgfSBmcm9tICcuLi8uLi91dGlscy9Qb3NpdGlvbic7XHJcbi8vIFRPRE86IOetieW+heinhOiMg+e7n+S4gO+8jOWPr+iDveWPquS/neeVmeaWueW9onRhZ1xyXG4vLyBUT0RPOiBob3ZlcuaXtuaYr+WQpumcgOimgemrmOS6ru+8jOmAieS4reaYr+WQpumrmOS6ruOAguWinuWKoHNlbGVjdGFibGXmjqXlj6PvvIzooajnpLrmmK/lkKblj6/ku6XpgInkuK3jgIJcclxuLy8gVE9ETzog56aB55So5pe25piv5ZCm5pi+56S65Y+J5Y+377yf6KeE6IyD5ZKMdGlueTLkuI3kuIDoh7TjgIJcclxuLy8gVE9ETzog56aB55So5pe277yM5LiN5Y+R5Ye65Y6f55SfY2xpY2vkuovku7bjgIJcclxuLyoqXHJcbiAqIFRhZ+agh+etvue7hOS7tu+8jOaUr+aMgeaYvuekuuiHquWumuS5ieWGheWuue+8jOWSjOWIoOmZpOS6i+S7tumAmuefpeOAglxyXG4gKlxyXG4gKiA8ZXhhbXBsZS11cmw+Li4vdGlueTNkZW1vLyMvdGFnL3RhZy1hbGw8L2V4YW1wbGUtdXJsPlxyXG4gKi9cclxuQENvbXBvbmVudCh7XHJcbiAgICAgIHNlbGVjdG9yOiAndGktdGFnJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RhZy5odG1sJyxcclxuICAgICAgc3R5bGVVcmxzOiBbJy4vdGFnLXJlY3QubGVzcyddLFxyXG4gICAgICBob3N0OiB7XHJcbiAgICAgICAgICAgICdbY2xhc3MudGkzLW11bHRpc2VsZWN0LWJveC1jZWxsXSc6ICd0cnVlJyxcclxuICAgICAgICAgICAgJ1tjbGFzcy50aTMtbXVsdGlzZWxlY3Qtb3B0aW9uLWRpc2FibGVkXSc6ICdkaXNhYmxlZCcsXHJcbiAgICAgICAgICAgICdbc3R5bGUubWF4V2lkdGhdJzogJ21heFdpZHRoJ1xyXG4gICAgICB9XHJcbiAgICAgIC8vIHN0eWxlVXJsczogWycuL3RhZy1yZWN0Lmxlc3MnLCAnLi90YWctYXJyb3cubGVzcyddLFxyXG4gICAgICAvLyBob3N0OiB7XHJcbiAgICAgIC8vICAgICAgICdbY2xhc3MudGkzLXRhZy1jb250YWluZXJdJzogJ3NoYXBlID09PVwiYXJyb3dcIicsXHJcbiAgICAgIC8vICAgICAgICdbY2xhc3MudGkzLW11bHRpc2VsZWN0LWJveC1jZWxsXSc6ICdzaGFwZSA9PT1cInJlY3RcIicsXHJcbiAgICAgIC8vICAgICAgICdbY2xhc3MudGkzLW11bHRpc2VsZWN0LW9wdGlvbi1kaXNhYmxlZF0nOiAnc2hhcGUgPT09XCJyZWN0XCImJmRpc2FibGVkJ1xyXG4gICAgICAvLyB9XHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBUaVRhZ0NvbXBvbmVudCBleHRlbmRzIFRpQmFzZUNvbXBvbmVudCB7XHJcbiAgICAgIC8vIEBJbnB1dCgpIGRhdGE7IC8vIOaVsOaNru+8jOS9nOS4uuWUr+S4gOagh+ivhlxyXG4gICAgICAvKipcclxuICAgICAgICogQGlnbm9yZVxyXG4gICAgICAgKiDmoLflvI/vvJrmnInmlrnlvaLlkoznrq3lpLTlvaLkuKTnp43moLflvI/vvIzlkI7pnaLlj6/og73lup/lvIPnrq3lpLTmoLflvI9cclxuICAgICAgICovXHJcbiAgICAgIC8vIEBJbnB1dCgpIHNoYXBlOiAncmVjdCd8J2Fycm93JyAgPSAncmVjdCc7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiDmmK/lkKbnpoHnlKhcclxuICAgICAgICovXHJcbiAgICAgIEBJbnB1dCgpIGRpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiDpgInkuK3pobnmlofmnKzotoXlh7rml7Z0aXDlsZXlvIDmlrnlkJFcclxuICAgICAgICpcclxuICAgICAgICogOS4wLjPmlrDlop5cclxuICAgICAgICovXHJcbiAgICAgIEBJbnB1dCgpIHNlbGVjdGVkVGlwUG9zaXRpb246IFRpUG9zaXRpb25UeXBlID0gJ2F1dG8nO1xyXG4gICAgICAvKipcclxuICAgICAgICogQGlnbm9yZVxyXG4gICAgICAgKiDmnIDlpKflrr3luqbvvIxUcFNlYXJjaGJveCDkvb/nlKhcclxuICAgICAgICovXHJcbiAgICAgIEBJbnB1dCgpIG1heFdpZHRoOiBzdHJpbmc7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiDliKDpmaRUYWfml7bnmoTpgJrnn6Xkuovku7ZcclxuICAgICAgICovXHJcbiAgICAgIEBPdXRwdXQoKSByZWFkb25seSBkZWxldGU6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAaWdub3JlXHJcbiAgICAgICAqIEBwYXJhbSAkZXZlbnRcclxuICAgICAgICovXHJcbiAgICAgIHB1YmxpYyBvbkNsaWNrRGVsZXRlKCRldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyAvLyDpmLvmraLlhpLms6HvvIzpmLvmraLkuoZUYWfmlbTkvZPnmoRvbkNsaWNr5LqL5Lu277yM5Lmf6Zi75q2iVGFn5LmL5aSW5o6l5pS25YiwQ2xpY2vjgIJcclxuICAgICAgICAgICAgdGhpcy5kZWxldGUuZW1pdCgpO1xyXG4gICAgICB9XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiDliKDpmaRUYWfmoIfnrb5lbGVtZW50XHJcbiAgICAgICAqL1xyXG4gICAgICBwdWJsaWMgcmVtb3ZlKCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNoaWxkKHRoaXMucmVuZGVyZXIucGFyZW50Tm9kZSh0aGlzLm5hdGl2ZUVsZW1lbnQpLCB0aGlzLm5hdGl2ZUVsZW1lbnQpO1xyXG4gICAgICB9XHJcbn1cclxuIl19