/* eslint-disable no-param-reassign */
import { Component, ElementRef, EventEmitter, HostListener, Input, NgZone, Output, QueryList, Renderer2, ViewChild, ViewChildren, Inject } from '@angular/core';
import { DOCUMENT } from '@angular/common';
import { TiDateUtil, TiKeymap, Util } from '../../utils/Util';
import { TiLocale } from '../../locale/TiLocaleModule';
import { TiFormComponent } from '../base/TiBaseModule';
import { TiDateDominatorComponent } from '../datedominator/TiDateDominatorModule';
import { TiDropComponent } from '../drop/TiDropModule';
import { TiDateEditComponent } from '../dateedit/TiDateEditModule';
import { TiButtonComponent } from '../button/TiButtonModule';
import { TiTextComponent } from '../text/TiTextModule';
// lib编译要求@Component
export class TiDateBaseComponent extends TiFormComponent {
    constructor(hostRef, render, zone, document) {
        super(hostRef, render);
        this.hostRef = hostRef;
        this.render = render;
        this.zone = zone;
        this.document = document;
        /**
         * 设置最小值
         */
        this.min = TiDateUtil.minDate();
        /**
         * 设置最大值
         */
        this.max = TiDateUtil.maxDate();
        /**
         * 控制时间日期类组件是否展示清除日期图标（默认显示）
         */
        this.clearIcon = true;
        /**
         * 面板对齐方式
         */
        this.panelAlign = 'left';
        /**
         * 开始值固定不可选
         */
        this.isBeginFixed = false;
        /**
         * 结束值固定不可选
         */
        this.isEndFixed = false;
        /**
         * 此接口只适用于dateRange组件，是否允许结束日期和开始日期为同一天
         */
        this.isAllowBeginEqualEnd = true;
        /**
         * （date组件无该接口）点击时间日期面板上的确认按钮触发的事件
         */
        this.okClick = new EventEmitter();
        /**
         * 点击日期面板上的日期触发的事件
         */
        this.dayClick = new EventEmitter();
        this.localeWords = TiLocale.getLocaleWords();
        /**
         * @ignore
         * 标志是时间选择面板还是日期选择面板
         */
        this.selectTime = false;
        /**
         * @ignore
         * 对应每个时间日期组件的最大最小值的配置
         */
        this.config = {
            min: TiDateUtil.minDate(),
            max: TiDateUtil.maxDate()
        };
        /**
         * @ignore
         * model默认值
         */
        this.defaultValue = {
            begin: null,
            end: null
        };
        /**
         * @ignore
         * 模板初始化
         */
        this.datePanel = {
            value: this.defaultValue
        };
        /**
         * @ignore
         * date/datetime 面板宽度
         */
        this.datePanelWidth = '286px';
        /**
         * @ignore
         * daterange/datetimerange 面板宽度
         */
        this.daterangePanelWidth = '558px';
        /**
         * @ignore
         * 日期显示字符串
         */
        this.inputValue = '';
        /**
         * @ignore
         * 模板中使用
         */
        this.browserSpace = TiDateBaseComponent.BROWSER_SPACE + 'px';
        /**
         * @ignore 面板与dominator的距离
         */
        this.dominatorSpace = TiDateBaseComponent.DOMINATOR_SPACE + 'px';
        /**
         * @ignore
         * 记录当前面板内部编辑区域焦点位置
         */
        this.focusedPosition = 'begin';
        /**
         * @ignore
         * 时间编辑框placehoder
         */
        this.timeplaceholder = 'hh:mm:ss';
        /**
         * @ignore
         * 标志是否存在左侧自定义时间区域
         */
        this.hasCustomizeTime = false;
        /**
         * @ignore
         * 可聚焦元素集合
         */
        this.focusElementsArr = [];
        this.keydownHandlerFn = (event) => {
            if (!this.dropCom.isShow) {
                return;
            }
            if (event.keyCode === TiKeymap.KEY_ESCAPE) {
                this.hidePanel();
                this.dominatorCom.focus();
            }
            this.tabKeydown(event);
        };
        /**
         * @ignore
         * 决定上下位置的函数
         */
        this.determinPositionFn = (layout) => {
            const needHeight = layout.targetLayout.height + TiDateBaseComponent.DOMINATOR_SPACE + TiDateBaseComponent.BROWSER_SPACE;
            if (layout.avilableLayout.bottom >= needHeight) { // 下方空间足够，向下展开
                return this.panelAlign === 'left' ? 'bottom-left' : 'bottom-right';
            }
            else {
                return this.panelAlign === 'left' ? 'top-left' : 'top-right';
            }
        };
    }
    static getFocusElements(focusComs, focusElements) {
        for (const focusCom of focusComs.toArray()) {
            focusElements = focusElements.concat(focusCom.getFocusableElems());
        }
        return focusElements;
    }
    /**
     * 组件快捷键处理tab键 enter键
     */
    onKeydown(event) {
        switch (event.keyCode) {
            case TiKeymap.KEY_TAB: // TAB键
                this.hidePanel();
                break;
            case TiKeymap.KEY_ENTER: // ENTER键(大键盘)
            case TiKeymap.KEY_NUMPAD_ENTER: // ENTER键(数字小键盘)
                this.responseEnter();
                break;
            default:
                break;
        }
    }
    /**
     * @ignore
     * writeValue区分是不是range组件：
     */
    writeValue(value) {
        super.writeValue(value);
        // 1.daterange和datetimerange组件的处理
        // 新旧值判断处理放在docheck中
        if (this.isRange) {
            // value不是对象时，将value设置为null，输入框中显示空白
            if (!(value instanceof Object) || !this.isValidValue(value)) {
                this.model = null;
                return;
            }
        }
        // 2.date和datetime组件的处理，非法时间日期值统一置为null，显示空
        if (!this.isValidValue(value)) {
            this.model = null;
            return;
        }
        // 新旧值相同时不作处理；
        if (TiDateUtil.isDateEqual(value, this.model)) {
            return;
        }
    }
    // tslint:disable-next-line:use-life-cycle-interface
    ngOnInit() {
        super.ngOnInit();
        // 是否存在左侧自定义面板
        this.hasCustomizeTime = !Util.isUndefined(this.customizeOptions) && !Util.isNull(this.customizeOptions);
        // format接口校验:对时间日期进行国际化处理
        this.validateFormat(this.isDatetime);
        // 最大最小值校验
        this.validateMinAndMax(this.config, this.isDatetime);
        this.zone.runOutsideAngular(() => {
            // document上的Ecs快捷键功能
            this.documentKeydownListener = this.render.listen(this.document, 'keydown', this.keydownHandlerFn);
        });
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
        // 定义变量存储聚焦元素；
        let focusElements = [];
        // 获取dateedit的聚焦元素
        focusElements = TiDateBaseComponent.getFocusElements(this.dateEditComs, focusElements);
        // 获取时间编辑框聚焦元素
        if (this.textComs.length !== 0) {
            for (const textCom of this.textComs.toArray()) {
                focusElements = focusElements.concat(textCom.nativeElement);
            }
        }
        if (this.inputRef) {
            focusElements = focusElements.concat(this.inputRef.nativeElement);
        }
        // 获取确认取消按钮的聚焦元素
        for (const buttonCom of this.buttonComs.toArray()) {
            focusElements = focusElements.concat(buttonCom.nativeElement);
        }
        this.focusElementsArr = focusElements;
        this.setFocusableElems([this.dominatorCom.nativeElement]
            .concat(this.dropCom.nativeElement)
            .concat(focusElements));
    }
    ngOnDestroy() {
        super.ngOnDestroy();
        if (this.documentKeydownListener) {
            this.documentKeydownListener();
        }
    }
    /**
     * 实现按tab键时，focus在下拉面板中循环
     */
    tabKeydown(event) {
        if (this.focusElementsArr.length === 0) {
            return;
        }
        let focusChanged = false;
        if (event.keyCode === TiKeymap.KEY_TAB) {
            const panelFocusElementsArr = this.focusElementsArr.filter((item) => !item.hasAttribute('disabled'));
            if (event.shiftKey) {
                if (event.target === panelFocusElementsArr[0]) {
                    focusChanged = true;
                    panelFocusElementsArr[panelFocusElementsArr.length - 1].focus();
                }
            }
            else if (event.target === panelFocusElementsArr[panelFocusElementsArr.length - 1]) {
                focusChanged = true;
                panelFocusElementsArr[0].focus();
            }
        }
        if (focusChanged) {
            event.preventDefault();
            event.stopPropagation();
        }
    }
    // ----------------------------- 公共事件处理 -----------------------------
    /**
     * @ignore
     * 点击面板展开收起函数
     */
    onShowClick() {
        if (this.disabled) { // 非灰化可点击展开面板
            return;
        }
        if (this.dropCom.isShow || this.isClearClick) {
            this.isClearClick = false;
            this.dropCom.hide();
        }
        else {
            // 配置时间日期面板接口
            this.setPickerDate();
            this.show();
            this.selectTime = false; // 面板打开初次总展示日期面板
            setTimeout(() => {
                if (this.isBeginFixed && !this.isEndFixed) {
                    this.dateEditComs.last.focus(); // 开始值固定，则第二个编辑区域聚焦
                    this.focusedPosition = 'end';
                }
                else {
                    this.dateEditComs.first.focus(); // 初始化打开面板，第一个编辑区域聚焦
                    this.focusedPosition = 'begin';
                }
            }, 0);
        }
    }
    /**
     * @ignore
     * 左侧自定义时间文本点击事件
     */
    customizeTimeClickFn(val) {
        this.model = val;
        this.dropCom.hide();
    }
    /**
     * @ignore
     * 点击选择时间，根据初始传入值设定下拉选择项
     */
    selectTimeFn() {
        if (this.timeEditDisabled) {
            return;
        }
        this.selectTime = true; // 切换为时间选择面板
        this.textComs.first.nativeElement.focus();
    }
    /**
     * @ignore
     */
    selectDateFn() {
        this.selectTime = false;
        this.dateEditComs.first.nativeElement.focus();
        this.focusedPosition = 'begin';
    }
    /**
     * @ignore
     */
    dateEditClick(val) {
        if (this.isBeginFixed || this.isEndFixed) {
            return;
        }
        this.focusedPosition = val;
        this.selectTime = false;
    }
    /**
     * @ignore
     */
    dateEditFocus(val) {
        this.focusedPosition = val;
        this.selectTime = false;
    }
    /**
     * @ignore
     * 时间框聚焦
     */
    timeFocus(val) {
        this.selectTime = true;
        this.focusedPosition = val === 'begin' ? 'beginTime' : 'endTime';
    }
    /**
     * @ignore
     */
    setTimeFn(obj, beginTime, endTime) {
        const timePosition = obj.timeOption;
        const beginTimeArr = beginTime.value.split(':');
        let endTimeArr;
        if (!Util.isUndefined(endTime)) {
            endTimeArr = endTime.value.split(':');
        }
        switch (timePosition) {
            case 'beginHour':
                beginTimeArr[0] = obj.val.label;
                break;
            case 'beginMinute':
                beginTimeArr[1] = obj.val.label;
                break;
            case 'beginSecond':
                beginTimeArr[2] = obj.val.label;
                break;
            case 'endHour':
                endTimeArr[0] = obj.val.label;
                break;
            case 'endMinute':
                endTimeArr[1] = obj.val.label;
                break;
            case 'endSecond':
                endTimeArr[2] = obj.val.label;
                break;
            default:
                break;
        }
        beginTime.value = beginTimeArr.join(':');
        if (!Util.isUndefined(endTime)) {
            endTime.value = endTimeArr.join(':');
        }
    }
    /**
     * @ignore
     * 点击删除按钮
     */
    onIconClearClick(event) {
        // 阻止事件冒泡：可以防止点击叉号引起面板的显示或者隐藏，但此处不能阻止事件冒泡，
        // 事件不会冒泡到document上，会出现页面上其他下拉类组件面板不收起情况
        // 添加标志量，在onShowClick函数中处理
        if (this.disabled || !this.clearIcon) {
            return;
        }
        this.isClearClick = true;
        this.model = null;
        this.oldBeginValue = null;
        this.oldEndValue = null;
        this.inputValue = '';
        // 时间日期面板显示则隐藏
        this.hidePanel();
    }
    /**
     * @ignore
     * 隐藏drop, 适用于drop中用户点击引起drop隐藏，阻止了整体失焦。
     */
    hideDrop() {
        // 阻止整体失去焦点
        this.dominatorCom.focus();
        this.dropCom.hide();
    }
    /**
     * @ignore
     * 隐藏面板
     */
    hidePanel() {
        if (this.dropCom.isShow) {
            this.dropCom.hide();
        }
    }
    /**
     * @ignore
     * enter键的功能：如果面板展开不处理，面板收起则展开，设置datePanel指令的接口值
     */
    responseEnter() {
        if (this.dropCom.isShow) {
            return;
        }
        // 面板收起前是年或月面板，按enter键重新设置datePanel指令的接口值
        this.setPickerDate();
        // 时间面板展开
        this.show();
        setTimeout(() => {
            this.dateEditComs.first.nativeElement.focus();
            this.focusedPosition = 'begin';
        }, 0);
    }
    /**
     * @ignore
     *
     * 设置按钮禁用场景下 过度input的样式（适配tab快捷键场景）
     */
    setInputStyle(val) {
        if (val) {
            this.render.removeStyle(this.inputRef.nativeElement, 'display');
            this.render.setStyle(this.inputRef.nativeElement, 'opacity', '0');
        }
        else {
            this.render.setStyle(this.inputRef.nativeElement, 'display', 'none');
        }
    }
    // ----------------------------- 公共方法处理 -----------------------------
    /**
     * @ignore
     * 判断是不是合法的DatetimeFormat: format为对象 {date:'', time: ''}
     */
    isValidDatetimeFormat() {
        return (this.format instanceof Object) && Util.isString(this.format['date']) && Util.isString(this.format['time']);
    }
    /**
     * @ignore
     * 最大值最小值校验:和date组件不同，此处不需要做最大最小时分秒处理
     */
    validateMinAndMax(dateCofig, isDatetime) {
        const maxChanged = isDatetime ? this.max : TiDateUtil.changeMaxTime(this.max);
        this.max = TiDateUtil.isDate(this.max) ? maxChanged : dateCofig.max;
        const minChanged = isDatetime ? this.min : TiDateUtil.changeMinTime(this.min);
        this.min = TiDateUtil.isDate(this.min) ? minChanged : dateCofig.min;
        // 最大最小值矛盾时，设置为默认值
        if (this.max.getTime() < this.min.getTime()) {
            this.max = dateCofig.max;
            this.min = dateCofig.min;
        }
    }
    /**
     * @ignore
     * 校验format接口
     */
    validateFormat(isDatetime) {
        if (isDatetime) {
            this.validateDatetimeFormat();
        }
        else {
            this.validateDateFormat();
        }
    }
    /**
     * @ignore
     * 校验format: string类型，
     */
    validateDateFormat() {
        if (Util.isString(this.format)) {
            return;
        }
        // TODO:如果配置时间日期国际化
        this.format = this.localeWords.tiLocaleDate['date'];
    }
    /**
     * @ignore
     * 校验format: 对象类型{date:'', time:''}
     */
    validateDatetimeFormat() {
        // TODO:初始化为ngLocale格式
        // 用户设置format不是一个对象，设置为国际配置的format或默认值
        if (!(this.format instanceof Object)) {
            this.format = {
                date: this.localeWords.tiLocaleDate['date'],
                time: this.localeWords.tiLocaleDate['time']
            };
            return;
        }
        // format 为联合类型:此处处理DatetimeFormat类型
        this.format = this.format;
        // 日期格式校验
        if (!Util.isString(this.format.date)) {
            this.format.date = this.localeWords.tiLocaleDate['date'];
        }
        // 日期格式校验
        if (!Util.isString(this.format.time)) {
            this.format.time = this.localeWords.tiLocaleDate['time'];
        }
    }
    /**
     * @ignore
     * 判断range类型的model是否变化：比较起始时间和结束时间
     */
    rangeValueIsEqual(newValue, oldValue, isDatetime) {
        if (newValue === oldValue) {
            return true;
        }
        if ((newValue instanceof Object) && (oldValue instanceof Object)) {
            if (isDatetime) {
                return (TiDateUtil.isDatetimeEqual(newValue['begin'], oldValue['begin']) &&
                    TiDateUtil.isDatetimeEqual(newValue['end'], oldValue['end']));
            }
            else {
                return (TiDateUtil.isDateEqual(newValue['begin'], oldValue['begin']) &&
                    TiDateUtil.isDateEqual(newValue['end'], oldValue['end']));
            }
        }
        return false;
    }
    // ----------------------------- 动态监听处理 -----------------------------
    /**
     * @ignore
     * model值动态变更：支持仅修改begin或end值
     */
    setModel(isDatetime) {
        if (this.rangeValueIsEqual(this.model, this.oldModel, isDatetime)) {
            return;
        }
        // model中begin或者end值的变更
        this.formatValue();
        // 通过按钮改变model值：当面板处于打开状态时需要重新设置面板接口
        if (this.dropCom.isShow) {
            this.setPickerDate();
        }
        this.oldModel = (this.model === null) ? null : {
            begin: this.model.begin,
            end: this.model.end
        };
    }
    /**
     * @ignore
     * datetime与datetimeRange组件format动态变更
     */
    setFormat() {
        if (this.format && this.format['date'] === this.oldFormat['date'] &&
            this.format['time'] === this.oldFormat['time']) {
            return;
        }
        if (!this.isValidDatetimeFormat()) {
            this.format = this.oldFormat;
            return;
        }
        this.formatValue();
        this.oldFormat = this.format;
    }
    show() {
        if (this.renderer.parentNode(this.dropCom.nativeElement) === document.body) {
            this.dropCom.show();
        }
        else {
            // 使用setTimeout是为了保证datepanel渲染完成后再显示，否则首次打开时定位计算不准确
            setTimeout(() => {
                this.dropCom.show();
            }, 0);
        }
    }
    // ----------------------------- 需要在子类中实现 -----------------------------
    /**
     * @ignore
     * 0.判断是不是合法的model
     */
    isValidValue(value) {
        return true;
    }
    /**
     * @ignore
     * 1.配置时间日期面板接口
     */
    setPickerDate() { }
    /**
     * @ignore
     * 2.根据format格式model值
     */
    formatValue() { }
    /**
     * @ignore
     * 3.根据当前值设置确认按钮的状态
     */
    setOkBtnState() { }
    /**
     * @ignore
     * 起始面板日期有变化时，要重新设置其time组件对应最大值 datetimeRange组件中实现此方法
     */
    setBeginTimeMaxValue() { }
    /**
     * @ignore
     * 起始面板日期有变化时，要重新设置其time组件对应最小值 datetimeRange组件中实现此方法
     */
    setBeginTimeMinValue() { }
    /**
     * @ignore
     * 结束日期有变化时，要重新设置其time组件对应最大值 datetimeRange组件中实现此方法
     */
    setEndTimeMaxValue() { }
    /**
     * @ignore
     * 结束日期有变化时，要重新设置其time组件对应最小值 datetimeRange组件中实现此方法
     */
    setEndTimeMinValue() { }
}
/**
 * @ignore
 * 下拉距离选择框0px
 */
TiDateBaseComponent.DOMINATOR_SPACE = -30;
/**
 * 日期/日期时间下拉选择框距离浏览器上下边沿的距离为5px，开发者可在项目中整体配置
 */
TiDateBaseComponent.BROWSER_SPACE = 5;
TiDateBaseComponent.decorators = [
    { type: Component, args: [{
                template: ''
            },] }
];
TiDateBaseComponent.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 },
    { type: NgZone },
    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }
];
TiDateBaseComponent.propDecorators = {
    min: [{ type: Input }],
    max: [{ type: Input }],
    format: [{ type: Input }],
    nowDateTime: [{ type: Input }],
    clearIcon: [{ type: Input }],
    panelAlign: [{ type: Input }],
    customizeOptions: [{ type: Input }],
    disabledDays: [{ type: Input }],
    isBeginFixed: [{ type: Input }],
    isEndFixed: [{ type: Input }],
    isAllowBeginEqualEnd: [{ type: Input }],
    okClick: [{ type: Output }],
    dayClick: [{ type: Output }],
    dominatorCom: [{ type: ViewChild, args: [TiDateDominatorComponent, /* TODO: add static flag */ { static: true },] }],
    dropCom: [{ type: ViewChild, args: [TiDropComponent, /* TODO: add static flag */ { static: true },] }],
    inputRef: [{ type: ViewChild, args: ['input', { static: true },] }],
    dateEditComs: [{ type: ViewChildren, args: [TiDateEditComponent,] }],
    textComs: [{ type: ViewChildren, args: [TiTextComponent,] }],
    buttonComs: [{ type: ViewChildren, args: [TiButtonComponent,] }],
    onKeydown: [{ type: HostListener, args: ['keydown', ['$event'],] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGlEYXRlQmFzZUNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL0BjbG91ZC90aW55My9jb21wb25lbnRzL2RhdGViYXNlL1RpRGF0ZUJhc2VDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLE9BQU8sRUFDSCxTQUFTLEVBQ1QsVUFBVSxFQUNWLFlBQVksRUFDWixZQUFZLEVBQ1osS0FBSyxFQUNMLE1BQU0sRUFDTixNQUFNLEVBQ04sU0FBUyxFQUNULFNBQVMsRUFDVCxTQUFTLEVBQ1QsWUFBWSxFQUNaLE1BQU0sRUFDVCxNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFM0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFFBQVEsRUFBaUIsTUFBTSw2QkFBNkIsQ0FBQztBQUN0RSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDdkQsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sd0NBQXdDLENBQUM7QUFDbEYsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQ25FLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQzdELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQWtHdkQsb0JBQW9CO0FBS3BCLE1BQU0sT0FBTyxtQkFBb0IsU0FBUSxlQUFlO0lBOE5wRCxZQUFzQixPQUFtQixFQUFZLE1BQWlCLEVBQVUsSUFBWSxFQUM5RCxRQUFRO1FBQ2xDLEtBQUssQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFGTCxZQUFPLEdBQVAsT0FBTyxDQUFZO1FBQVksV0FBTSxHQUFOLE1BQU0sQ0FBVztRQUFVLFNBQUksR0FBSixJQUFJLENBQVE7UUFDOUQsYUFBUSxHQUFSLFFBQVEsQ0FBQTtRQXJOdEM7O1dBRUc7UUFDTSxRQUFHLEdBQVMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQzFDOztXQUVHO1FBQ00sUUFBRyxHQUFTLFVBQVUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQWMxQzs7V0FFRztRQUNNLGNBQVMsR0FBWSxJQUFJLENBQUM7UUFDbkM7O1dBRUc7UUFDTSxlQUFVLEdBQXFCLE1BQU0sQ0FBQztRQVMvQzs7V0FFRztRQUNNLGlCQUFZLEdBQVksS0FBSyxDQUFDO1FBQ3ZDOztXQUVHO1FBQ00sZUFBVSxHQUFZLEtBQUssQ0FBQztRQUNyQzs7V0FFRztRQUNNLHlCQUFvQixHQUFZLElBQUksQ0FBQztRQUM5Qzs7V0FFRztRQUNnQixZQUFPLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDbkU7O1dBRUc7UUFDZ0IsYUFBUSxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBaUNuRCxnQkFBVyxHQUFrQixRQUFRLENBQUMsY0FBYyxFQUFFLENBQUM7UUEyQ3hFOzs7V0FHRztRQUNJLGVBQVUsR0FBWSxLQUFLLENBQUM7UUFDbkM7OztXQUdHO1FBQ0ksV0FBTSxHQUEyQjtZQUNwQyxHQUFHLEVBQUUsVUFBVSxDQUFDLE9BQU8sRUFBRTtZQUN6QixHQUFHLEVBQUUsVUFBVSxDQUFDLE9BQU8sRUFBRTtTQUM1QixDQUFDO1FBQ0Y7OztXQUdHO1FBQ0ksaUJBQVksR0FBZ0I7WUFDL0IsS0FBSyxFQUFFLElBQUk7WUFDWCxHQUFHLEVBQUUsSUFBSTtTQUNaLENBQUM7UUFDRjs7O1dBR0c7UUFDSSxjQUFTLEdBQWE7WUFDekIsS0FBSyxFQUFFLElBQUksQ0FBQyxZQUFZO1NBQzNCLENBQUM7UUFFRjs7O1dBR0c7UUFDSSxtQkFBYyxHQUFXLE9BQU8sQ0FBQztRQUN4Qzs7O1dBR0c7UUFDSSx3QkFBbUIsR0FBVyxPQUFPLENBQUM7UUFDN0M7OztXQUdHO1FBQ0ksZUFBVSxHQUFXLEVBQUUsQ0FBQztRQUUvQjs7O1dBR0c7UUFDSSxpQkFBWSxHQUFXLG1CQUFtQixDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7UUFDdkU7O1dBRUc7UUFDSSxtQkFBYyxHQUFXLG1CQUFtQixDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7UUFDM0U7OztXQUdHO1FBQ0ksb0JBQWUsR0FBVyxPQUFPLENBQUM7UUFDekM7OztXQUdHO1FBQ0ksb0JBQWUsR0FBVyxVQUFVLENBQUM7UUFNNUM7OztXQUdHO1FBQ0kscUJBQWdCLEdBQVksS0FBSyxDQUFDO1FBQ3pDOzs7V0FHRztRQUNJLHFCQUFnQixHQUFlLEVBQUUsQ0FBQztRQWtIL0IscUJBQWdCLEdBQUcsQ0FBQyxLQUFvQixFQUFRLEVBQUU7WUFDeEQsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFO2dCQUN0QixPQUFPO2FBQ1Y7WUFDRCxJQUFJLEtBQUssQ0FBQyxPQUFPLEtBQUssUUFBUSxDQUFDLFVBQVUsRUFBRTtnQkFDdkMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUNqQixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO2FBQzdCO1lBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQixDQUFDLENBQUE7UUF3WEQ7OztXQUdHO1FBQ0ksdUJBQWtCLEdBQTRCLENBQUMsTUFBVyxFQUFFLEVBQUU7WUFDakUsTUFBTSxVQUFVLEdBQVcsTUFBTSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsbUJBQW1CLENBQUMsZUFBZSxHQUFHLG1CQUFtQixDQUFDLGFBQWEsQ0FBQztZQUNoSSxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxJQUFJLFVBQVUsRUFBRSxFQUFFLGNBQWM7Z0JBQzVELE9BQU8sSUFBSSxDQUFDLFVBQVUsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDO2FBQ3RFO2lCQUFNO2dCQUNILE9BQU8sSUFBSSxDQUFDLFVBQVUsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDO2FBQ2hFO1FBQ0wsQ0FBQyxDQUFBO0lBemZELENBQUM7SUFFTyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsU0FBYyxFQUFFLGFBQXlCO1FBQ3JFLEtBQUssTUFBTSxRQUFRLElBQUksU0FBUyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ3hDLGFBQWEsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7U0FDdEU7UUFFRCxPQUFPLGFBQWEsQ0FBQztJQUN6QixDQUFDO0lBRUQ7O09BRUc7SUFDeUMsU0FBUyxDQUFDLEtBQW9CO1FBQ3RFLFFBQVEsS0FBSyxDQUFDLE9BQU8sRUFBRTtZQUNuQixLQUFLLFFBQVEsQ0FBQyxPQUFPLEVBQUcsT0FBTztnQkFDM0IsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUNqQixNQUFNO1lBQ1YsS0FBSyxRQUFRLENBQUMsU0FBUyxDQUFFLENBQUMsY0FBYztZQUN4QyxLQUFLLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRyxnQkFBZ0I7Z0JBQzdDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztnQkFDckIsTUFBTTtZQUNWO2dCQUNJLE1BQU07U0FDYjtJQUNMLENBQUM7SUFFRDs7O09BR0c7SUFDSCxVQUFVLENBQUMsS0FBVTtRQUNqQixLQUFLLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hCLGlDQUFpQztRQUNqQyxvQkFBb0I7UUFDcEIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2Qsb0NBQW9DO1lBQ3BDLElBQUksQ0FBQyxDQUFDLEtBQUssWUFBWSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ3pELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO2dCQUVsQixPQUFPO2FBQ1Y7U0FDSjtRQUVELDJDQUEyQztRQUMzQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUMzQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztZQUVsQixPQUFPO1NBQ1Y7UUFFRCxjQUFjO1FBQ2QsSUFBSSxVQUFVLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDM0MsT0FBTztTQUNWO0lBQ0wsQ0FBQztJQUVELG9EQUFvRDtJQUNwRCxRQUFRO1FBQ0osS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2pCLGNBQWM7UUFDZCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUN4RywwQkFBMEI7UUFDMUIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFckMsVUFBVTtRQUNWLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUVyRCxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRTtZQUM3QixxQkFBcUI7WUFDckIsSUFBSSxDQUFDLHVCQUF1QixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3ZHLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELGVBQWU7UUFDWCxLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDeEIsY0FBYztRQUNkLElBQUksYUFBYSxHQUFlLEVBQUUsQ0FBQztRQUVuQyxrQkFBa0I7UUFDbEIsYUFBYSxHQUFHLG1CQUFtQixDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsYUFBYSxDQUFDLENBQUM7UUFDdkYsY0FBYztRQUNkLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQzVCLEtBQUssTUFBTSxPQUFPLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsRUFBRTtnQkFDM0MsYUFBYSxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO2FBQy9EO1NBQ0o7UUFFRCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDZixhQUFhLEdBQUcsYUFBYSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1NBQ3JFO1FBRUQsZ0JBQWdCO1FBQ2hCLEtBQUssTUFBTSxTQUFTLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUMvQyxhQUFhLEdBQUcsYUFBYSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUM7U0FDakU7UUFDRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsYUFBYSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDO2FBQ25ELE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQzthQUNsQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRUQsV0FBVztRQUNQLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQyx1QkFBdUIsRUFBRTtZQUM5QixJQUFJLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztTQUNsQztJQUNMLENBQUM7SUFhRDs7T0FFRztJQUNLLFVBQVUsQ0FBQyxLQUFvQjtRQUNuQyxJQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFHO1lBQ3BDLE9BQU87U0FDVjtRQUNELElBQUksWUFBWSxHQUFZLEtBQUssQ0FBQztRQUNsQyxJQUFJLEtBQUssQ0FBQyxPQUFPLEtBQUssUUFBUSxDQUFDLE9BQU8sRUFBRTtZQUNwQyxNQUFNLHFCQUFxQixHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFTLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1lBQzFHLElBQUksS0FBSyxDQUFDLFFBQVEsRUFBRTtnQkFDaEIsSUFBRyxLQUFLLENBQUMsTUFBTSxLQUFLLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxFQUFFO29CQUMxQyxZQUFZLEdBQUcsSUFBSSxDQUFDO29CQUNwQixxQkFBcUIsQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7aUJBQ25FO2FBQ0o7aUJBQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLHFCQUFxQixDQUFDLHFCQUFxQixDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtnQkFDakYsWUFBWSxHQUFHLElBQUksQ0FBQztnQkFDcEIscUJBQXFCLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7YUFDcEM7U0FDSjtRQUNELElBQUksWUFBWSxFQUFFO1lBQ2QsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3ZCLEtBQUssQ0FBQyxlQUFlLEVBQUUsQ0FBQztTQUMzQjtJQUNMLENBQUM7SUFFRCxxRUFBcUU7SUFDckU7OztPQUdHO0lBQ0ksV0FBVztRQUNkLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLGFBQWE7WUFDOUIsT0FBTztTQUNWO1FBRUQsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQzFDLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1lBQzFCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDdkI7YUFBTTtZQUNILGFBQWE7WUFDYixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDckIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ1osSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsQ0FBQyxnQkFBZ0I7WUFDekMsVUFBVSxDQUFDLEdBQUcsRUFBRTtnQkFDWixJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFO29CQUN2QyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLG1CQUFtQjtvQkFDbkQsSUFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUM7aUJBQ2hDO3FCQUFNO29CQUNILElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsb0JBQW9CO29CQUNyRCxJQUFJLENBQUMsZUFBZSxHQUFHLE9BQU8sQ0FBQztpQkFDbEM7WUFDTCxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDVDtJQUNMLENBQUM7SUFDRDs7O09BR0c7SUFDSSxvQkFBb0IsQ0FBQyxHQUFnQjtRQUN4QyxJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztRQUNqQixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFDRDs7O09BR0c7SUFDSSxZQUFZO1FBQ2YsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDdkIsT0FBTztTQUNWO1FBQ0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsQ0FBQyxZQUFZO1FBQ3BDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUM5QyxDQUFDO0lBQ0Q7O09BRUc7SUFDSSxZQUFZO1FBQ2YsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzlDLElBQUksQ0FBQyxlQUFlLEdBQUcsT0FBTyxDQUFDO0lBQ25DLENBQUM7SUFDRDs7T0FFRztJQUNJLGFBQWEsQ0FBQyxHQUFXO1FBQzVCLElBQUksSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ3RDLE9BQU87U0FDVjtRQUNELElBQUksQ0FBQyxlQUFlLEdBQUcsR0FBRyxDQUFDO1FBQzNCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO0lBQzVCLENBQUM7SUFDRDs7T0FFRztJQUNJLGFBQWEsQ0FBQyxHQUFXO1FBQzVCLElBQUksQ0FBQyxlQUFlLEdBQUcsR0FBRyxDQUFDO1FBQzNCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO0lBQzVCLENBQUM7SUFDRDs7O09BR0c7SUFDSSxTQUFTLENBQUMsR0FBVztRQUN4QixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsZUFBZSxHQUFHLEdBQUcsS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQ3JFLENBQUM7SUFDRDs7T0FFRztJQUNJLFNBQVMsQ0FBQyxHQUFRLEVBQUUsU0FBc0IsRUFBRSxPQUFxQjtRQUNwRSxNQUFNLFlBQVksR0FBVyxHQUFHLENBQUMsVUFBVSxDQUFDO1FBQzVDLE1BQU0sWUFBWSxHQUFRLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JELElBQUksVUFBZSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQzVCLFVBQVUsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN6QztRQUNELFFBQVEsWUFBWSxFQUFFO1lBQ2xCLEtBQUssV0FBVztnQkFDWixZQUFZLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7Z0JBQ2hDLE1BQU07WUFDVixLQUFLLGFBQWE7Z0JBQ2QsWUFBWSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO2dCQUNoQyxNQUFNO1lBQ1YsS0FBSyxhQUFhO2dCQUNkLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztnQkFDaEMsTUFBTTtZQUNWLEtBQUssU0FBUztnQkFDVixVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7Z0JBQzlCLE1BQU07WUFDVixLQUFLLFdBQVc7Z0JBQ1osVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO2dCQUM5QixNQUFNO1lBQ1YsS0FBSyxXQUFXO2dCQUNaLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztnQkFDOUIsTUFBTTtZQUNWO2dCQUNJLE1BQU07U0FDYjtRQUNELFNBQVMsQ0FBQyxLQUFLLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUM1QixPQUFPLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDeEM7SUFDTCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksZ0JBQWdCLENBQUMsS0FBaUI7UUFDckMsMENBQTBDO1FBQzFDLHdDQUF3QztRQUN4QywwQkFBMEI7UUFDMUIsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNsQyxPQUFPO1NBQ1Y7UUFDRCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztRQUMxQixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUN4QixJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNyQixjQUFjO1FBQ2QsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFFRDs7O09BR0c7SUFDSSxRQUFRO1FBQ1gsV0FBVztRQUNYLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBQ0Q7OztPQUdHO0lBQ0ksU0FBUztRQUNaLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUU7WUFDckIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUN2QjtJQUNMLENBQUM7SUFFRDs7O09BR0c7SUFDSSxhQUFhO1FBQ2hCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUU7WUFDckIsT0FBTztTQUNWO1FBRUQseUNBQXlDO1FBQ3pDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUVyQixTQUFTO1FBQ1QsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ1osVUFBVSxDQUFDLEdBQUUsRUFBRTtZQUNYLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUM5QyxJQUFJLENBQUMsZUFBZSxHQUFHLE9BQU8sQ0FBQztRQUNuQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDVixDQUFDO0lBQ0Q7Ozs7T0FJRztJQUNJLGFBQWEsQ0FBQyxHQUFZO1FBQzdCLElBQUcsR0FBRyxFQUFFO1lBQ0osSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDaEUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQ3JFO2FBQU07WUFDSCxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7U0FDeEU7SUFDTCxDQUFDO0lBRUQscUVBQXFFO0lBQ3JFOzs7T0FHRztJQUNJLHFCQUFxQjtRQUN4QixPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sWUFBWSxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUN2SCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksaUJBQWlCLENBQUMsU0FBaUMsRUFBRSxVQUFtQjtRQUMzRSxNQUFNLFVBQVUsR0FBUyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3BGLElBQUksQ0FBQyxHQUFHLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQztRQUVwRSxNQUFNLFVBQVUsR0FBUyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3BGLElBQUksQ0FBQyxHQUFHLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQztRQUVwRSxrQkFBa0I7UUFDbEIsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDekMsSUFBSSxDQUFDLEdBQUcsR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxHQUFHLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQztTQUM1QjtJQUNMLENBQUM7SUFFRDs7O09BR0c7SUFDSSxjQUFjLENBQUMsVUFBbUI7UUFDckMsSUFBSSxVQUFVLEVBQUU7WUFDWixJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztTQUNqQzthQUFNO1lBQ0gsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7U0FDN0I7SUFDTCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksa0JBQWtCO1FBQ3JCLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDNUIsT0FBTztTQUNWO1FBQ0QsbUJBQW1CO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVEOzs7T0FHRztJQUNJLHNCQUFzQjtRQUN6QixzQkFBc0I7UUFDdEIsc0NBQXNDO1FBQ3RDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLFlBQVksTUFBTSxDQUFDLEVBQUU7WUFDbEMsSUFBSSxDQUFDLE1BQU0sR0FBRztnQkFDVixJQUFJLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDO2dCQUMzQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDO2FBQzlDLENBQUM7WUFFRixPQUFPO1NBQ1Y7UUFFRCxvQ0FBb0M7UUFDcEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBMEIsQ0FBQztRQUM5QyxTQUFTO1FBQ1QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNsQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUM1RDtRQUVELFNBQVM7UUFDVCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2xDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQzVEO0lBQ0wsQ0FBQztJQUVEOzs7T0FHRztJQUNJLGlCQUFpQixDQUFDLFFBQXFCLEVBQUUsUUFBcUIsRUFBRSxVQUFtQjtRQUN0RixJQUFJLFFBQVEsS0FBSyxRQUFRLEVBQUU7WUFDdkIsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUVELElBQUksQ0FBQyxRQUFRLFlBQVksTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLFlBQVksTUFBTSxDQUFDLEVBQUU7WUFDOUQsSUFBSSxVQUFVLEVBQUU7Z0JBQ1osT0FBTyxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDM0QsVUFBVSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUM5RTtpQkFBTTtnQkFDSCxPQUFPLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUN2RCxVQUFVLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzFFO1NBQ0o7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQscUVBQXFFO0lBQ3JFOzs7T0FHRztJQUNJLFFBQVEsQ0FBQyxVQUFtQjtRQUMvQixJQUFJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxRQUF1QixFQUFFLFVBQVUsQ0FBQyxFQUFFO1lBQzlFLE9BQU87U0FDVjtRQUVELHVCQUF1QjtRQUN2QixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFFbkIsb0NBQW9DO1FBQ3BDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUU7WUFDckIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQ3hCO1FBRUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDM0MsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSztZQUN2QixHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHO1NBQ3RCLENBQUM7SUFDTixDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksU0FBUztRQUNaLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO1lBQzdELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUM1QyxPQUFPO1NBQ2Q7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLEVBQUU7WUFDL0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1lBRTdCLE9BQU87U0FDVjtRQUVELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDakMsQ0FBQztJQUVPLElBQUk7UUFDUixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLEtBQUssUUFBUSxDQUFDLElBQUksRUFBRTtZQUN6RSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ3RCO2FBQU07WUFDSCxvREFBb0Q7WUFDcEQsVUFBVSxDQUFDLEdBQUcsRUFBRTtnQkFDWixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ3hCLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUNUO0lBQ0wsQ0FBQztJQWVELHVFQUF1RTtJQUN2RTs7O09BR0c7SUFDTyxZQUFZLENBQUMsS0FBVTtRQUM3QixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQ7OztPQUdHO0lBQ08sYUFBYSxLQUFVLENBQUM7SUFFbEM7OztPQUdHO0lBQ08sV0FBVyxLQUFVLENBQUM7SUFFaEM7OztPQUdHO0lBQ08sYUFBYSxLQUFVLENBQUM7SUFFbEM7OztPQUdHO0lBQ08sb0JBQW9CLEtBQVUsQ0FBQztJQUV6Qzs7O09BR0c7SUFDTyxvQkFBb0IsS0FBVSxDQUFDO0lBRXpDOzs7T0FHRztJQUNPLGtCQUFrQixLQUFVLENBQUM7SUFFdkM7OztPQUdHO0lBQ08sa0JBQWtCLEtBQVUsQ0FBQzs7QUE1d0J2Qzs7O0dBR0c7QUFDcUIsbUNBQWUsR0FBVyxDQUFDLEVBQUUsQ0FBQztBQUN0RDs7R0FFRztBQUNXLGlDQUFhLEdBQVcsQ0FBQyxDQUFDOztZQWIzQyxTQUFTLFNBQUM7Z0JBQ1AsUUFBUSxFQUFFLEVBQUU7YUFDZjs7O1lBMUhHLFVBQVU7WUFPVixTQUFTO1lBSFQsTUFBTTs0Q0F1VkQsTUFBTSxTQUFDLFFBQVE7OztrQkFsTm5CLEtBQUs7a0JBSUwsS0FBSztxQkFTTCxLQUFLOzBCQUlMLEtBQUs7d0JBSUwsS0FBSzt5QkFJTCxLQUFLOytCQUlMLEtBQUs7MkJBSUwsS0FBSzsyQkFJTCxLQUFLO3lCQUlMLEtBQUs7bUNBSUwsS0FBSztzQkFJTCxNQUFNO3VCQUlOLE1BQU07MkJBS04sU0FBUyxTQUFDLHdCQUF3QixFQUFFLDJCQUEyQixDQUFDLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtzQkFLaEYsU0FBUyxTQUFDLGVBQWUsRUFBRSwyQkFBMkIsQ0FBQyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7dUJBTXZFLFNBQVMsU0FBQyxPQUFPLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFOzJCQUtuQyxZQUFZLFNBQUMsbUJBQW1CO3VCQUtoQyxZQUFZLFNBQUMsZUFBZTt5QkFLNUIsWUFBWSxTQUFDLGlCQUFpQjt3QkE2STlCLFlBQVksU0FBQyxTQUFTLEVBQUUsQ0FBQyxRQUFRLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xyXG5pbXBvcnQge1xyXG4gICAgQ29tcG9uZW50LFxyXG4gICAgRWxlbWVudFJlZixcclxuICAgIEV2ZW50RW1pdHRlcixcclxuICAgIEhvc3RMaXN0ZW5lcixcclxuICAgIElucHV0LFxyXG4gICAgTmdab25lLFxyXG4gICAgT3V0cHV0LFxyXG4gICAgUXVlcnlMaXN0LFxyXG4gICAgUmVuZGVyZXIyLFxyXG4gICAgVmlld0NoaWxkLFxyXG4gICAgVmlld0NoaWxkcmVuLFxyXG4gICAgSW5qZWN0XHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IERPQ1VNRU5UIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuXHJcbmltcG9ydCB7IFRpRGF0ZVV0aWwsIFRpS2V5bWFwLCBVdGlsIH0gZnJvbSAnLi4vLi4vdXRpbHMvVXRpbCc7XHJcbmltcG9ydCB7IFRpTG9jYWxlLCBUaUxvY2FsZVdvcmRzIH0gZnJvbSAnLi4vLi4vbG9jYWxlL1RpTG9jYWxlTW9kdWxlJztcclxuaW1wb3J0IHsgVGlGb3JtQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9UaUJhc2VNb2R1bGUnO1xyXG5pbXBvcnQgeyBUaURhdGVEb21pbmF0b3JDb21wb25lbnQgfSBmcm9tICcuLi9kYXRlZG9taW5hdG9yL1RpRGF0ZURvbWluYXRvck1vZHVsZSc7XHJcbmltcG9ydCB7IFRpRHJvcENvbXBvbmVudCB9IGZyb20gJy4uL2Ryb3AvVGlEcm9wTW9kdWxlJztcclxuaW1wb3J0IHsgVGlEYXRlRWRpdENvbXBvbmVudCB9IGZyb20gJy4uL2RhdGVlZGl0L1RpRGF0ZUVkaXRNb2R1bGUnO1xyXG5pbXBvcnQgeyBUaUJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4uL2J1dHRvbi9UaUJ1dHRvbk1vZHVsZSc7XHJcbmltcG9ydCB7IFRpVGV4dENvbXBvbmVudCB9IGZyb20gJy4uL3RleHQvVGlUZXh0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiDml7bpl7Tml6XmnJ/ojIPlm7Tnsbvnu4Tku7Z2YWx1ZeaOpeWPo1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBUaURhdGVWYWx1ZSB7XHJcbiAgICAvKipcclxuICAgICAqIOi1t+Wni+aXtumXtO+8miBEYXRl57G75Z6L77yM5Zyo5pyA5aSn5YC85pyA5bCP5YC86IyD5Zu05YaFXHJcbiAgICAgKi9cclxuICAgIGJlZ2luPzogRGF0ZTtcclxuICAgIC8qKlxyXG4gICAgICog57uT5p2f5pe26Ze077yaIERhdGXnsbvlnovvvIzlnKjmnIDlpKflgLzmnIDlsI/lgLzojIPlm7TlhoVcclxuICAgICAqL1xyXG4gICAgZW5kPzogRGF0ZTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUaURhdGVDdXN0b21pemVPcHRpb25zIHtcclxuICAgIC8qKlxyXG4gICAgICog6Ieq5a6a5LmJ5pe26Ze05paH5pysXHJcbiAgICAgKi9cclxuICAgIGxhYmVsOiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIOiHquWumuS5ieaXtumXtOWAvFxyXG4gICAgICovXHJcbiAgICB2YWx1ZTogVGlEYXRlVmFsdWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDml7bpl7Tml6XmnJ/moLzlvI/ljJbphY3nva5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGlEYXRldGltZUZvcm1hdCB7XHJcbiAgICAvKipcclxuICAgICAqIOaXpeacn+agvOW8j+WMlumFjee9ru+8jOm7mOiupOmFjee9rid5eXl5L01NL2RkJ1xyXG4gICAgICpcclxuICAgICAqIDEuIOW5tOWPr+S7peiuvue9ruS4uu+8mid5eXl5JyDigJTigJQg5Zub5L2N5pWw5a2X6KGo56S65bm077ya5L6L5aaC77yaJzIwMTYn77ybXHJcbiAgICAgKlxyXG4gICAgICogMi4g5pyI5Y+v5Lul6K6+572u5Li677yaJ01NTU0n4oCU4oCU5pyI5Lu96Iux5paH5YWo56ewKEphbnVhcnktRGVjZW1iZXIp77ybXHJcbiAgICAgKiAnTU1NJ+KAlOKAlOaciOS7veiLseaWh+eugOensCAoSmFuLURlYynvvJtcclxuICAgICAqICdNTSfigJTigJTkuKTkvY3mlbDlrZfooajnpLrmnIjku70gKDAxLTEyKe+8m1xyXG4gICAgICogJ00n4oCU4oCU5byA5aS05LiN6KGl6Zu25pa55byP6KGo56S65pyI5Lu9ICgxLTEyKS5cclxuICAgICAqXHJcbiAgICAgKiAzLiDml6Xlj6/ku6Xorr7nva7kuLrvvJpcclxuICAgICAqIGRk4oCU4oCU5Lik5L2N5pWw5a2X6KGo56S65pel5pyfKDAxLTMxKTtcclxuICAgICAqIGTigJTigJTlvIDlpLTkuI3ooaXpm7bmlbDlrZfooajnpLrml6XmnJ8gKDEtMzEpLlxyXG4gICAgICovXHJcbiAgICBkYXRlOiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIOaXtumXtOagvOW8j+WMlumFjee9ru+8jOm7mOiupOmFjee9ridISDptbTpzcydcclxuICAgICAqXHJcbiAgICAgKiAxLuWwj+aXtuWPr+S7peiuvue9ruS4uu+8mlxyXG4gICAgICpcclxuICAgICAqIEhIIOKAlOKAlCAyNOWwj+aXtuWItizkuKTkvY3mlbDlrZfooajnpLrlsI/ml7YoMDAtMjMpXHJcbiAgICAgKlxyXG4gICAgICogSCDigJTigJQgMjTlsI/ml7bliLbvvIzlvIDlpLTkuI3ooaXpm7bmlbDlrZfooajnpLrlsI/ml7YoMC0yMylcclxuICAgICAqXHJcbiAgICAgKiAyLuWIhumSn+WPr+S7peiuvue9ruS4uu+8mlxyXG4gICAgICpcclxuICAgICAqIG1tIOKAlOKAlCDkuKTkvY3mlbDlrZfooajnpLrliIbpkp/lgLzvvIgwMC01Oe+8iVxyXG4gICAgICpcclxuICAgICAqIG0g4oCU4oCUIOW8gOWktOS4jeihpembtuaVsOWtl+ihqOekuuWIhumSn+WAvO+8iDAtNTnvvIlcclxuICAgICAqXHJcbiAgICAgKiAzLuenkuWPr+S7peiuvue9ruS4uu+8mlxyXG4gICAgICpcclxuICAgICAqIHNzIOKAlOKAlCDkuKTkvY3mlbDlrZfooajnpLrnp5LlgLwoMDAtNTkpXHJcbiAgICAgKlxyXG4gICAgICogcyDigJTigJQg5byA5aS05LiN6KGl6Zu25pWw5a2X6KGo56S656eS5YC8KDAtNTkpXHJcbiAgICAgKlxyXG4gICAgICog6K+05piO77ya5byA5aS06KGl6Zu25piv5oyH5b2T5YmN5pe26Ze05piv5Liq5L2N5pWw5a2X5pe277yM5YmN6L656KGl6Zu277yM5aeL57uI5L+d5oyB5Lik5L2N5pWw5a2XXHJcbiAgICAgKi9cclxuICAgIHRpbWU6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICogZGF0ZVJhbmdl5Lul5Y+KZGF0ZXRpbWVSYW5nZee7hOS7tumAgumFjWRhdGVwYW5lbOeahOaOpeWPo+exu+Wei1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBUaVBpY2tlciB7XHJcbiAgICAgdmFsdWU/OiBUaURhdGVWYWx1ZTtcclxuICAgICB0eXBlPzogc3RyaW5nO1xyXG4gICAgIHBpY2tlcj86IHN0cmluZztcclxuICAgICBtaW4/OiBEYXRlO1xyXG4gICAgIG1heD86IERhdGU7XHJcbiAgICAgbm93RGF0ZVRpbWU/OiBEYXRlO1xyXG4gICAgIGZvcm1hdD86IHN0cmluZyB8IFRpRGF0ZXRpbWVGb3JtYXQ7IC8vIOS4pOenjeexu+WeizpkYXRlIGRhdGVSYW5nZee7hOS7tuaYr3N0cmluZ+exu+Wei++8jGRhdGV0aW1lIGRhdGV0aW1lUmFuZ2Xnu4Tku7bmmK9EYXRldGltZUZvcm1hdOexu+Wei1xyXG4gICAgIHNlbGVjdD8oKTogdm9pZDsgLy8g5pyI5Lu9L+aXpeacn++8jOeCueWHu+S6i+S7tuWbnuiwg+WHveaVsFxyXG4gICAgIHNlbGVjdFRpbWVGbj8odmFsOiBhbnkpOiB2b2lkO1xyXG4gfVxyXG5cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICog6YWN572udGltZee7hOS7tueahOaOpeWPo1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBUaW1lT3B0aW9ucyB7XHJcbiAgICB2YWx1ZT86IHN0cmluZztcclxuICAgIG1pbj86IHN0cmluZztcclxuICAgIG1heD86IHN0cmluZztcclxufVxyXG5cclxuLy8gbGli57yW6K+R6KaB5rGCQENvbXBvbmVudFxyXG5AQ29tcG9uZW50KHtcclxuICAgIHRlbXBsYXRlOiAnJ1xyXG59KVxyXG5cclxuZXhwb3J0IGNsYXNzIFRpRGF0ZUJhc2VDb21wb25lbnQgZXh0ZW5kcyBUaUZvcm1Db21wb25lbnQge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDkuIvmi4not53nprvpgInmi6nmoYYwcHhcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgRE9NSU5BVE9SX1NQQUNFOiBudW1iZXIgPSAtMzA7XHJcbiAgICAvKipcclxuICAgICAqIOaXpeacny/ml6XmnJ/ml7bpl7TkuIvmi4npgInmi6nmoYbot53nprvmtY/op4jlmajkuIrkuIvovrnmsr/nmoTot53nprvkuLo1cHjvvIzlvIDlj5HogIXlj6/lnKjpobnnm67kuK3mlbTkvZPphY3nva5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBCUk9XU0VSX1NQQUNFOiBudW1iZXIgPSA1O1xyXG4gICAgLyoqXHJcbiAgICAgKiDorr7nva7mnIDlsI/lgLxcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgbWluOiBEYXRlID0gVGlEYXRlVXRpbC5taW5EYXRlKCk7XHJcbiAgICAvKipcclxuICAgICAqIOiuvue9ruacgOWkp+WAvFxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBtYXg6IERhdGUgPSBUaURhdGVVdGlsLm1heERhdGUoKTtcclxuICAgIC8qKlxyXG4gICAgICog6K6+572u5pel5pyf5pi+56S65qC85byP77yb6K+m6KeB5rWL6K+V55So5L6LXHJcbiAgICAgKlxyXG4gICAgICogZGF0ZeWSjGRhdGVSYW5nZee7hOS7tuS4reexu+Wei+S4unN0cmluZ++8jOm7mOiupOmFjee9ruS4uu+8mid5eXl5L01NL2RkJ++8m1xyXG4gICAgICpcclxuICAgICAqIGRhdGV0aW1l5ZKMZGF0YXRpbWVyYW5nZee7hOS7tuS4reexu+Wei+S4ulRpRGF0ZXRpbWVGb3JtYXTvvIzpu5jorqTphY3nva7vvJp7ZGF0YTogJ3l5eXkvTU0vZGQnLCB0aW1lOiAnSEg6bW06c3MnfVxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgZm9ybWF0OiBzdHJpbmcgfCBUaURhdGV0aW1lRm9ybWF0O1xyXG4gICAgLyoqXHJcbiAgICAgKiDnlLHnlKjmiLfoh6rlrprkuYnnjrDlnKjml7bpl7TvvIzlpoLmnpzkuI3orr7nva7or6XlsZ7mgKflgLzvvIzliJnpu5jorqTkuLrlvZPliY3ns7vnu5/ml7bpl7RcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgbm93RGF0ZVRpbWU6IERhdGU7XHJcbiAgICAvKipcclxuICAgICAqIOaOp+WItuaXtumXtOaXpeacn+exu+e7hOS7tuaYr+WQpuWxleekuua4hemZpOaXpeacn+Wbvuagh++8iOm7mOiupOaYvuekuu+8iVxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBjbGVhckljb246IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgLyoqXHJcbiAgICAgKiDpnaLmnb/lr7npvZDmlrnlvI9cclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgcGFuZWxBbGlnbjogJ2xlZnQnIHwgJ3JpZ2h0JyA9ICdsZWZ0JztcclxuICAgIC8qKlxyXG4gICAgICog6YWN572u6Ieq5a6a5LmJ5pe26Ze0XHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGN1c3RvbWl6ZU9wdGlvbnM6IFRpRGF0ZUN1c3RvbWl6ZU9wdGlvbnM7XHJcbiAgICAvKipcclxuICAgICAqIOiHquWumuS5ieemgeeUqOaXpeacn1xyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBkaXNhYmxlZERheXM6IEFycmF5PERhdGU+O1xyXG4gICAgLyoqXHJcbiAgICAgKiDlvIDlp4vlgLzlm7rlrprkuI3lj6/pgIlcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgaXNCZWdpbkZpeGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAvKipcclxuICAgICAqIOe7k+adn+WAvOWbuuWumuS4jeWPr+mAiVxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBpc0VuZEZpeGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAvKipcclxuICAgICAqIOatpOaOpeWPo+WPqumAgueUqOS6jmRhdGVSYW5nZee7hOS7tu+8jOaYr+WQpuWFgeiuuOe7k+adn+aXpeacn+WSjOW8gOWni+aXpeacn+S4uuWQjOS4gOWkqVxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBpc0FsbG93QmVnaW5FcXVhbEVuZDogYm9vbGVhbiA9IHRydWU7XHJcbiAgICAvKipcclxuICAgICAqIO+8iGRhdGXnu4Tku7bml6Dor6XmjqXlj6PvvInngrnlh7vml7bpl7Tml6XmnJ/pnaLmnb/kuIrnmoTnoa7orqTmjInpkq7op6blj5HnmoTkuovku7ZcclxuICAgICAqL1xyXG4gICAgQE91dHB1dCgpIHJlYWRvbmx5IG9rQ2xpY2s6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgLyoqXHJcbiAgICAgKiDngrnlh7vml6XmnJ/pnaLmnb/kuIrnmoTml6XmnJ/op6blj5HnmoTkuovku7ZcclxuICAgICAqL1xyXG4gICAgQE91dHB1dCgpIHJlYWRvbmx5IGRheUNsaWNrOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogZG9taW5hdG9y57uE5Lu2XHJcbiAgICAgKi9cclxuICAgIEBWaWV3Q2hpbGQoVGlEYXRlRG9taW5hdG9yQ29tcG9uZW50LCAvKiBUT0RPOiBhZGQgc3RhdGljIGZsYWcgKi8geyBzdGF0aWM6IHRydWUgfSkgZG9taW5hdG9yQ29tOiBUaURhdGVEb21pbmF0b3JDb21wb25lbnQ7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIGRyb3DkuIvmi4nnu4Tku7ZcclxuICAgICAqL1xyXG4gICAgQFZpZXdDaGlsZChUaURyb3BDb21wb25lbnQsIC8qIFRPRE86IGFkZCBzdGF0aWMgZmxhZyAqLyB7IHN0YXRpYzogdHJ1ZSB9KSBkcm9wQ29tOiBUaURyb3BDb21wb25lbnQ7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqXHJcbiAgICAgKiDphY3lkIh0YWLlv6vmjbfplK7mk43kvZznmoTov4fluqZEb21cclxuICAgICAqL1xyXG4gICAgQFZpZXdDaGlsZCgnaW5wdXQnLCB7IHN0YXRpYzogdHJ1ZSB9KSBpbnB1dFJlZjogRWxlbWVudFJlZjtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogZGF0ZUVkaXTnu4Tku7ZcclxuICAgICAqL1xyXG4gICAgQFZpZXdDaGlsZHJlbihUaURhdGVFZGl0Q29tcG9uZW50KSBkYXRlRWRpdENvbXM6IFF1ZXJ5TGlzdDxUaURhdGVFZGl0Q29tcG9uZW50PjtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5pe26Ze057yW6L6R5qGGXHJcbiAgICAgKi9cclxuICAgIEBWaWV3Q2hpbGRyZW4oVGlUZXh0Q29tcG9uZW50KSB0ZXh0Q29tczogUXVlcnlMaXN0PFRpVGV4dENvbXBvbmVudD47XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIGJ1dHRvbue7hOS7tlxyXG4gICAgICovXHJcbiAgICBAVmlld0NoaWxkcmVuKFRpQnV0dG9uQ29tcG9uZW50KSBidXR0b25Db21zOiBRdWVyeUxpc3Q8VGlCdXR0b25Db21wb25lbnQ+O1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbG9jYWxlV29yZHM6IFRpTG9jYWxlV29yZHMgPSBUaUxvY2FsZS5nZXRMb2NhbGVXb3JkcygpO1xyXG5cclxuICAgIC8vIOivpeWfuuexu+S4u+imgeeUqOS6juWunueOsOWFrOWFseWPmOmHj+aOpeWPo+WjsOaYjizlhazlhbHnmoTkuovku7bvvIzku6Xlj4rlhazlhbHmlrnms5VcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5L+d5a2Y5pen5pel5pyf5pi+56S65qC85byPXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvbGRGb3JtYXQ6IHN0cmluZyB8IFRpRGF0ZXRpbWVGb3JtYXQ7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOS/neWtmOaXp+W8gOWni+aXpeacn1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb2xkQmVnaW5WYWx1ZTogRGF0ZTtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5L+d5a2Y5pen57uT5p2f5pel5pyfXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvbGRFbmRWYWx1ZTogRGF0ZTtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5L+d5a2Y5penbW9kZWzlgLzvvJpkYXRl57G75Z6L5oiW6ICFZGF0ZXZhbHVl57G75Z6LXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvbGRNb2RlbDogRGF0ZSB8IFRpRGF0ZVZhbHVlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDliKTmlq3lvZPliY12YWx1ZeWAvOaYr+S4jeaYr+WQiOazleeahO+8jOS4jeWQiOazleWImeehruiupOaMiemSrueBsOWMllxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW5WYWxpZFZhbHVlOiBib29sZWFuO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDmoIforrDngrnlh7vlj4nlj7dcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzQ2xlYXJDbGljazogYm9vbGVhbjtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5qCH5b+X5piv5pel5pyf6L+Y5piv5pe26Ze05pel5pyfXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0RhdGV0aW1lOiBib29sZWFuO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDmoIflv5fmmK/ml7bpl7Tml6XmnJ/ov5jmmK/ml7bpl7Tml6XmnJ/mrrVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzUmFuZ2U6IGJvb2xlYW47XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOagh+W/l+aYr+aXtumXtOmAieaLqemdouadv+i/mOaYr+aXpeacn+mAieaLqemdouadv1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2VsZWN0VGltZTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDlr7nlupTmr4/kuKrml7bpl7Tml6XmnJ/nu4Tku7bnmoTmnIDlpKfmnIDlsI/lgLznmoTphY3nva5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbmZpZzoge21pbjogRGF0ZSwgbWF4OiBEYXRlfSA9IHtcclxuICAgICAgICBtaW46IFRpRGF0ZVV0aWwubWluRGF0ZSgpLFxyXG4gICAgICAgIG1heDogVGlEYXRlVXRpbC5tYXhEYXRlKClcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIG1vZGVs6buY6K6k5YC8XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkZWZhdWx0VmFsdWU6IFRpRGF0ZVZhbHVlID0ge1xyXG4gICAgICAgIGJlZ2luOiBudWxsLFxyXG4gICAgICAgIGVuZDogbnVsbFxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5qih5p2/5Yid5aeL5YyWXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkYXRlUGFuZWw6IFRpUGlja2VyID0ge1xyXG4gICAgICAgIHZhbHVlOiB0aGlzLmRlZmF1bHRWYWx1ZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIGRhdGUvZGF0ZXRpbWUg6Z2i5p2/5a695bqmXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkYXRlUGFuZWxXaWR0aDogc3RyaW5nID0gJzI4NnB4JztcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogZGF0ZXJhbmdlL2RhdGV0aW1lcmFuZ2Ug6Z2i5p2/5a695bqmXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkYXRlcmFuZ2VQYW5lbFdpZHRoOiBzdHJpbmcgPSAnNTU4cHgnO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDml6XmnJ/mmL7npLrlrZfnrKbkuLJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlucHV0VmFsdWU6IHN0cmluZyA9ICcnO1xyXG4gICAgcHJpdmF0ZSBkb2N1bWVudEtleWRvd25MaXN0ZW5lcjogKCkgPT4gdm9pZDtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5qih5p2/5Lit5L2/55SoXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBicm93c2VyU3BhY2U6IHN0cmluZyA9IFRpRGF0ZUJhc2VDb21wb25lbnQuQlJPV1NFUl9TUEFDRSArICdweCc7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmUg6Z2i5p2/5LiOZG9taW5hdG9y55qE6Led56a7XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkb21pbmF0b3JTcGFjZTogc3RyaW5nID0gVGlEYXRlQmFzZUNvbXBvbmVudC5ET01JTkFUT1JfU1BBQ0UgKyAncHgnO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDorrDlvZXlvZPliY3pnaLmnb/lhoXpg6jnvJbovpHljLrln5/nhKbngrnkvY3nva5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGZvY3VzZWRQb3NpdGlvbjogc3RyaW5nID0gJ2JlZ2luJztcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5pe26Ze057yW6L6R5qGGcGxhY2Vob2RlclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdGltZXBsYWNlaG9sZGVyOiBzdHJpbmcgPSAnaGg6bW06c3MnO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDlupXpg6jpgInmi6nml7bpl7TmjInpkq7npoHnlKjmoIflv5dcclxuICAgICAqL1xyXG4gICAgcHVibGljIHRpbWVFZGl0RGlzYWJsZWQ6IGJvb2xlYW47XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOagh+W/l+aYr+WQpuWtmOWcqOW3puS+p+iHquWumuS5ieaXtumXtOWMuuWfn1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaGFzQ3VzdG9taXplVGltZTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDlj6/ogZrnhKblhYPntKDpm4blkIhcclxuICAgICAqL1xyXG4gICAgcHVibGljIGZvY3VzRWxlbWVudHNBcnI6IEFycmF5PGFueT4gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaG9zdFJlZjogRWxlbWVudFJlZiwgcHJvdGVjdGVkIHJlbmRlcjogUmVuZGVyZXIyLCBwcml2YXRlIHpvbmU6IE5nWm9uZSxcclxuICAgICAgICBASW5qZWN0KERPQ1VNRU5UKSBwcml2YXRlIGRvY3VtZW50KSB7XHJcbiAgICAgICAgc3VwZXIoaG9zdFJlZiwgcmVuZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRGb2N1c0VsZW1lbnRzKGZvY3VzQ29tczogYW55LCBmb2N1c0VsZW1lbnRzOiBBcnJheTxhbnk+KTogQXJyYXk8YW55PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBmb2N1c0NvbSBvZiBmb2N1c0NvbXMudG9BcnJheSgpKSB7XHJcbiAgICAgICAgICAgIGZvY3VzRWxlbWVudHMgPSBmb2N1c0VsZW1lbnRzLmNvbmNhdChmb2N1c0NvbS5nZXRGb2N1c2FibGVFbGVtcygpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmb2N1c0VsZW1lbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57uE5Lu25b+r5o236ZSu5aSE55CGdGFi6ZSuIGVudGVy6ZSuXHJcbiAgICAgKi9cclxuICAgIEBIb3N0TGlzdGVuZXIoJ2tleWRvd24nLCBbJyRldmVudCddKSBwdWJsaWMgb25LZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVGlLZXltYXAuS0VZX1RBQiA6IC8vIFRBQumUrlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlUGFuZWwoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFRpS2V5bWFwLktFWV9FTlRFUiA6IC8vIEVOVEVS6ZSuKOWkp+mUruebmClcclxuICAgICAgICAgICAgY2FzZSBUaUtleW1hcC5LRVlfTlVNUEFEX0VOVEVSIDogLy8gRU5URVLplK4o5pWw5a2X5bCP6ZSu55uYKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZUVudGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdCA6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiB3cml0ZVZhbHVl5Yy65YiG5piv5LiN5pivcmFuZ2Xnu4Tku7bvvJpcclxuICAgICAqL1xyXG4gICAgd3JpdGVWYWx1ZSh2YWx1ZTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIud3JpdGVWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgLy8gMS5kYXRlcmFuZ2XlkoxkYXRldGltZXJhbmdl57uE5Lu255qE5aSE55CGXHJcbiAgICAgICAgLy8g5paw5pen5YC85Yik5pat5aSE55CG5pS+5ZyoZG9jaGVja+S4rVxyXG4gICAgICAgIGlmICh0aGlzLmlzUmFuZ2UpIHtcclxuICAgICAgICAgICAgLy8gdmFsdWXkuI3mmK/lr7nosaHml7bvvIzlsIZ2YWx1Zeiuvue9ruS4um51bGzvvIzovpPlhaXmoYbkuK3mmL7npLrnqbrnmb1cclxuICAgICAgICAgICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBPYmplY3QpIHx8ICF0aGlzLmlzVmFsaWRWYWx1ZSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gMi5kYXRl5ZKMZGF0ZXRpbWXnu4Tku7bnmoTlpITnkIbvvIzpnZ7ms5Xml7bpl7Tml6XmnJ/lgLznu5/kuIDnva7kuLpudWxs77yM5pi+56S656m6XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWRWYWx1ZSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbCA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDmlrDml6flgLznm7jlkIzml7bkuI3kvZzlpITnkIbvvJtcclxuICAgICAgICBpZiAoVGlEYXRlVXRpbC5pc0RhdGVFcXVhbCh2YWx1ZSwgdGhpcy5tb2RlbCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dXNlLWxpZmUtY3ljbGUtaW50ZXJmYWNlXHJcbiAgICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xyXG4gICAgICAgIC8vIOaYr+WQpuWtmOWcqOW3puS+p+iHquWumuS5iemdouadv1xyXG4gICAgICAgIHRoaXMuaGFzQ3VzdG9taXplVGltZSA9ICFVdGlsLmlzVW5kZWZpbmVkKHRoaXMuY3VzdG9taXplT3B0aW9ucykgJiYgIVV0aWwuaXNOdWxsKHRoaXMuY3VzdG9taXplT3B0aW9ucyk7XHJcbiAgICAgICAgLy8gZm9ybWF05o6l5Y+j5qCh6aqMOuWvueaXtumXtOaXpeacn+i/m+ihjOWbvemZheWMluWkhOeQhlxyXG4gICAgICAgIHRoaXMudmFsaWRhdGVGb3JtYXQodGhpcy5pc0RhdGV0aW1lKTtcclxuXHJcbiAgICAgICAgLy8g5pyA5aSn5pyA5bCP5YC85qCh6aqMXHJcbiAgICAgICAgdGhpcy52YWxpZGF0ZU1pbkFuZE1heCh0aGlzLmNvbmZpZywgdGhpcy5pc0RhdGV0aW1lKTtcclxuXHJcbiAgICAgICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHsgLy8g6YG/5YWN5LiN5YGc6Kem5Y+R5Y+Y5YyW5qOA5rWLXHJcbiAgICAgICAgICAgIC8vIGRvY3VtZW505LiK55qERWNz5b+r5o236ZSu5Yqf6IO9XHJcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRLZXlkb3duTGlzdGVuZXIgPSB0aGlzLnJlbmRlci5saXN0ZW4odGhpcy5kb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmtleWRvd25IYW5kbGVyRm4pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5uZ0FmdGVyVmlld0luaXQoKTtcclxuICAgICAgICAvLyDlrprkuYnlj5jph4/lrZjlgqjogZrnhKblhYPntKDvvJtcclxuICAgICAgICBsZXQgZm9jdXNFbGVtZW50czogQXJyYXk8YW55PiA9IFtdO1xyXG5cclxuICAgICAgICAvLyDojrflj5ZkYXRlZWRpdOeahOiBmueEpuWFg+e0oFxyXG4gICAgICAgIGZvY3VzRWxlbWVudHMgPSBUaURhdGVCYXNlQ29tcG9uZW50LmdldEZvY3VzRWxlbWVudHModGhpcy5kYXRlRWRpdENvbXMsIGZvY3VzRWxlbWVudHMpO1xyXG4gICAgICAgIC8vIOiOt+WPluaXtumXtOe8lui+keahhuiBmueEpuWFg+e0oFxyXG4gICAgICAgIGlmICh0aGlzLnRleHRDb21zLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRleHRDb20gb2YgdGhpcy50ZXh0Q29tcy50b0FycmF5KCkpIHtcclxuICAgICAgICAgICAgICAgIGZvY3VzRWxlbWVudHMgPSBmb2N1c0VsZW1lbnRzLmNvbmNhdCh0ZXh0Q29tLm5hdGl2ZUVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pbnB1dFJlZikge1xyXG4gICAgICAgICAgICBmb2N1c0VsZW1lbnRzID0gZm9jdXNFbGVtZW50cy5jb25jYXQodGhpcy5pbnB1dFJlZi5uYXRpdmVFbGVtZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOiOt+WPluehruiupOWPlua2iOaMiemSrueahOiBmueEpuWFg+e0oFxyXG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uQ29tIG9mIHRoaXMuYnV0dG9uQ29tcy50b0FycmF5KCkpIHtcclxuICAgICAgICAgICAgZm9jdXNFbGVtZW50cyA9IGZvY3VzRWxlbWVudHMuY29uY2F0KGJ1dHRvbkNvbS5uYXRpdmVFbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mb2N1c0VsZW1lbnRzQXJyID0gZm9jdXNFbGVtZW50cztcclxuICAgICAgICB0aGlzLnNldEZvY3VzYWJsZUVsZW1zKFt0aGlzLmRvbWluYXRvckNvbS5uYXRpdmVFbGVtZW50XVxyXG4gICAgICAgICAgICAuY29uY2F0KHRoaXMuZHJvcENvbS5uYXRpdmVFbGVtZW50KVxyXG4gICAgICAgICAgICAuY29uY2F0KGZvY3VzRWxlbWVudHMpKTtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5uZ09uRGVzdHJveSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmRvY3VtZW50S2V5ZG93bkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRLZXlkb3duTGlzdGVuZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGtleWRvd25IYW5kbGVyRm4gPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuZHJvcENvbS5pc1Nob3cpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gVGlLZXltYXAuS0VZX0VTQ0FQRSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVQYW5lbCgpO1xyXG4gICAgICAgICAgICB0aGlzLmRvbWluYXRvckNvbS5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRhYktleWRvd24oZXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5a6e546w5oyJdGFi6ZSu5pe277yMZm9jdXPlnKjkuIvmi4npnaLmnb/kuK3lvqrnjq9cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSB0YWJLZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYodGhpcy5mb2N1c0VsZW1lbnRzQXJyLmxlbmd0aCA9PT0gMCApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZm9jdXNDaGFuZ2VkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IFRpS2V5bWFwLktFWV9UQUIpIHtcclxuICAgICAgICAgICAgY29uc3QgcGFuZWxGb2N1c0VsZW1lbnRzQXJyID0gdGhpcy5mb2N1c0VsZW1lbnRzQXJyLmZpbHRlcigoaXRlbTogYW55KSA9PiAhaXRlbS5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmKGV2ZW50LnRhcmdldCA9PT0gcGFuZWxGb2N1c0VsZW1lbnRzQXJyWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBwYW5lbEZvY3VzRWxlbWVudHNBcnJbcGFuZWxGb2N1c0VsZW1lbnRzQXJyLmxlbmd0aCAtIDFdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0ID09PSBwYW5lbEZvY3VzRWxlbWVudHNBcnJbcGFuZWxGb2N1c0VsZW1lbnRzQXJyLmxlbmd0aCAtIDFdKSB7XHJcbiAgICAgICAgICAgICAgICBmb2N1c0NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcGFuZWxGb2N1c0VsZW1lbnRzQXJyWzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZvY3VzQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g5YWs5YWx5LqL5Lu25aSE55CGIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOeCueWHu+mdouadv+WxleW8gOaUtui1t+WHveaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25TaG93Q2xpY2soKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsgLy8g6Z2e54Gw5YyW5Y+v54K55Ye75bGV5byA6Z2i5p2/XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRyb3BDb20uaXNTaG93IHx8IHRoaXMuaXNDbGVhckNsaWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNDbGVhckNsaWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZHJvcENvbS5oaWRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8g6YWN572u5pe26Ze05pel5pyf6Z2i5p2/5o6l5Y+jXHJcbiAgICAgICAgICAgIHRoaXMuc2V0UGlja2VyRGF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3coKTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RUaW1lID0gZmFsc2U7IC8vIOmdouadv+aJk+W8gOWIneasoeaAu+WxleekuuaXpeacn+mdouadv1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQmVnaW5GaXhlZCAmJiAhdGhpcy5pc0VuZEZpeGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlRWRpdENvbXMubGFzdC5mb2N1cygpOyAvLyDlvIDlp4vlgLzlm7rlrprvvIzliJnnrKzkuozkuKrnvJbovpHljLrln5/ogZrnhKZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzZWRQb3NpdGlvbiA9ICdlbmQnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGVFZGl0Q29tcy5maXJzdC5mb2N1cygpOyAvLyDliJ3lp4vljJbmiZPlvIDpnaLmnb/vvIznrKzkuIDkuKrnvJbovpHljLrln5/ogZrnhKZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzZWRQb3NpdGlvbiA9ICdiZWdpbic7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5bem5L6n6Ieq5a6a5LmJ5pe26Ze05paH5pys54K55Ye75LqL5Lu2XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjdXN0b21pemVUaW1lQ2xpY2tGbih2YWw6IFRpRGF0ZVZhbHVlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tb2RlbCA9IHZhbDtcclxuICAgICAgICB0aGlzLmRyb3BDb20uaGlkZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDngrnlh7vpgInmi6nml7bpl7TvvIzmoLnmja7liJ3lp4vkvKDlhaXlgLzorr7lrprkuIvmi4npgInmi6npoblcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNlbGVjdFRpbWVGbigpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy50aW1lRWRpdERpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWxlY3RUaW1lID0gdHJ1ZTsgLy8g5YiH5o2i5Li65pe26Ze06YCJ5oup6Z2i5p2/XHJcbiAgICAgICAgdGhpcy50ZXh0Q29tcy5maXJzdC5uYXRpdmVFbGVtZW50LmZvY3VzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNlbGVjdERhdGVGbigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNlbGVjdFRpbWUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRhdGVFZGl0Q29tcy5maXJzdC5uYXRpdmVFbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgdGhpcy5mb2N1c2VkUG9zaXRpb24gPSAnYmVnaW4nO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkYXRlRWRpdENsaWNrKHZhbDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNCZWdpbkZpeGVkIHx8IHRoaXMuaXNFbmRGaXhlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZm9jdXNlZFBvc2l0aW9uID0gdmFsO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0VGltZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkYXRlRWRpdEZvY3VzKHZhbDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5mb2N1c2VkUG9zaXRpb24gPSB2YWw7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RUaW1lID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOaXtumXtOahhuiBmueEplxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdGltZUZvY3VzKHZhbDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RUaW1lID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmZvY3VzZWRQb3NpdGlvbiA9IHZhbCA9PT0gJ2JlZ2luJyA/ICdiZWdpblRpbWUnIDogJ2VuZFRpbWUnO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRUaW1lRm4ob2JqOiBhbnksIGJlZ2luVGltZTogVGltZU9wdGlvbnMsIGVuZFRpbWU/OiBUaW1lT3B0aW9ucyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHRpbWVQb3NpdGlvbjogc3RyaW5nID0gb2JqLnRpbWVPcHRpb247XHJcbiAgICAgICAgY29uc3QgYmVnaW5UaW1lQXJyOiBhbnkgPSBiZWdpblRpbWUudmFsdWUuc3BsaXQoJzonKTtcclxuICAgICAgICBsZXQgZW5kVGltZUFycjogYW55O1xyXG4gICAgICAgIGlmICghVXRpbC5pc1VuZGVmaW5lZChlbmRUaW1lKSkge1xyXG4gICAgICAgICAgICBlbmRUaW1lQXJyID0gZW5kVGltZS52YWx1ZS5zcGxpdCgnOicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKHRpbWVQb3NpdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlICdiZWdpbkhvdXInOlxyXG4gICAgICAgICAgICAgICAgYmVnaW5UaW1lQXJyWzBdID0gb2JqLnZhbC5sYWJlbDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdiZWdpbk1pbnV0ZSc6XHJcbiAgICAgICAgICAgICAgICBiZWdpblRpbWVBcnJbMV0gPSBvYmoudmFsLmxhYmVsO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2JlZ2luU2Vjb25kJzpcclxuICAgICAgICAgICAgICAgIGJlZ2luVGltZUFyclsyXSA9IG9iai52YWwubGFiZWw7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZW5kSG91cic6XHJcbiAgICAgICAgICAgICAgICBlbmRUaW1lQXJyWzBdID0gb2JqLnZhbC5sYWJlbDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdlbmRNaW51dGUnOlxyXG4gICAgICAgICAgICAgICAgZW5kVGltZUFyclsxXSA9IG9iai52YWwubGFiZWw7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZW5kU2Vjb25kJzpcclxuICAgICAgICAgICAgICAgIGVuZFRpbWVBcnJbMl0gPSBvYmoudmFsLmxhYmVsO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgYmVnaW5UaW1lLnZhbHVlID0gYmVnaW5UaW1lQXJyLmpvaW4oJzonKTtcclxuICAgICAgICBpZiAoIVV0aWwuaXNVbmRlZmluZWQoZW5kVGltZSkpIHtcclxuICAgICAgICAgICAgZW5kVGltZS52YWx1ZSA9IGVuZFRpbWVBcnIuam9pbignOicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOeCueWHu+WIoOmZpOaMiemSrlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25JY29uQ2xlYXJDbGljayhldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmYu+atouS6i+S7tuWGkuazoe+8muWPr+S7pemYsuatoueCueWHu+WPieWPt+W8lei1t+mdouadv+eahOaYvuekuuaIluiAhemakOiXj++8jOS9huatpOWkhOS4jeiDvemYu+atouS6i+S7tuWGkuazoe+8jFxyXG4gICAgICAgIC8vIOS6i+S7tuS4jeS8muWGkuazoeWIsGRvY3VtZW505LiK77yM5Lya5Ye6546w6aG16Z2i5LiK5YW25LuW5LiL5ouJ57G757uE5Lu26Z2i5p2/5LiN5pS26LW35oOF5Ya1XHJcbiAgICAgICAgLy8g5re75Yqg5qCH5b+X6YeP77yM5Zyob25TaG93Q2xpY2vlh73mlbDkuK3lpITnkIZcclxuICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCAhdGhpcy5jbGVhckljb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlzQ2xlYXJDbGljayA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5tb2RlbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5vbGRCZWdpblZhbHVlID0gbnVsbDtcclxuICAgICAgICB0aGlzLm9sZEVuZFZhbHVlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlucHV0VmFsdWUgPSAnJztcclxuICAgICAgICAvLyDml7bpl7Tml6XmnJ/pnaLmnb/mmL7npLrliJnpmpDol49cclxuICAgICAgICB0aGlzLmhpZGVQYW5lbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog6ZqQ6JePZHJvcCwg6YCC55So5LqOZHJvcOS4reeUqOaIt+eCueWHu+W8lei1t2Ryb3DpmpDol4/vvIzpmLvmraLkuobmlbTkvZPlpLHnhKbjgIJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGhpZGVEcm9wKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmYu+atouaVtOS9k+WkseWOu+eEpueCuVxyXG4gICAgICAgIHRoaXMuZG9taW5hdG9yQ29tLmZvY3VzKCk7XHJcbiAgICAgICAgdGhpcy5kcm9wQ29tLmhpZGUoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog6ZqQ6JeP6Z2i5p2/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBoaWRlUGFuZWwoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZHJvcENvbS5pc1Nob3cpIHtcclxuICAgICAgICAgICAgdGhpcy5kcm9wQ29tLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiBlbnRlcumUrueahOWKn+iDve+8muWmguaenOmdouadv+WxleW8gOS4jeWkhOeQhu+8jOmdouadv+aUtui1t+WImeWxleW8gO+8jOiuvue9rmRhdGVQYW5lbOaMh+S7pOeahOaOpeWPo+WAvFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVzcG9uc2VFbnRlcigpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5kcm9wQ29tLmlzU2hvdykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDpnaLmnb/mlLbotbfliY3mmK/lubTmiJbmnIjpnaLmnb/vvIzmjIllbnRlcumUrumHjeaWsOiuvue9rmRhdGVQYW5lbOaMh+S7pOeahOaOpeWPo+WAvFxyXG4gICAgICAgIHRoaXMuc2V0UGlja2VyRGF0ZSgpO1xyXG5cclxuICAgICAgICAvLyDml7bpl7TpnaLmnb/lsZXlvIBcclxuICAgICAgICB0aGlzLnNob3coKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGVFZGl0Q29tcy5maXJzdC5uYXRpdmVFbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9jdXNlZFBvc2l0aW9uID0gJ2JlZ2luJztcclxuICAgICAgICB9LCAwKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICpcclxuICAgICAqIOiuvue9ruaMiemSruemgeeUqOWcuuaZr+S4iyDov4fluqZpbnB1dOeahOagt+W8j++8iOmAgumFjXRhYuW/q+aNt+mUruWcuuaZr++8iVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0SW5wdXRTdHlsZSh2YWw6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBpZih2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIucmVtb3ZlU3R5bGUodGhpcy5pbnB1dFJlZi5uYXRpdmVFbGVtZW50LCAnZGlzcGxheScpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlci5zZXRTdHlsZSh0aGlzLmlucHV0UmVmLm5hdGl2ZUVsZW1lbnQsICdvcGFjaXR5JywgJzAnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlci5zZXRTdHlsZSh0aGlzLmlucHV0UmVmLm5hdGl2ZUVsZW1lbnQsICdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g5YWs5YWx5pa55rOV5aSE55CGIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOWIpOaWreaYr+S4jeaYr+WQiOazleeahERhdGV0aW1lRm9ybWF0OiBmb3JtYXTkuLrlr7nosaEge2RhdGU6JycsIHRpbWU6ICcnfVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNWYWxpZERhdGV0aW1lRm9ybWF0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5mb3JtYXQgaW5zdGFuY2VvZiBPYmplY3QpICYmIFV0aWwuaXNTdHJpbmcodGhpcy5mb3JtYXRbJ2RhdGUnXSkgJiYgVXRpbC5pc1N0cmluZyh0aGlzLmZvcm1hdFsndGltZSddKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOacgOWkp+WAvOacgOWwj+WAvOagoemqjDrlkoxkYXRl57uE5Lu25LiN5ZCM77yM5q2k5aSE5LiN6ZyA6KaB5YGa5pyA5aSn5pyA5bCP5pe25YiG56eS5aSE55CGXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB2YWxpZGF0ZU1pbkFuZE1heChkYXRlQ29maWc6IHttaW46IERhdGUsIG1heDogRGF0ZX0sIGlzRGF0ZXRpbWU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBtYXhDaGFuZ2VkOiBEYXRlID0gaXNEYXRldGltZSA/IHRoaXMubWF4IDogVGlEYXRlVXRpbC5jaGFuZ2VNYXhUaW1lKHRoaXMubWF4KTtcclxuICAgICAgICB0aGlzLm1heCA9IFRpRGF0ZVV0aWwuaXNEYXRlKHRoaXMubWF4KSA/IG1heENoYW5nZWQgOiBkYXRlQ29maWcubWF4O1xyXG5cclxuICAgICAgICBjb25zdCBtaW5DaGFuZ2VkOiBEYXRlID0gaXNEYXRldGltZSA/IHRoaXMubWluIDogVGlEYXRlVXRpbC5jaGFuZ2VNaW5UaW1lKHRoaXMubWluKTtcclxuICAgICAgICB0aGlzLm1pbiA9IFRpRGF0ZVV0aWwuaXNEYXRlKHRoaXMubWluKSA/IG1pbkNoYW5nZWQgOiBkYXRlQ29maWcubWluO1xyXG5cclxuICAgICAgICAvLyDmnIDlpKfmnIDlsI/lgLznn5vnm77ml7bvvIzorr7nva7kuLrpu5jorqTlgLxcclxuICAgICAgICBpZiAodGhpcy5tYXguZ2V0VGltZSgpIDwgdGhpcy5taW4uZ2V0VGltZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4ID0gZGF0ZUNvZmlnLm1heDtcclxuICAgICAgICAgICAgdGhpcy5taW4gPSBkYXRlQ29maWcubWluO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOagoemqjGZvcm1hdOaOpeWPo1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdmFsaWRhdGVGb3JtYXQoaXNEYXRldGltZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGlmIChpc0RhdGV0aW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGVEYXRldGltZUZvcm1hdCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGVEYXRlRm9ybWF0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5qCh6aqMZm9ybWF0OiBzdHJpbmfnsbvlnovvvIxcclxuICAgICAqL1xyXG4gICAgcHVibGljIHZhbGlkYXRlRGF0ZUZvcm1hdCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoVXRpbC5pc1N0cmluZyh0aGlzLmZvcm1hdCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOuWmguaenOmFjee9ruaXtumXtOaXpeacn+WbvemZheWMllxyXG4gICAgICAgIHRoaXMuZm9ybWF0ID0gdGhpcy5sb2NhbGVXb3Jkcy50aUxvY2FsZURhdGVbJ2RhdGUnXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOagoemqjGZvcm1hdDog5a+56LGh57G75Z6Le2RhdGU6JycsIHRpbWU6Jyd9XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB2YWxpZGF0ZURhdGV0aW1lRm9ybWF0KCk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE865Yid5aeL5YyW5Li6bmdMb2NhbGXmoLzlvI9cclxuICAgICAgICAvLyDnlKjmiLforr7nva5mb3JtYXTkuI3mmK/kuIDkuKrlr7nosaHvvIzorr7nva7kuLrlm73pmYXphY3nva7nmoRmb3JtYXTmiJbpu5jorqTlgLxcclxuICAgICAgICBpZiAoISh0aGlzLmZvcm1hdCBpbnN0YW5jZW9mIE9iamVjdCkpIHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtYXQgPSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlOiB0aGlzLmxvY2FsZVdvcmRzLnRpTG9jYWxlRGF0ZVsnZGF0ZSddLFxyXG4gICAgICAgICAgICAgICAgdGltZTogdGhpcy5sb2NhbGVXb3Jkcy50aUxvY2FsZURhdGVbJ3RpbWUnXVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZm9ybWF0IOS4uuiBlOWQiOexu+WeizrmraTlpITlpITnkIZEYXRldGltZUZvcm1hdOexu+Wei1xyXG4gICAgICAgIHRoaXMuZm9ybWF0ID0gdGhpcy5mb3JtYXQgYXMgVGlEYXRldGltZUZvcm1hdDtcclxuICAgICAgICAvLyDml6XmnJ/moLzlvI/moKHpqoxcclxuICAgICAgICBpZiAoIVV0aWwuaXNTdHJpbmcodGhpcy5mb3JtYXQuZGF0ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtYXQuZGF0ZSA9IHRoaXMubG9jYWxlV29yZHMudGlMb2NhbGVEYXRlWydkYXRlJ107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDml6XmnJ/moLzlvI/moKHpqoxcclxuICAgICAgICBpZiAoIVV0aWwuaXNTdHJpbmcodGhpcy5mb3JtYXQudGltZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtYXQudGltZSA9IHRoaXMubG9jYWxlV29yZHMudGlMb2NhbGVEYXRlWyd0aW1lJ107XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5Yik5patcmFuZ2XnsbvlnovnmoRtb2RlbOaYr+WQpuWPmOWMlu+8muavlOi+g+i1t+Wni+aXtumXtOWSjOe7k+adn+aXtumXtFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmFuZ2VWYWx1ZUlzRXF1YWwobmV3VmFsdWU6IFRpRGF0ZVZhbHVlLCBvbGRWYWx1ZTogVGlEYXRlVmFsdWUsIGlzRGF0ZXRpbWU6IGJvb2xlYW4pOiBib29sZWFuIHtcclxuICAgICAgICBpZiAobmV3VmFsdWUgPT09IG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKChuZXdWYWx1ZSBpbnN0YW5jZW9mIE9iamVjdCkgJiYgKG9sZFZhbHVlIGluc3RhbmNlb2YgT2JqZWN0KSkge1xyXG4gICAgICAgICAgICBpZiAoaXNEYXRldGltZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChUaURhdGVVdGlsLmlzRGF0ZXRpbWVFcXVhbChuZXdWYWx1ZVsnYmVnaW4nXSwgb2xkVmFsdWVbJ2JlZ2luJ10pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGlEYXRlVXRpbC5pc0RhdGV0aW1lRXF1YWwobmV3VmFsdWVbJ2VuZCddLCBvbGRWYWx1ZVsnZW5kJ10pKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoVGlEYXRlVXRpbC5pc0RhdGVFcXVhbChuZXdWYWx1ZVsnYmVnaW4nXSwgb2xkVmFsdWVbJ2JlZ2luJ10pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGlEYXRlVXRpbC5pc0RhdGVFcXVhbChuZXdWYWx1ZVsnZW5kJ10sIG9sZFZhbHVlWydlbmQnXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g5Yqo5oCB55uR5ZCs5aSE55CGIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIG1vZGVs5YC85Yqo5oCB5Y+Y5pu077ya5pSv5oyB5LuF5L+u5pS5YmVnaW7miJZlbmTlgLxcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldE1vZGVsKGlzRGF0ZXRpbWU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5yYW5nZVZhbHVlSXNFcXVhbCh0aGlzLm1vZGVsLCB0aGlzLm9sZE1vZGVsIGFzIFRpRGF0ZVZhbHVlLCBpc0RhdGV0aW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBtb2RlbOS4rWJlZ2lu5oiW6ICFZW5k5YC855qE5Y+Y5pu0XHJcbiAgICAgICAgdGhpcy5mb3JtYXRWYWx1ZSgpO1xyXG5cclxuICAgICAgICAvLyDpgJrov4fmjInpkq7mlLnlj5htb2RlbOWAvO+8muW9k+mdouadv+WkhOS6juaJk+W8gOeKtuaAgeaXtumcgOimgemHjeaWsOiuvue9rumdouadv+aOpeWPo1xyXG4gICAgICAgIGlmICh0aGlzLmRyb3BDb20uaXNTaG93KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UGlja2VyRGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5vbGRNb2RlbCA9ICh0aGlzLm1vZGVsID09PSBudWxsKSA/IG51bGwgOiB7XHJcbiAgICAgICAgICAgIGJlZ2luOiB0aGlzLm1vZGVsLmJlZ2luLFxyXG4gICAgICAgICAgICBlbmQ6IHRoaXMubW9kZWwuZW5kXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIGRhdGV0aW1l5LiOZGF0ZXRpbWVSYW5nZee7hOS7tmZvcm1hdOWKqOaAgeWPmOabtFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0Rm9ybWF0KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmZvcm1hdCAmJiB0aGlzLmZvcm1hdFsnZGF0ZSddID09PSB0aGlzLm9sZEZvcm1hdFsnZGF0ZSddICYmXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0Wyd0aW1lJ10gPT09IHRoaXMub2xkRm9ybWF0Wyd0aW1lJ10pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkRGF0ZXRpbWVGb3JtYXQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1hdCA9IHRoaXMub2xkRm9ybWF0O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mb3JtYXRWYWx1ZSgpO1xyXG4gICAgICAgIHRoaXMub2xkRm9ybWF0ID0gdGhpcy5mb3JtYXQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaG93KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLnBhcmVudE5vZGUodGhpcy5kcm9wQ29tLm5hdGl2ZUVsZW1lbnQpID09PSBkb2N1bWVudC5ib2R5KSB7XHJcbiAgICAgICAgICAgdGhpcy5kcm9wQ29tLnNob3coKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyDkvb/nlKhzZXRUaW1lb3V05piv5Li65LqG5L+d6K+BZGF0ZXBhbmVs5riy5p+T5a6M5oiQ5ZCO5YaN5pi+56S677yM5ZCm5YiZ6aaW5qyh5omT5byA5pe25a6a5L2N6K6h566X5LiN5YeG56GuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcm9wQ29tLnNob3coKTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5Yaz5a6a5LiK5LiL5L2N572u55qE5Ye95pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkZXRlcm1pblBvc2l0aW9uRm46IChsYXlvdXQ6IGFueSkgPT4gc3RyaW5nID0gKGxheW91dDogYW55KSA9PiAge1xyXG4gICAgICAgIGNvbnN0IG5lZWRIZWlnaHQ6IG51bWJlciA9IGxheW91dC50YXJnZXRMYXlvdXQuaGVpZ2h0ICsgVGlEYXRlQmFzZUNvbXBvbmVudC5ET01JTkFUT1JfU1BBQ0UgKyBUaURhdGVCYXNlQ29tcG9uZW50LkJST1dTRVJfU1BBQ0U7XHJcbiAgICAgICAgaWYgKGxheW91dC5hdmlsYWJsZUxheW91dC5ib3R0b20gPj0gbmVlZEhlaWdodCkgeyAvLyDkuIvmlrnnqbrpl7TotrPlpJ/vvIzlkJHkuIvlsZXlvIBcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFuZWxBbGlnbiA9PT0gJ2xlZnQnID8gJ2JvdHRvbS1sZWZ0JyA6ICdib3R0b20tcmlnaHQnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhbmVsQWxpZ24gPT09ICdsZWZ0JyA/ICd0b3AtbGVmdCcgOiAndG9wLXJpZ2h0JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g6ZyA6KaB5Zyo5a2Q57G75Lit5a6e546wIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIDAu5Yik5pat5piv5LiN5piv5ZCI5rOV55qEbW9kZWxcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGlzVmFsaWRWYWx1ZSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiAxLumFjee9ruaXtumXtOaXpeacn+mdouadv+aOpeWPo1xyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgc2V0UGlja2VyRGF0ZSgpOiB2b2lkIHt9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiAyLuagueaNrmZvcm1hdOagvOW8j21vZGVs5YC8XHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBmb3JtYXRWYWx1ZSgpOiB2b2lkIHt9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiAzLuagueaNruW9k+WJjeWAvOiuvue9ruehruiupOaMiemSrueahOeKtuaAgVxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgc2V0T2tCdG5TdGF0ZSgpOiB2b2lkIHt9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDotbflp4vpnaLmnb/ml6XmnJ/mnInlj5jljJbml7bvvIzopoHph43mlrDorr7nva7lhbZ0aW1l57uE5Lu25a+55bqU5pyA5aSn5YC8IGRhdGV0aW1lUmFuZ2Xnu4Tku7bkuK3lrp7njrDmraTmlrnms5VcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIHNldEJlZ2luVGltZU1heFZhbHVlKCk6IHZvaWQge31cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOi1t+Wni+mdouadv+aXpeacn+acieWPmOWMluaXtu+8jOimgemHjeaWsOiuvue9ruWFtnRpbWXnu4Tku7blr7nlupTmnIDlsI/lgLwgZGF0ZXRpbWVSYW5nZee7hOS7tuS4reWunueOsOatpOaWueazlVxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgc2V0QmVnaW5UaW1lTWluVmFsdWUoKTogdm9pZCB7fVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog57uT5p2f5pel5pyf5pyJ5Y+Y5YyW5pe277yM6KaB6YeN5paw6K6+572u5YW2dGltZee7hOS7tuWvueW6lOacgOWkp+WAvCBkYXRldGltZVJhbmdl57uE5Lu25Lit5a6e546w5q2k5pa55rOVXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBzZXRFbmRUaW1lTWF4VmFsdWUoKTogdm9pZCB7fVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog57uT5p2f5pel5pyf5pyJ5Y+Y5YyW5pe277yM6KaB6YeN5paw6K6+572u5YW2dGltZee7hOS7tuWvueW6lOacgOWwj+WAvCBkYXRldGltZVJhbmdl57uE5Lu25Lit5a6e546w5q2k5pa55rOVXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBzZXRFbmRUaW1lTWluVmFsdWUoKTogdm9pZCB7fVxyXG59XHJcbiJdfQ==