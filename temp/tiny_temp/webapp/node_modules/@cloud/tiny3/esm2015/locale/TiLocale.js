import { zh_CN } from './i18n/zh_CN';
import { en_US } from './i18n/en_US';
import { de_DE } from './i18n/de_DE';
import { es_ES } from './i18n/es_ES';
import { es_US } from './i18n/es_US';
import { fr_FR } from './i18n/fr_FR';
import { pt_BR } from './i18n/pt_BR';
import { Util } from '../utils/Util';
/**
 * Tiny组件中使用的国际化词条配置方法类
 *
 * 可通过在启动模块中通过配置具体的国际化语种的方式设置组件的国际化，使用方式如下：
 *
 *
 *      import {TiLocale} from '@cloud/tiny3';
 *
 *      export class AppModule {
 *
 *          constructor() {
 *              TiLocale.setLocale(TiLocale.EN_US);
 *          }
 *      }
 *
 * <h3>示例</h3>
 * <iframe src="../tiny3demo/#/locale/locale-basic" frameborder='0' width="100%" onload="this.height = document.documentElement.clientHeight"></iframe>
 */
export class TiLocale {
    /**
     * 静态代码段执行：如过word和locale未初始化，那么执行初始化。
     */
    static initWordsAndLocale() {
        if (!TiLocale.getWords()) {
            // 默认所有语言都打包进来
            TiLocale.setWords({
                'zh-CN': zh_CN,
                'en-US': en_US,
                'de-DE': de_DE,
                'es-ES': es_ES,
                'es-US': es_US,
                'fr-FR': fr_FR,
                'pt-BR': pt_BR
            });
        }
        if (!TiLocale.getLocale()) {
            TiLocale.setLocale(TiLocale.ZH_CN);
        }
    }
    /**
     * Sets words
     * @param Words 全量的语言包，由语言名称：语言词条包组成。
     *
     * @returns words
     */
    static setWords(words) {
        // 设计缺陷：如果tiWords放在类成员变量上，会更好。window在SSR环境找不到。
        if (typeof window !== 'undefined') {
            window.tiWords = words;
        }
        else if (typeof global !== 'undefined') {
            global.tiWords = words;
        }
    }
    static getWords() {
        if (typeof window !== 'undefined') {
            return window.tiWords;
        }
        else if (typeof global !== 'undefined') {
            return global.tiWords;
        }
    }
    /**
     * 设置组件国际化语种
     * @param locale 国际化字符，可通过TiLocale.ZH_CN/TiLocale.EN_US等语种关键字设置参数
     */
    static setLocale(locale) {
        if (typeof window !== 'undefined') {
            window.tiLocale = locale;
        }
        else if (typeof global !== 'undefined') {
            global.tiLocale = locale;
        }
    }
    static getLocale() {
        if (typeof window !== 'undefined') {
            return window.tiLocale;
        }
        else if (typeof global !== 'undefined') {
            return global.tiLocale;
        }
    }
    /**
     * 设置组件国际化语种
     * @param localeKey 国际化字符，可通过TiLocale.ZH_CN/TiLocale.EN_US等语种关键字设置参数
     */
    /**
     * @ignore
     * 获取当前语言下，组件国际化语种对应的词条集合
     */
    static getLocaleWords() {
        return TiLocale.getWords()[TiLocale.getLocale()];
    }
    /**
     * @ignore
     * 获取单个词条的国际化文本/对象
     * 参数：
     */
    static translate(keyValue, params) {
        const keyArr = keyValue.split('.');
        let value = TiLocale.getLocaleWords();
        keyArr.forEach((key) => {
            value = value[key];
        });
        return Util.formatEntry(value, params);
    }
}
/**
 * 英文语种关键字，关键字均使用中划线形式命名，确保和浏览器保持一致
 */
TiLocale.EN_US = 'en-US';
/**
 * 语种关键字
 */
TiLocale.ZH_CN = 'zh-CN';
/**
 * 语种关键字
 */
TiLocale.DE_DE = 'de-DE';
/**
 * 语种关键字
 */
TiLocale.ES_ES = 'es-ES';
/**
 * 语种关键字
 */
TiLocale.ES_US = 'es-US';
/**
 * 语种关键字
 */
TiLocale.FR_FR = 'fr-FR';
/**
 * 语种关键字
 */
TiLocale.PT_BR = 'pt-BR';
// private static localeKey: string = TiLocale.ZH_CN; // 语种关键字
/**
 * Typescript没有静态代码段，所以这样代替静态代码段
 */
TiLocale.staticCode = TiLocale.initWordsAndLocale();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGlMb2NhbGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9AY2xvdWQvdGlueTMvbG9jYWxlL1RpTG9jYWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDckMsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNyQyxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3JDLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDckMsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNyQyxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3JDLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDckMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUlyQzs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpQkc7QUFDSCxNQUFNLE9BQU8sUUFBUTtJQW9DakI7O09BRUc7SUFDSyxNQUFNLENBQUMsa0JBQWtCO1FBQzdCLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLEVBQUU7WUFDdEIsY0FBYztZQUNkLFFBQVEsQ0FBQyxRQUFRLENBQUM7Z0JBQ2QsT0FBTyxFQUFFLEtBQUs7Z0JBQ2QsT0FBTyxFQUFFLEtBQUs7Z0JBQ2QsT0FBTyxFQUFFLEtBQUs7Z0JBQ2QsT0FBTyxFQUFFLEtBQUs7Z0JBQ2QsT0FBTyxFQUFFLEtBQUs7Z0JBQ2QsT0FBTyxFQUFFLEtBQUs7Z0JBQ2QsT0FBTyxFQUFFLEtBQUs7YUFDakIsQ0FBQyxDQUFDO1NBQ047UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxFQUFFO1lBQ3ZCLFFBQVEsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3RDO0lBQ0wsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0ksTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFVO1FBQzdCLDhDQUE4QztRQUM5QyxJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRTtZQUM5QixNQUFjLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztTQUNuQzthQUFNLElBQUcsT0FBTyxNQUFNLEtBQUssV0FBVyxFQUFDO1lBQ25DLE1BQWMsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1NBQ25DO0lBQ0wsQ0FBQztJQUNNLE1BQU0sQ0FBQyxRQUFRO1FBQ2xCLElBQUksT0FBTyxNQUFNLEtBQUssV0FBVyxFQUFFO1lBQy9CLE9BQVEsTUFBYyxDQUFDLE9BQU8sQ0FBQztTQUNsQzthQUFNLElBQUcsT0FBTyxNQUFNLEtBQUssV0FBVyxFQUFDO1lBQ3BDLE9BQVEsTUFBYyxDQUFDLE9BQU8sQ0FBQztTQUNsQztJQUNMLENBQUM7SUFDRDs7O09BR0c7SUFDSSxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQWM7UUFDbEMsSUFBSSxPQUFPLE1BQU0sS0FBSyxXQUFXLEVBQUU7WUFDOUIsTUFBYyxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7U0FDckM7YUFBTSxJQUFHLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBQztZQUNuQyxNQUFjLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztTQUNyQztJQUNMLENBQUM7SUFDTyxNQUFNLENBQUMsU0FBUztRQUNwQixJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRTtZQUMvQixPQUFRLE1BQWMsQ0FBQyxRQUFRLENBQUM7U0FDbkM7YUFBTSxJQUFHLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBQztZQUNwQyxPQUFRLE1BQWMsQ0FBQyxRQUFRLENBQUM7U0FDbkM7SUFDTCxDQUFDO0lBRUQ7OztPQUdHO0lBRUg7OztPQUdHO0lBQ0ksTUFBTSxDQUFDLGNBQWM7UUFDeEIsT0FBTyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUNEOzs7O09BSUc7SUFDSSxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQWdCLEVBQUUsTUFBbUI7UUFDekQsTUFBTSxNQUFNLEdBQWtCLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbEQsSUFBSSxLQUFLLEdBQVEsUUFBUSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQzNDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFXLEVBQUUsRUFBRTtZQUMzQixLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZCLENBQUMsQ0FBQyxDQUFDO1FBRUgsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztJQUMzQyxDQUFDOztBQXpIRDs7R0FFRztBQUNvQixjQUFLLEdBQVcsT0FBTyxDQUFDO0FBQy9DOztHQUVHO0FBQ29CLGNBQUssR0FBVyxPQUFPLENBQUM7QUFDL0M7O0dBRUc7QUFDb0IsY0FBSyxHQUFXLE9BQU8sQ0FBQztBQUMvQzs7R0FFRztBQUNvQixjQUFLLEdBQVcsT0FBTyxDQUFDO0FBQy9DOztHQUVHO0FBQ29CLGNBQUssR0FBVyxPQUFPLENBQUM7QUFDL0M7O0dBRUc7QUFDb0IsY0FBSyxHQUFXLE9BQU8sQ0FBQztBQUMvQzs7R0FFRztBQUNvQixjQUFLLEdBQVcsT0FBTyxDQUFDO0FBRS9DLDhEQUE4RDtBQUU5RDs7R0FFRztBQUNjLG1CQUFVLEdBQVMsUUFBUSxDQUFDLGtCQUFrQixFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6aF9DTiB9IGZyb20gJy4vaTE4bi96aF9DTic7XHJcbmltcG9ydCB7IGVuX1VTIH0gZnJvbSAnLi9pMThuL2VuX1VTJztcclxuaW1wb3J0IHsgZGVfREUgfSBmcm9tICcuL2kxOG4vZGVfREUnO1xyXG5pbXBvcnQgeyBlc19FUyB9IGZyb20gJy4vaTE4bi9lc19FUyc7XHJcbmltcG9ydCB7IGVzX1VTIH0gZnJvbSAnLi9pMThuL2VzX1VTJztcclxuaW1wb3J0IHsgZnJfRlIgfSBmcm9tICcuL2kxOG4vZnJfRlInO1xyXG5pbXBvcnQgeyBwdF9CUiB9IGZyb20gJy4vaTE4bi9wdF9CUic7XHJcbmltcG9ydCB7IFV0aWwgfSBmcm9tICcuLi91dGlscy9VdGlsJztcclxuXHJcbmRlY2xhcmUgbGV0IGdsb2JhbDogYW55O1xyXG5cclxuLyoqXHJcbiAqIFRpbnnnu4Tku7bkuK3kvb/nlKjnmoTlm73pmYXljJbor43mnaHphY3nva7mlrnms5XnsbtcclxuICpcclxuICog5Y+v6YCa6L+H5Zyo5ZCv5Yqo5qih5Z2X5Lit6YCa6L+H6YWN572u5YW35L2T55qE5Zu96ZmF5YyW6K+t56eN55qE5pa55byP6K6+572u57uE5Lu255qE5Zu96ZmF5YyW77yM5L2/55So5pa55byP5aaC5LiL77yaXHJcbiAqXHJcbiAqXHJcbiAqICAgICAgaW1wb3J0IHtUaUxvY2FsZX0gZnJvbSAnQGNsb3VkL3RpbnkzJztcclxuICpcclxuICogICAgICBleHBvcnQgY2xhc3MgQXBwTW9kdWxlIHtcclxuICpcclxuICogICAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAqICAgICAgICAgICAgICBUaUxvY2FsZS5zZXRMb2NhbGUoVGlMb2NhbGUuRU5fVVMpO1xyXG4gKiAgICAgICAgICB9XHJcbiAqICAgICAgfVxyXG4gKlxyXG4gKiA8aDM+56S65L6LPC9oMz5cclxuICogPGlmcmFtZSBzcmM9XCIuLi90aW55M2RlbW8vIy9sb2NhbGUvbG9jYWxlLWJhc2ljXCIgZnJhbWVib3JkZXI9JzAnIHdpZHRoPVwiMTAwJVwiIG9ubG9hZD1cInRoaXMuaGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFwiPjwvaWZyYW1lPlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRpTG9jYWxlIHtcclxuICAgIC8qKlxyXG4gICAgICog6Iux5paH6K+t56eN5YWz6ZSu5a2X77yM5YWz6ZSu5a2X5Z2H5L2/55So5Lit5YiS57q/5b2i5byP5ZG95ZCN77yM56Gu5L+d5ZKM5rWP6KeI5Zmo5L+d5oyB5LiA6Ie0XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRU5fVVM6IHN0cmluZyA9ICdlbi1VUyc7XHJcbiAgICAvKipcclxuICAgICAqIOivreenjeWFs+mUruWtl1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFpIX0NOOiBzdHJpbmcgPSAnemgtQ04nO1xyXG4gICAgLyoqXHJcbiAgICAgKiDor63np43lhbPplK7lrZdcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBERV9ERTogc3RyaW5nID0gJ2RlLURFJztcclxuICAgIC8qKlxyXG4gICAgICog6K+t56eN5YWz6ZSu5a2XXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRVNfRVM6IHN0cmluZyA9ICdlcy1FUyc7XHJcbiAgICAvKipcclxuICAgICAqIOivreenjeWFs+mUruWtl1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVTX1VTOiBzdHJpbmcgPSAnZXMtVVMnO1xyXG4gICAgLyoqXHJcbiAgICAgKiDor63np43lhbPplK7lrZdcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBGUl9GUjogc3RyaW5nID0gJ2ZyLUZSJztcclxuICAgIC8qKlxyXG4gICAgICog6K+t56eN5YWz6ZSu5a2XXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUFRfQlI6IHN0cmluZyA9ICdwdC1CUic7XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBzdGF0aWMgbG9jYWxlS2V5OiBzdHJpbmcgPSBUaUxvY2FsZS5aSF9DTjsgLy8g6K+t56eN5YWz6ZSu5a2XXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUeXBlc2NyaXB05rKh5pyJ6Z2Z5oCB5Luj56CB5q6177yM5omA5Lul6L+Z5qC35Luj5pu/6Z2Z5oCB5Luj56CB5q61XHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgc3RhdGljQ29kZTogdm9pZCA9IFRpTG9jYWxlLmluaXRXb3Jkc0FuZExvY2FsZSgpO1xyXG4gICAgLyoqXHJcbiAgICAgKiDpnZnmgIHku6PnoIHmrrXmiafooYzvvJrlpoLov4d3b3Jk5ZKMbG9jYWxl5pyq5Yid5aeL5YyW77yM6YKj5LmI5omn6KGM5Yid5aeL5YyW44CCXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIGluaXRXb3Jkc0FuZExvY2FsZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIVRpTG9jYWxlLmdldFdvcmRzKCkpIHtcclxuICAgICAgICAgICAgLy8g6buY6K6k5omA5pyJ6K+t6KiA6YO95omT5YyF6L+b5p2lXHJcbiAgICAgICAgICAgIFRpTG9jYWxlLnNldFdvcmRzKHtcclxuICAgICAgICAgICAgICAgICd6aC1DTic6IHpoX0NOLFxyXG4gICAgICAgICAgICAgICAgJ2VuLVVTJzogZW5fVVMsXHJcbiAgICAgICAgICAgICAgICAnZGUtREUnOiBkZV9ERSxcclxuICAgICAgICAgICAgICAgICdlcy1FUyc6IGVzX0VTLFxyXG4gICAgICAgICAgICAgICAgJ2VzLVVTJzogZXNfVVMsXHJcbiAgICAgICAgICAgICAgICAnZnItRlInOiBmcl9GUixcclxuICAgICAgICAgICAgICAgICdwdC1CUic6IHB0X0JSXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIVRpTG9jYWxlLmdldExvY2FsZSgpKSB7XHJcbiAgICAgICAgICAgIFRpTG9jYWxlLnNldExvY2FsZShUaUxvY2FsZS5aSF9DTik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB3b3Jkc1xyXG4gICAgICogQHBhcmFtIFdvcmRzIOWFqOmHj+eahOivreiogOWMhe+8jOeUseivreiogOWQjeensO+8muivreiogOivjeadoeWMhee7hOaIkOOAglxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHdvcmRzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0V29yZHMod29yZHM6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIC8vIOiuvuiuoee8uumZt++8muWmguaenHRpV29yZHPmlL7lnKjnsbvmiJDlkZjlj5jph4/kuIrvvIzkvJrmm7Tlpb3jgIJ3aW5kb3flnKhTU1Lnjq/looPmib7kuI3liLDjgIJcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnRpV29yZHMgPSB3b3JkcztcclxuICAgICAgICB9IGVsc2UgaWYodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAoZ2xvYmFsIGFzIGFueSkudGlXb3JkcyA9IHdvcmRzO1xyXG4gICAgICAgIH0gICBcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0V29yZHMoKTogYW55IHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh3aW5kb3cgYXMgYW55KS50aVdvcmRzO1xyXG4gICAgICAgIH0gZWxzZSBpZih0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAoZ2xvYmFsIGFzIGFueSkudGlXb3JkcztcclxuICAgICAgICB9ICAgICBcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6K6+572u57uE5Lu25Zu96ZmF5YyW6K+t56eNXHJcbiAgICAgKiBAcGFyYW0gbG9jYWxlIOWbvemZheWMluWtl+espu+8jOWPr+mAmui/h1RpTG9jYWxlLlpIX0NOL1RpTG9jYWxlLkVOX1VT562J6K+t56eN5YWz6ZSu5a2X6K6+572u5Y+C5pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0TG9jYWxlKGxvY2FsZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS50aUxvY2FsZSA9IGxvY2FsZTtcclxuICAgICAgICB9IGVsc2UgaWYodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAoZ2xvYmFsIGFzIGFueSkudGlMb2NhbGUgPSBsb2NhbGU7XHJcbiAgICAgICAgfSAgICBcclxuICAgIH1cclxuICAgIHByaXZhdGUgc3RhdGljIGdldExvY2FsZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLnRpTG9jYWxlO1xyXG4gICAgICAgIH0gZWxzZSBpZih0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAoZ2xvYmFsIGFzIGFueSkudGlMb2NhbGU7XHJcbiAgICAgICAgfSAgIFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6K6+572u57uE5Lu25Zu96ZmF5YyW6K+t56eNXHJcbiAgICAgKiBAcGFyYW0gbG9jYWxlS2V5IOWbvemZheWMluWtl+espu+8jOWPr+mAmui/h1RpTG9jYWxlLlpIX0NOL1RpTG9jYWxlLkVOX1VT562J6K+t56eN5YWz6ZSu5a2X6K6+572u5Y+C5pWwXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOiOt+WPluW9k+WJjeivreiogOS4i++8jOe7hOS7tuWbvemZheWMluivreenjeWvueW6lOeahOivjeadoembhuWQiFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldExvY2FsZVdvcmRzKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIFRpTG9jYWxlLmdldFdvcmRzKClbVGlMb2NhbGUuZ2V0TG9jYWxlKCldO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDojrflj5bljZXkuKror43mnaHnmoTlm73pmYXljJbmlofmnKwv5a+56LGhXHJcbiAgICAgKiDlj4LmlbDvvJpcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0cmFuc2xhdGUoa2V5VmFsdWU6IHN0cmluZywgcGFyYW1zPzogQXJyYXk8YW55Pik6IGFueSB7XHJcbiAgICAgICAgY29uc3Qga2V5QXJyOiBBcnJheTxzdHJpbmc+ID0ga2V5VmFsdWUuc3BsaXQoJy4nKTtcclxuICAgICAgICBsZXQgdmFsdWU6IGFueSA9IFRpTG9jYWxlLmdldExvY2FsZVdvcmRzKCk7XHJcbiAgICAgICAga2V5QXJyLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVba2V5XTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFV0aWwuZm9ybWF0RW50cnkodmFsdWUsIHBhcmFtcyk7XHJcbiAgICB9XHJcbn1cclxuIl19