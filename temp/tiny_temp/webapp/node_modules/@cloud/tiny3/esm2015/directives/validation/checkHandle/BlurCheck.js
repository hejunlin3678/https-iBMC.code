import { Util } from '../../../utils/Util';
import { CheckHandle } from './CheckHandle';
/**
 * @ignore
 */
export class BlurCheck extends CheckHandle {
    onStatusChange(ele, formControl) {
        if (this.commonHandle.isFocused(ele)) { // 获取焦点/正在输入情况下,显示/修改tip提示
            this.addTip(ele, this.validationConf, formControl);
            return;
        }
        // 未输入过且未聚焦的情况下,先清除先前校验信息(存在reset即改变untounced状态情况下清除校验信息)
        if (formControl.untouched) {
            this.commonHandle.clearValidMsg(ele); // 清除先前校验信息
            return;
        }
        // 失焦情况下,根据校验结果,显示/清除错误提示
        this.commonHandle.clearValidMsg(ele); // 清除先前校验信息
        this.commonHandle.addValidMsg(ele, this.validationConf, formControl);
    }
    onFocus(ele, formControl) {
        this.commonHandle.clearValidMsg(ele); // 清除先前错误提示信息
        this.addTip(ele, this.validationConf, formControl);
    }
    onBlur(ele, formControl) {
        this.commonHandle.destroyTip(ele); // 清除先前校验信息
        this.commonHandle.addValidMsg(ele, this.validationConf, formControl);
    }
    addTip(ele, validationConf, formControl) {
        this.commonHandle.destroyTip(ele); // 清除先前tip提示信息
        const tipContent = validationConf && validationConf.tip;
        // tip内容无效情况下不做处理
        if (tipContent === '' || Util.isUndefined(tipContent)) {
            return;
        }
        // 添加Tip提示并缓存
        this.commonHandle.generateTip(ele, tipContent, validationConf);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmx1ckNoZWNrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vQGNsb3VkL3RpbnkzL2RpcmVjdGl2ZXMvdmFsaWRhdGlvbi9jaGVja0hhbmRsZS9CbHVyQ2hlY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzNDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFLNUM7O0dBRUc7QUFDSCxNQUFNLE9BQU8sU0FBVSxTQUFRLFdBQVc7SUFDL0IsY0FBYyxDQUFDLEdBQWUsRUFBRSxXQUFzQjtRQUN6RCxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUMsMEJBQTBCO1lBQzdELElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFFbkQsT0FBTztTQUNWO1FBQ0QseURBQXlEO1FBQ3pELElBQUksV0FBVyxDQUFDLFNBQVMsRUFBRTtZQUN2QixJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFdBQVc7WUFFakQsT0FBTztTQUNWO1FBQ0QseUJBQXlCO1FBQ3pCLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsV0FBVztRQUNqRCxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBQ00sT0FBTyxDQUFDLEdBQWUsRUFBRSxXQUFzQjtRQUNsRCxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGFBQWE7UUFDbkQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBQ00sTUFBTSxDQUFDLEdBQWUsRUFBRSxXQUFzQjtRQUNqRCxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFdBQVc7UUFDOUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDekUsQ0FBQztJQUVNLE1BQU0sQ0FBQyxHQUFlLEVBQUUsY0FBa0MsRUFBRSxXQUFzQjtRQUNyRixJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGNBQWM7UUFDakQsTUFBTSxVQUFVLEdBQVcsY0FBYyxJQUFJLGNBQWMsQ0FBQyxHQUFHLENBQUM7UUFDaEUsaUJBQWlCO1FBQ2pCLElBQUksVUFBVSxLQUFLLEVBQUUsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQ25ELE9BQU87U0FDVjtRQUNELGFBQWE7UUFDYixJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsVUFBVSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBQ25FLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFV0aWwgfSBmcm9tICcuLi8uLi8uLi91dGlscy9VdGlsJztcclxuaW1wb3J0IHsgQ2hlY2tIYW5kbGUgfSBmcm9tICcuL0NoZWNrSGFuZGxlJztcclxuLyogdHNsaW50OmRpc2FibGU6bm8taW1wbGljaXQtZGVwZW5kZW5jaWVzICovXHJcbmltcG9ydCB7IE5nQ29udHJvbCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgRWxlbWVudFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUaVZhbGlkYXRpb25Db25maWcgfSBmcm9tICcuLi9UaVZhbGlkYXRpb25JbnRlcmZhY2UnO1xyXG4vKipcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJsdXJDaGVjayBleHRlbmRzIENoZWNrSGFuZGxlIHtcclxuICAgIHB1YmxpYyBvblN0YXR1c0NoYW5nZShlbGU6IEVsZW1lbnRSZWYsIGZvcm1Db250cm9sOiBOZ0NvbnRyb2wpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jb21tb25IYW5kbGUuaXNGb2N1c2VkKGVsZSkpIHsvLyDojrflj5bnhKbngrkv5q2j5Zyo6L6T5YWl5oOF5Ya15LiLLOaYvuekui/kv67mlLl0aXDmj5DnpLpcclxuICAgICAgICAgICAgdGhpcy5hZGRUaXAoZWxlLCB0aGlzLnZhbGlkYXRpb25Db25mLCBmb3JtQ29udHJvbCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOacqui+k+WFpei/h+S4lOacquiBmueEpueahOaDheWGteS4iyzlhYjmuIXpmaTlhYjliY3moKHpqozkv6Hmga8o5a2Y5ZyocmVzZXTljbPmlLnlj5h1bnRvdW5jZWTnirbmgIHmg4XlhrXkuIvmuIXpmaTmoKHpqozkv6Hmga8pXHJcbiAgICAgICAgaWYgKGZvcm1Db250cm9sLnVudG91Y2hlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1vbkhhbmRsZS5jbGVhclZhbGlkTXNnKGVsZSk7IC8vIOa4hemZpOWFiOWJjeagoemqjOS/oeaBr1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDlpLHnhKbmg4XlhrXkuIss5qC55o2u5qCh6aqM57uT5p6cLOaYvuekui/muIXpmaTplJnor6/mj5DnpLpcclxuICAgICAgICB0aGlzLmNvbW1vbkhhbmRsZS5jbGVhclZhbGlkTXNnKGVsZSk7IC8vIOa4hemZpOWFiOWJjeagoemqjOS/oeaBr1xyXG4gICAgICAgIHRoaXMuY29tbW9uSGFuZGxlLmFkZFZhbGlkTXNnKGVsZSwgdGhpcy52YWxpZGF0aW9uQ29uZiwgZm9ybUNvbnRyb2wpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIG9uRm9jdXMoZWxlOiBFbGVtZW50UmVmLCBmb3JtQ29udHJvbDogTmdDb250cm9sKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jb21tb25IYW5kbGUuY2xlYXJWYWxpZE1zZyhlbGUpOyAvLyDmuIXpmaTlhYjliY3plJnor6/mj5DnpLrkv6Hmga9cclxuICAgICAgICB0aGlzLmFkZFRpcChlbGUsIHRoaXMudmFsaWRhdGlvbkNvbmYsIGZvcm1Db250cm9sKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBvbkJsdXIoZWxlOiBFbGVtZW50UmVmLCBmb3JtQ29udHJvbDogTmdDb250cm9sKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jb21tb25IYW5kbGUuZGVzdHJveVRpcChlbGUpOyAvLyDmuIXpmaTlhYjliY3moKHpqozkv6Hmga9cclxuICAgICAgICB0aGlzLmNvbW1vbkhhbmRsZS5hZGRWYWxpZE1zZyhlbGUsIHRoaXMudmFsaWRhdGlvbkNvbmYsIGZvcm1Db250cm9sKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkVGlwKGVsZTogRWxlbWVudFJlZiwgdmFsaWRhdGlvbkNvbmY6IFRpVmFsaWRhdGlvbkNvbmZpZywgZm9ybUNvbnRyb2w6IE5nQ29udHJvbCk6IHZvaWQgey8vIOivpeaWueazleWtkOexu+S8muWkjeWGmVxyXG4gICAgICAgIHRoaXMuY29tbW9uSGFuZGxlLmRlc3Ryb3lUaXAoZWxlKTsgLy8g5riF6Zmk5YWI5YmNdGlw5o+Q56S65L+h5oGvXHJcbiAgICAgICAgY29uc3QgdGlwQ29udGVudDogc3RyaW5nID0gdmFsaWRhdGlvbkNvbmYgJiYgdmFsaWRhdGlvbkNvbmYudGlwO1xyXG4gICAgICAgIC8vIHRpcOWGheWuueaXoOaViOaDheWGteS4i+S4jeWBmuWkhOeQhlxyXG4gICAgICAgIGlmICh0aXBDb250ZW50ID09PSAnJyB8fCBVdGlsLmlzVW5kZWZpbmVkKHRpcENvbnRlbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5re75YqgVGlw5o+Q56S65bm257yT5a2YXHJcbiAgICAgICAgdGhpcy5jb21tb25IYW5kbGUuZ2VuZXJhdGVUaXAoZWxlLCB0aXBDb250ZW50LCB2YWxpZGF0aW9uQ29uZik7XHJcbiAgICB9XHJcbn1cclxuIl19