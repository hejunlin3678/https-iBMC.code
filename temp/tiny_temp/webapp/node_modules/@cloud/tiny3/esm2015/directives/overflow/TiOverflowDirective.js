import { Directive, ElementRef, Input } from '@angular/core';
import { TiOverflowService } from '../../services/overflow/TiOverflowService';
/**
 * 超长情况下文本处理出...并tip提示
 *
 * <example-url>../tiny3demo/#/overflow/overflow-all</example-url>
 */
export class TiOverflowDirective {
    constructor(ele, overflowService) {
        this.ele = ele;
        this.overflowService = overflowService;
        /**
         * 配置文本过长时显示的tip的最大宽度。
         *
         * 3.0.9新增
         */
        this.tiTipMaxWidth = '276px';
    }
    ngOnInit() {
        this.overflowRef = this.overflowService.create(this.ele.nativeElement, {
            tipContent: this.tiTipContent,
            tipPosition: this.tiTipPosition,
            tipHostEleX: this.tiTipHostEleX,
            tipMaxWidth: this.tiTipMaxWidth
        });
    }
    // 服务方式的overflow无法自销毁，因此此处在组件销毁时销毁服务方式生成的组件实例
    ngOnDestroy() {
        if (this.overflowRef) {
            this.overflowRef.destroy();
        }
    }
}
TiOverflowDirective.decorators = [
    { type: Directive, args: [{
                selector: '[tiOverflow]:not([maxLine])'
            },] }
];
TiOverflowDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: TiOverflowService }
];
TiOverflowDirective.propDecorators = {
    tiOverflow: [{ type: Input }],
    tiTipContent: [{ type: Input }],
    tiTipPosition: [{ type: Input }],
    tiTipMaxWidth: [{ type: Input }],
    tiTipHostEleX: [{ type: Input }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGlPdmVyZmxvd0RpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL0BjbG91ZC90aW55My9kaXJlY3RpdmVzL292ZXJmbG93L1RpT3ZlcmZsb3dEaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFVLE1BQU0sZUFBZSxDQUFDO0FBQ3JFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLDJDQUEyQyxDQUFDO0FBRzlFOzs7O0dBSUc7QUFJSCxNQUFNLE9BQU8sbUJBQW1CO0lBeUIxQixZQUFvQixHQUFlLEVBQVUsZUFBa0M7UUFBM0QsUUFBRyxHQUFILEdBQUcsQ0FBWTtRQUFVLG9CQUFlLEdBQWYsZUFBZSxDQUFtQjtRQVovRTs7OztXQUlHO1FBQ00sa0JBQWEsR0FBVyxPQUFPLENBQUM7SUFRekMsQ0FBQztJQUNELFFBQVE7UUFDRixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFO1lBQ2pFLFVBQVUsRUFBRSxJQUFJLENBQUMsWUFBWTtZQUM3QixXQUFXLEVBQUUsSUFBSSxDQUFDLGFBQWE7WUFDL0IsV0FBVyxFQUFFLElBQUksQ0FBQyxhQUFhO1lBQy9CLFdBQVcsRUFBRSxJQUFJLENBQUMsYUFBYTtTQUNwQyxDQUFDLENBQUM7SUFDVCxDQUFDO0lBQ0QsNkNBQTZDO0lBQzdDLFdBQVc7UUFDTCxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDaEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUNoQztJQUNQLENBQUM7OztZQTNDTixTQUFTLFNBQUM7Z0JBQ0wsUUFBUSxFQUFFLDZCQUE2QjthQUM1Qzs7O1lBWG1CLFVBQVU7WUFDckIsaUJBQWlCOzs7eUJBZW5CLEtBQUs7MkJBSUwsS0FBSzs0QkFJTCxLQUFLOzRCQU1MLEtBQUs7NEJBS0wsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgSW5wdXQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUaU92ZXJmbG93U2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL292ZXJmbG93L1RpT3ZlcmZsb3dTZXJ2aWNlJztcclxuaW1wb3J0IHsgVGlQb3NpdGlvblR5cGUgfSBmcm9tICcuLi8uLi91dGlscy9Qb3NpdGlvbic7XHJcblxyXG4vKipcclxuICog6LaF6ZW/5oOF5Ya15LiL5paH5pys5aSE55CG5Ye6Li4u5bm2dGlw5o+Q56S6XHJcbiAqXHJcbiAqIDxleGFtcGxlLXVybD4uLi90aW55M2RlbW8vIy9vdmVyZmxvdy9vdmVyZmxvdy1hbGw8L2V4YW1wbGUtdXJsPlxyXG4gKi9cclxuQERpcmVjdGl2ZSh7XHJcbiAgICAgIHNlbGVjdG9yOiAnW3RpT3ZlcmZsb3ddOm5vdChbbWF4TGluZV0pJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgVGlPdmVyZmxvd0RpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiDphY3nva7lrr/kuLvlhYPntKDmlK/mjIHmlofmnKzov4fplb/mj5DnpLrlip/og73vvIzkuI3pnIDopoHphY3nva7lsZ7mgKflgLzvvIzlrZjlnKjor6XlsZ7mgKfljbPlj69cclxuICAgICAgICovXHJcbiAgICAgIEBJbnB1dCgpIHRpT3ZlcmZsb3c6IGFueTtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIOmFjee9ruaWh+acrOi/h+mVv+aXtuaYvuekuueahHRpcOWGheWuue+8jOm7mOiupOS4uuWuv+S4u+WFg+e0oOaWh+acrFxyXG4gICAgICAgKi9cclxuICAgICAgQElucHV0KCkgdGlUaXBDb250ZW50OiBzdHJpbmc7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiDphY3nva7mlofmnKzov4fplb/ml7bmmL7npLrnmoR0aXDkvY3nva5cclxuICAgICAgICovXHJcbiAgICAgIEBJbnB1dCgpIHRpVGlwUG9zaXRpb246IFRpUG9zaXRpb25UeXBlO1xyXG4gICAgICAvKipcclxuICAgICAgICog6YWN572u5paH5pys6L+H6ZW/5pe25pi+56S655qEdGlw55qE5pyA5aSn5a695bqm44CCXHJcbiAgICAgICAqXHJcbiAgICAgICAqIDMuMC455paw5aKeXHJcbiAgICAgICAqL1xyXG4gICAgICBASW5wdXQoKSB0aVRpcE1heFdpZHRoOiBzdHJpbmcgPSAnMjc2cHgnO1xyXG4gICAgICAvKipcclxuICAgICAgICogQGlnbm9yZVxyXG4gICAgICAgKiDlhrPlrpp0aXDmsLTlubPmlrnlkJHkvY3nva7nmoTlrr/kuLvlhYPntKDphY3nva5cclxuICAgICAgICovXHJcbiAgICAgIEBJbnB1dCgpIHRpVGlwSG9zdEVsZVg6IEVsZW1lbnQ7XHJcbiAgICAgIHByaXZhdGUgb3ZlcmZsb3dSZWY6IGFueTtcclxuICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGU6IEVsZW1lbnRSZWYsIHByaXZhdGUgb3ZlcmZsb3dTZXJ2aWNlOiBUaU92ZXJmbG93U2VydmljZSkge1xyXG4gICAgICB9XHJcbiAgICAgIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJmbG93UmVmID0gdGhpcy5vdmVyZmxvd1NlcnZpY2UuY3JlYXRlKHRoaXMuZWxlLm5hdGl2ZUVsZW1lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgdGlwQ29udGVudDogdGhpcy50aVRpcENvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAgIHRpcFBvc2l0aW9uOiB0aGlzLnRpVGlwUG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgIHRpcEhvc3RFbGVYOiB0aGlzLnRpVGlwSG9zdEVsZVgsXHJcbiAgICAgICAgICAgICAgICAgIHRpcE1heFdpZHRoOiB0aGlzLnRpVGlwTWF4V2lkdGhcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8g5pyN5Yqh5pa55byP55qEb3ZlcmZsb3fml6Dms5Xoh6rplIDmr4HvvIzlm6DmraTmraTlpITlnKjnu4Tku7bplIDmr4Hml7bplIDmr4HmnI3liqHmlrnlvI/nlJ/miJDnmoTnu4Tku7blrp7kvotcclxuICAgICAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm92ZXJmbG93UmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMub3ZlcmZsb3dSZWYuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgIH1cclxufVxyXG4iXX0=