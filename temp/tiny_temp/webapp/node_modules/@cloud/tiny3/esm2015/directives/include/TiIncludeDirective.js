import { Directive, ElementRef, Input, Renderer2 } from '@angular/core';
import { Util } from '../../utils/Util';
/**
 * @ignore
 * 此指令功能:清空宿主元素的子元素，将传入的string或Node放入(append)
 *
 * 类似angular.js的ng-bind-html功能
 */
export class TiIncludeDirective {
    constructor(elementRef, renderer) {
        this.elementRef = elementRef;
        this.renderer = renderer;
        this.element = this.elementRef.nativeElement;
    }
    ngOnChanges(changes) {
        if (changes['tiInclude'] && !Util.isUndefined(this.tiInclude)) {
            // 清空宿主元素的子节点
            if (this.element.childNodes.length > 0) {
                this.element.innerHTML = '';
            }
            // 如果 tiInclude 为字符串，则当作文本节点处理
            const node = Util.isString(this.tiInclude) ?
                this.renderer.createText(this.tiInclude) : this.tiInclude;
            this.renderer.appendChild(this.element, node);
        }
    }
}
TiIncludeDirective.decorators = [
    { type: Directive, args: [{
                selector: '[tiInclude]'
            },] }
];
TiIncludeDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
TiIncludeDirective.propDecorators = {
    tiInclude: [{ type: Input }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGlJbmNsdWRlRGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vQGNsb3VkL3RpbnkzL2RpcmVjdGl2ZXMvaW5jbHVkZS9UaUluY2x1ZGVEaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFNBQVMsRUFDVCxVQUFVLEVBQ1YsS0FBSyxFQUVMLFNBQVMsRUFFVixNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFeEM7Ozs7O0dBS0c7QUFJSCxNQUFNLE9BQU8sa0JBQWtCO0lBRzNCLFlBQW9CLFVBQXNCLEVBQVUsUUFBbUI7UUFBbkQsZUFBVSxHQUFWLFVBQVUsQ0FBWTtRQUFVLGFBQVEsR0FBUixRQUFRLENBQVc7UUFDbkUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQztJQUNqRCxDQUFDO0lBRUQsV0FBVyxDQUFDLE9BQXNCO1FBQzlCLElBQUksT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDM0QsYUFBYTtZQUNiLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDcEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO2FBQy9CO1lBQ0QsOEJBQThCO1lBQzlCLE1BQU0sSUFBSSxHQUFTLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQzlDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7WUFDeEUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNqRDtJQUNMLENBQUM7OztZQXJCSixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLGFBQWE7YUFDeEI7OztZQWpCQyxVQUFVO1lBR1YsU0FBUzs7O3dCQWdCTixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBEaXJlY3RpdmUsXHJcbiAgRWxlbWVudFJlZixcclxuICBJbnB1dCxcclxuICBPbkNoYW5nZXMsXHJcbiAgUmVuZGVyZXIyLFxyXG4gIFNpbXBsZUNoYW5nZXNcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbmltcG9ydCB7IFV0aWwgfSBmcm9tICcuLi8uLi91dGlscy9VdGlsJztcclxuXHJcbi8qKlxyXG4gKiBAaWdub3JlXHJcbiAqIOatpOaMh+S7pOWKn+iDvTrmuIXnqbrlrr/kuLvlhYPntKDnmoTlrZDlhYPntKDvvIzlsIbkvKDlhaXnmoRzdHJpbmfmiJZOb2Rl5pS+5YWlKGFwcGVuZClcclxuICpcclxuICog57G75Ly8YW5ndWxhci5qc+eahG5nLWJpbmQtaHRtbOWKn+iDvVxyXG4gKi9cclxuQERpcmVjdGl2ZSh7XHJcbiAgc2VsZWN0b3I6ICdbdGlJbmNsdWRlXSdcclxufSlcclxuZXhwb3J0IGNsYXNzIFRpSW5jbHVkZURpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XHJcbiAgICBASW5wdXQoKSB0aUluY2x1ZGU6IHN0cmluZyB8IE5vZGU7IC8vIOWPquaUr+aMgXN0cmluZ+WSjE5vZGXkuKTnp43nsbvlnotcclxuICAgIHByaXZhdGUgZWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMikge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcclxuICAgICAgICBpZiAoY2hhbmdlc1sndGlJbmNsdWRlJ10gJiYgIVV0aWwuaXNVbmRlZmluZWQodGhpcy50aUluY2x1ZGUpKSB7XHJcbiAgICAgICAgICAgIC8vIOa4heepuuWuv+S4u+WFg+e0oOeahOWtkOiKgueCuVxyXG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOWmguaenCB0aUluY2x1ZGUg5Li65a2X56ym5Liy77yM5YiZ5b2T5L2c5paH5pys6IqC54K55aSE55CGXHJcbiAgICAgICAgICAgIGNvbnN0IG5vZGU6IE5vZGUgPSBVdGlsLmlzU3RyaW5nKHRoaXMudGlJbmNsdWRlKSA/XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHQodGhpcy50aUluY2x1ZGUgYXMgc3RyaW5nKSA6IHRoaXMudGlJbmNsdWRlO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCwgbm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==