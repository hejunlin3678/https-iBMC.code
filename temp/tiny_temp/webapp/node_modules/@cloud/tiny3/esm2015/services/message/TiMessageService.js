import { __rest } from "tslib";
/**
 * 该类对外暴露，以服务的方式提供方法生成message组件
 * open({
 *  id:message id,string类型,用于生成唯一的按钮可测试id，并且防止弹框多次打开（同modal组件）
 *  type:message类型，支持'prompt' | 'warn' | 'error' | 'confirm'，默认为confirm
 *  title:头部title,string类型，可支持string形式的DOM片段
 *  content:内容区域DOM,支持类型为：TemplateRef<any> | Function | string
 *  context:内容区域上下文，类型为Object
 *  okButton:{
 *    text：string，按钮文本显示
 *    click: Function，点击回调
 *    primary: boolean,默认为true,程序中保证了两个按钮中只有一个可为true
 *    autofocus: boolean,默认为true,程序中保证了两个按钮中只有一个可为true
 *    show: boolean，标识按钮是否显示,默认为true
 * }
 *  cancleBtn:{
 *    text：string，按钮文本显示
 *    click: Function，点击回调
 *    primary: boolean,默认为false,程序中保证了两个按钮中只有一个可为true
 *    autofocus: boolean,默认为false,程序中保证了两个按钮中只有一个可为true
 *    show: boolean，标识按钮是否显示,默认为true
 * }
 * })
 */
import { Injectable } from '@angular/core';
import { TiModalService } from '../modal/TiModalService';
import { TiMessageComponent } from './TiMessageComponent';
import { TiMessageModule } from './TiMessageModule';
import * as i0 from "@angular/core";
import * as i1 from "../modal/TiModalService";
import * as i2 from "./TiMessageModule";
/**
 * 消息框组件，使用服务方式生成，使用该服务时需要引入模块TiMessageModule，通过调用TiMessageService.open(config)方法生成弹出框
 *
 * <p><span style="color: red">使用此组件时需要开发者在项目模块(建议在根模块)
 * 中引入BrowserAnimationsModule。</span>这是因为此组件中使用了Angular动画，需要引入BrowserAnimationsModule，
 * 但是 BrowserAnimationsModule 不能在懒加载模块被重复引入，所以需要开发者来引入BrowserAnimationsModule，保证其引入一次。</p>
 *
 * <example-url>../tiny3demo/#/message/message-all</example-url>
 */
export class TiMessageService {
    constructor(tiModal) {
        this.tiModal = tiModal;
    }
    /**
     * 生成消息弹框方法
     * [config] 弹框配置信息
     * 返回 弹框实例信息，使用该实例信息可调用弹框的close等方法；内容为component类型时，也可通过content属性获取内容结果数据
     */
    open(config) {
        const { type, title, content, context, okButton, cancelButton } = config, modalConfig = __rest(config, ["type", "title", "content", "context", "okButton", "cancelButton"]);
        return this.tiModal.open(TiMessageComponent, Object.assign({ context: {
                id: config.id,
                type,
                title,
                content,
                context,
                okButton,
                cancelButton
            }, modalClass: 'ti3-msg-default-width' }, modalConfig));
    }
}
TiMessageService.ɵprov = i0.ɵɵdefineInjectable({ factory: function TiMessageService_Factory() { return new TiMessageService(i0.ɵɵinject(i1.TiModalService)); }, token: TiMessageService, providedIn: i2.TiMessageModule });
TiMessageService.decorators = [
    { type: Injectable, args: [{
                providedIn: TiMessageModule
            },] }
];
TiMessageService.ctorParameters = () => [
    { type: TiModalService }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGlNZXNzYWdlU2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL0BjbG91ZC90aW55My9zZXJ2aWNlcy9tZXNzYWdlL1RpTWVzc2FnZVNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXVCRztBQUNILE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0MsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3pELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQzFELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQzs7OztBQUdwRDs7Ozs7Ozs7R0FRRztBQUlILE1BQU0sT0FBTyxnQkFBZ0I7SUFDekIsWUFBb0IsT0FBdUI7UUFBdkIsWUFBTyxHQUFQLE9BQU8sQ0FBZ0I7SUFDM0MsQ0FBQztJQUNEOzs7O09BSUc7SUFDSSxJQUFJLENBQUMsTUFBd0I7UUFDaEMsTUFBTSxFQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsWUFBWSxLQUFzQyxNQUFNLEVBQXRDLFdBQVcsVUFBcUIsTUFBTSxFQUFsRyxtRUFBd0UsQ0FBMEIsQ0FBQztRQUV6RyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLGtCQUFrQixrQkFDdkMsT0FBTyxFQUFFO2dCQUNMLEVBQUUsRUFBRSxNQUFNLENBQUMsRUFBRTtnQkFDYixJQUFJO2dCQUNKLEtBQUs7Z0JBQ0wsT0FBTztnQkFDUCxPQUFPO2dCQUNQLFFBQVE7Z0JBQ1IsWUFBWTthQUNmLEVBQ0QsVUFBVSxFQUFFLHVCQUF1QixJQUNoQyxXQUFXLEVBQ2hCLENBQUM7SUFDUCxDQUFDOzs7O1lBM0JKLFVBQVUsU0FBQztnQkFDUixVQUFVLEVBQUUsZUFBZTthQUM5Qjs7O1lBaEJRLGNBQWMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog6K+l57G75a+55aSW5pq06Zyy77yM5Lul5pyN5Yqh55qE5pa55byP5o+Q5L6b5pa55rOV55Sf5oiQbWVzc2FnZee7hOS7tlxyXG4gKiBvcGVuKHtcclxuICogIGlkOm1lc3NhZ2UgaWQsc3RyaW5n57G75Z6LLOeUqOS6jueUn+aIkOWUr+S4gOeahOaMiemSruWPr+a1i+ivlWlk77yM5bm25LiU6Ziy5q2i5by55qGG5aSa5qyh5omT5byA77yI5ZCMbW9kYWznu4Tku7bvvIlcclxuICogIHR5cGU6bWVzc2FnZeexu+Wei++8jOaUr+aMgSdwcm9tcHQnIHwgJ3dhcm4nIHwgJ2Vycm9yJyB8ICdjb25maXJtJ++8jOm7mOiupOS4umNvbmZpcm1cclxuICogIHRpdGxlOuWktOmDqHRpdGxlLHN0cmluZ+exu+Wei++8jOWPr+aUr+aMgXN0cmluZ+W9ouW8j+eahERPTeeJh+autVxyXG4gKiAgY29udGVudDrlhoXlrrnljLrln59ET00s5pSv5oyB57G75Z6L5Li677yaVGVtcGxhdGVSZWY8YW55PiB8IEZ1bmN0aW9uIHwgc3RyaW5nXHJcbiAqICBjb250ZXh0OuWGheWuueWMuuWfn+S4iuS4i+aWh++8jOexu+Wei+S4uk9iamVjdFxyXG4gKiAgb2tCdXR0b246e1xyXG4gKiAgICB0ZXh077yac3RyaW5n77yM5oyJ6ZKu5paH5pys5pi+56S6XHJcbiAqICAgIGNsaWNrOiBGdW5jdGlvbu+8jOeCueWHu+Wbnuiwg1xyXG4gKiAgICBwcmltYXJ5OiBib29sZWFuLOm7mOiupOS4unRydWUs56iL5bqP5Lit5L+d6K+B5LqG5Lik5Liq5oyJ6ZKu5Lit5Y+q5pyJ5LiA5Liq5Y+v5Li6dHJ1ZVxyXG4gKiAgICBhdXRvZm9jdXM6IGJvb2xlYW4s6buY6K6k5Li6dHJ1ZSznqIvluo/kuK3kv53or4HkuobkuKTkuKrmjInpkq7kuK3lj6rmnInkuIDkuKrlj6/kuLp0cnVlXHJcbiAqICAgIHNob3c6IGJvb2xlYW7vvIzmoIfor4bmjInpkq7mmK/lkKbmmL7npLos6buY6K6k5Li6dHJ1ZVxyXG4gKiB9XHJcbiAqICBjYW5jbGVCdG46e1xyXG4gKiAgICB0ZXh077yac3RyaW5n77yM5oyJ6ZKu5paH5pys5pi+56S6XHJcbiAqICAgIGNsaWNrOiBGdW5jdGlvbu+8jOeCueWHu+Wbnuiwg1xyXG4gKiAgICBwcmltYXJ5OiBib29sZWFuLOm7mOiupOS4umZhbHNlLOeoi+W6j+S4reS/neivgeS6huS4pOS4quaMiemSruS4reWPquacieS4gOS4quWPr+S4unRydWVcclxuICogICAgYXV0b2ZvY3VzOiBib29sZWFuLOm7mOiupOS4umZhbHNlLOeoi+W6j+S4reS/neivgeS6huS4pOS4quaMiemSruS4reWPquacieS4gOS4quWPr+S4unRydWVcclxuICogICAgc2hvdzogYm9vbGVhbu+8jOagh+ivhuaMiemSruaYr+WQpuaYvuekuizpu5jorqTkuLp0cnVlXHJcbiAqIH1cclxuICogfSlcclxuICovXHJcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVGlNb2RhbFJlZiB9IGZyb20gJy4uL21vZGFsL1RpTW9kYWxNb2R1bGUnO1xyXG5pbXBvcnQgeyBUaU1vZGFsU2VydmljZSB9IGZyb20gJy4uL21vZGFsL1RpTW9kYWxTZXJ2aWNlJztcclxuaW1wb3J0IHsgVGlNZXNzYWdlQ29tcG9uZW50IH0gZnJvbSAnLi9UaU1lc3NhZ2VDb21wb25lbnQnO1xyXG5pbXBvcnQgeyBUaU1lc3NhZ2VNb2R1bGUgfSBmcm9tICcuL1RpTWVzc2FnZU1vZHVsZSc7XHJcbmltcG9ydCB7IFRpTWVzc2FnZUNvbmZpZyB9IGZyb20gJy4vVGlNZXNzYWdlSW50ZXJmYWNlJztcclxuXHJcbi8qKlxyXG4gKiDmtojmga/moYbnu4Tku7bvvIzkvb/nlKjmnI3liqHmlrnlvI/nlJ/miJDvvIzkvb/nlKjor6XmnI3liqHml7bpnIDopoHlvJXlhaXmqKHlnZdUaU1lc3NhZ2VNb2R1bGXvvIzpgJrov4fosIPnlKhUaU1lc3NhZ2VTZXJ2aWNlLm9wZW4oY29uZmlnKeaWueazleeUn+aIkOW8ueWHuuahhlxyXG4gKlxyXG4gKiA8cD48c3BhbiBzdHlsZT1cImNvbG9yOiByZWRcIj7kvb/nlKjmraTnu4Tku7bml7bpnIDopoHlvIDlj5HogIXlnKjpobnnm67mqKHlnZco5bu66K6u5Zyo5qC55qih5Z2XKVxyXG4gKiDkuK3lvJXlhaVCcm93c2VyQW5pbWF0aW9uc01vZHVsZeOAgjwvc3Bhbj7ov5nmmK/lm6DkuLrmraTnu4Tku7bkuK3kvb/nlKjkuoZBbmd1bGFy5Yqo55S777yM6ZyA6KaB5byV5YWlQnJvd3NlckFuaW1hdGlvbnNNb2R1bGXvvIxcclxuICog5L2G5pivIEJyb3dzZXJBbmltYXRpb25zTW9kdWxlIOS4jeiDveWcqOaHkuWKoOi9veaooeWdl+iiq+mHjeWkjeW8leWFpe+8jOaJgOS7pemcgOimgeW8gOWPkeiAheadpeW8leWFpUJyb3dzZXJBbmltYXRpb25zTW9kdWxl77yM5L+d6K+B5YW25byV5YWl5LiA5qyh44CCPC9wPlxyXG4gKlxyXG4gKiA8ZXhhbXBsZS11cmw+Li4vdGlueTNkZW1vLyMvbWVzc2FnZS9tZXNzYWdlLWFsbDwvZXhhbXBsZS11cmw+XHJcbiAqL1xyXG5ASW5qZWN0YWJsZSh7XHJcbiAgICBwcm92aWRlZEluOiBUaU1lc3NhZ2VNb2R1bGVcclxufSlcclxuZXhwb3J0IGNsYXNzIFRpTWVzc2FnZVNlcnZpY2Uge1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSB0aU1vZGFsOiBUaU1vZGFsU2VydmljZSkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDnlJ/miJDmtojmga/lvLnmoYbmlrnms5VcclxuICAgICAqIFtjb25maWddIOW8ueahhumFjee9ruS/oeaBr1xyXG4gICAgICog6L+U5ZueIOW8ueahhuWunuS+i+S/oeaBr++8jOS9v+eUqOivpeWunuS+i+S/oeaBr+WPr+iwg+eUqOW8ueahhueahGNsb3Nl562J5pa55rOV77yb5YaF5a655Li6Y29tcG9uZW5057G75Z6L5pe277yM5Lmf5Y+v6YCa6L+HY29udGVudOWxnuaAp+iOt+WPluWGheWuuee7k+aenOaVsOaNrlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb3Blbihjb25maWc/OiBUaU1lc3NhZ2VDb25maWcpOiBUaU1vZGFsUmVmIHtcclxuICAgICAgICBjb25zdCB7dHlwZSwgdGl0bGUsIGNvbnRlbnQsIGNvbnRleHQsIG9rQnV0dG9uLCBjYW5jZWxCdXR0b24sICAuLi5tb2RhbENvbmZpZ306IFRpTWVzc2FnZUNvbmZpZyA9IGNvbmZpZztcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGlNb2RhbC5vcGVuKFRpTWVzc2FnZUNvbXBvbmVudCwge1xyXG4gICAgICAgICAgICBjb250ZXh0OiB7XHJcbiAgICAgICAgICAgICAgICBpZDogY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICAgIHRpdGxlLFxyXG4gICAgICAgICAgICAgICAgY29udGVudCxcclxuICAgICAgICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICAgICAgICBva0J1dHRvbixcclxuICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtb2RhbENsYXNzOiAndGkzLW1zZy1kZWZhdWx0LXdpZHRoJyxcclxuICAgICAgICAgICAgLi4ubW9kYWxDb25maWdcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iXX0=