import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';
/**
 * 主题工具类
 *
 * <h3>示例</h3>
 * <iframe src="../tiny3demo/#/theme/theme-basic" frameborder='0' width="100%" onload="this.height = document.documentElement.clientHeight"></iframe>
 */
export class TiTheme {
    /**
     * 加载CSS文件，挂在head link
     * @param cssPath css路径
     * @param id link id
     */
    static loadCss(cssPath, id) {
        let link = document.getElementById(id);
        // 原本没有link，那么创建link
        if (!link) {
            link = document.createElement('link');
            document.head.appendChild(link);
        }
        // 如果link href没变，那么就不处理了。
        if (link.href === cssPath) {
            return;
        }
        link.href = cssPath;
        link.id = id;
        link.rel = 'stylesheet';
        link.type = 'text/css';
        // 被CSSVar补丁处理后，补丁会给link打上disabled。去除disabled，才能再次补丁生效。
        if (link.hasAttribute('disabled')) {
            link.removeAttribute('disabled');
        }
        return link;
    }
    /**
     * 检测浏览器是否原生支持CSSVar
     * @returns 是否支持CSSVar
     */
    static isNativeSupportCssVar() {
        const isBrowser = typeof window !== 'undefined';
        const isNativeSupport = isBrowser && window.CSS && window.CSS.supports && window.CSS.supports('(--a: 0)');
        return isNativeSupport;
    }
    /**
     * 启动AppModule
     * @param app 传入的AppModule
     */
    static bootstrapModule(app) {
        platformBrowserDynamic()
            .bootstrapModule(app)
            .catch((err) => console.error(err));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGlUaGVtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL0BjbG91ZC90aW55My91dGlscy9UaVRoZW1lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBQzNFOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLE9BQU87SUFFaEI7Ozs7T0FJRztJQUNJLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBZSxFQUFFLEVBQVU7UUFDN0MsSUFBSSxJQUFJLEdBQW9CLFFBQVEsQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFvQixDQUFDO1FBRTNFLG9CQUFvQjtRQUNwQixJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1AsSUFBSSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDdEMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDbkM7UUFDRCx5QkFBeUI7UUFDekIsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLE9BQU8sRUFBRTtZQUN2QixPQUFPO1NBQ1Y7UUFDRCxJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQztRQUNwQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxHQUFHLEdBQUcsWUFBWSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxJQUFJLEdBQUcsVUFBVSxDQUFDO1FBRXZCLHVEQUF1RDtRQUN2RCxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFDL0IsSUFBSSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUNwQztRQUVELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDRDs7O09BR0c7SUFDSSxNQUFNLENBQUMscUJBQXFCO1FBQy9CLE1BQU0sU0FBUyxHQUFZLE9BQU8sTUFBTSxLQUFLLFdBQVcsQ0FBQztRQUN6RCxNQUFNLGVBQWUsR0FBWSxTQUFTLElBQUksTUFBTSxDQUFDLEdBQUcsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUVuSCxPQUFPLGVBQWUsQ0FBQztJQUMzQixDQUFDO0lBQ0Q7OztPQUdHO0lBQ0ksTUFBTSxDQUFDLGVBQWUsQ0FBQyxHQUFRO1FBQ2xDLHNCQUFzQixFQUFFO2FBQ25CLGVBQWUsQ0FBQyxHQUFHLENBQUM7YUFDcEIsS0FBSyxDQUFDLENBQUMsR0FBUSxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDakQsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGxhdGZvcm1Ccm93c2VyRHluYW1pYyB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYyc7XHJcbi8qKlxyXG4gKiDkuLvpopjlt6XlhbfnsbtcclxuICpcclxuICogPGgzPuekuuS+izwvaDM+XHJcbiAqIDxpZnJhbWUgc3JjPVwiLi4vdGlueTNkZW1vLyMvdGhlbWUvdGhlbWUtYmFzaWNcIiBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9XCIxMDAlXCIgb25sb2FkPVwidGhpcy5oZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XCI+PC9pZnJhbWU+XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGlUaGVtZSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliqDovb1DU1Pmlofku7bvvIzmjILlnKhoZWFkIGxpbmtcclxuICAgICAqIEBwYXJhbSBjc3NQYXRoIGNzc+i3r+W+hFxyXG4gICAgICogQHBhcmFtIGlkIGxpbmsgaWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBsb2FkQ3NzKGNzc1BhdGg6IHN0cmluZywgaWQ6IHN0cmluZyk6IEhUTUxMaW5rRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IGxpbms6IEhUTUxMaW5rRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSBhcyBIVE1MTGlua0VsZW1lbnQ7XHJcblxyXG4gICAgICAgIC8vIOWOn+acrOayoeaciWxpbmvvvIzpgqPkuYjliJvlu7psaW5rXHJcbiAgICAgICAgaWYgKCFsaW5rKSB7XHJcbiAgICAgICAgICAgIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWmguaenGxpbmsgaHJlZuayoeWPmO+8jOmCo+S5iOWwseS4jeWkhOeQhuS6huOAglxyXG4gICAgICAgIGlmIChsaW5rLmhyZWYgPT09IGNzc1BhdGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsaW5rLmhyZWYgPSBjc3NQYXRoO1xyXG4gICAgICAgIGxpbmsuaWQgPSBpZDtcclxuICAgICAgICBsaW5rLnJlbCA9ICdzdHlsZXNoZWV0JztcclxuICAgICAgICBsaW5rLnR5cGUgPSAndGV4dC9jc3MnO1xyXG5cclxuICAgICAgICAvLyDooqtDU1NWYXLooaXkuIHlpITnkIblkI7vvIzooaXkuIHkvJrnu5lsaW5r5omT5LiKZGlzYWJsZWTjgILljrvpmaRkaXNhYmxlZO+8jOaJjeiDveWGjeasoeihpeS4geeUn+aViOOAglxyXG4gICAgICAgIGlmIChsaW5rLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xyXG4gICAgICAgICAgICBsaW5rLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsaW5rO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmo4DmtYvmtY/op4jlmajmmK/lkKbljp/nlJ/mlK/mjIFDU1NWYXJcclxuICAgICAqIEByZXR1cm5zIOaYr+WQpuaUr+aMgUNTU1ZhclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzTmF0aXZlU3VwcG9ydENzc1ZhcigpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBpc0Jyb3dzZXI6IGJvb2xlYW4gPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcclxuICAgICAgICBjb25zdCBpc05hdGl2ZVN1cHBvcnQ6IGJvb2xlYW4gPSBpc0Jyb3dzZXIgJiYgd2luZG93LkNTUyAmJiB3aW5kb3cuQ1NTLnN1cHBvcnRzICYmIHdpbmRvdy5DU1Muc3VwcG9ydHMoJygtLWE6IDApJyk7XHJcblxyXG4gICAgICAgIHJldHVybiBpc05hdGl2ZVN1cHBvcnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWQr+WKqEFwcE1vZHVsZVxyXG4gICAgICogQHBhcmFtIGFwcCDkvKDlhaXnmoRBcHBNb2R1bGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBib290c3RyYXBNb2R1bGUoYXBwOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljKClcclxuICAgICAgICAgICAgLmJvb3RzdHJhcE1vZHVsZShhcHApXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyOiBhbnkpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcbiAgICB9XHJcbn1cclxuIl19