{"version":3,"file":"TpDiscountsComponent.d.ts","sources":["TpDiscountsComponent.d.ts"],"names":[],"mappings":"AAAA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA","sourcesContent":["import { ElementRef, EventEmitter, Renderer2, SimpleChanges } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\nexport interface TpDiscountDetail {\r\n    /**\r\n     * 折扣种类名称\r\n     */\r\n    name?: string;\r\n    /**\r\n     * 优惠资源名称\r\n     */\r\n    resourceName?: string;\r\n    /**\r\n     * 规格\r\n     */\r\n    specification?: string;\r\n    /**\r\n     * 尺寸\r\n     */\r\n    size?: string;\r\n    /**\r\n     * 详情链接类型\r\n     */\r\n    type?: number;\r\n    /**\r\n     * 折扣率\r\n     */\r\n    rate?: number;\r\n    /**\r\n     * 详情链接内容\r\n     */\r\n    href?: string;\r\n    /**\r\n     * 优惠到期时间\r\n     */\r\n    expireTime?: string;\r\n    /**\r\n     * 优惠金额\r\n     */\r\n    priceNum?: number;\r\n    /**\r\n     * 包周期可选优惠项id\r\n     *\r\n     * 包周期可选择优惠项配置场景必选\r\n     */\r\n    id?: string;\r\n    /**\r\n     * 是否为优选优惠项\r\n     */\r\n    isRecommend?: boolean;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\nexport interface TpDiscoutsConfig {\r\n    /**\r\n     * 优惠场景类型， 如包周期、按需等\r\n     */\r\n    type: 'period' | 'ondemand';\r\n    /**\r\n     * 优惠金额数字位数控制\r\n     * 自定义保留位数，例如：1.2-4，表示整数部分最少保留1位，小数部分最小保留2位，小数部分最大保留4位。\r\n     * 默认值取自各局点\r\n     */\r\n    numFormat?: string;\r\n    /**\r\n     * 包周期已选择优惠项\r\n     */\r\n    selectedDiscounts?: Array<TpDiscountDetail>;\r\n    /**\r\n     * 包周期可选优惠项，被选项ID\r\n     */\r\n    selectedId?: string;\r\n    /**\r\n     * 包周期可选优惠项\r\n     */\r\n    selectableDiscounts?: Array<TpDiscountDetail>;\r\n    /**\r\n     * 按需场景优惠项\r\n     */\r\n    discounts?: Array<TpDiscountDetail>;\r\n    /**\r\n     * 优惠弹窗最大高度\r\n     */\r\n    maxHeight?: number;\r\n    /**\r\n     * 优惠价格单位\r\n     *  10.1.0 新增\r\n     */\r\n    measureUnit?: string;\r\n}\r\n/**\r\n * @ignore\r\n * 优惠场景，主要有包周期场景和按需场景，服务可根据实际类型自行配置。\r\n *\r\n * <example-url>../tinyplus3demo/#/discounts/discounts-all</example-url>\r\n */\r\nexport declare class TpDiscountsComponent extends TiBaseComponent {\r\n    private elementRef;\r\n    private render;\r\n    constructor(elementRef: ElementRef, render: Renderer2);\r\n    /**\r\n     * 优惠数据总配置接口\r\n     */\r\n    discoutsConfig: TpDiscoutsConfig;\r\n    /**\r\n     * 可选优惠项切换选择项时触发\r\n     *\r\n     * 9.0.3 新增接口\r\n     */\r\n    readonly discountsChange: EventEmitter<any>;\r\n    /**\r\n     * @ignore\r\n     */\r\n    fontEle: ElementRef;\r\n    /**\r\n     * @ignore\r\n     */\r\n    containerEle: ElementRef;\r\n    /**\r\n     * @ignore\r\n     */\r\n    beforeEle: ElementRef;\r\n    /**\r\n     * @ignore\r\n     * 用户获取当前语言集合\r\n     */\r\n    localeWords: any;\r\n    /**\r\n     * @ignore\r\n     * 用于获取词条\r\n     */\r\n    tpDiscounts: any;\r\n    /**\r\n     * @ignore\r\n     * 模板使用,判断是否为中文场景\r\n     */\r\n    isChinese: boolean;\r\n    /**\r\n     * @ignore\r\n     * 模板使用,弹窗是否展开标志量\r\n     */\r\n    isOpen: boolean;\r\n    /**\r\n     * @ignore\r\n     * 模板使用,总优惠额\r\n     */\r\n    sum: number;\r\n    /**\r\n     * @ignore\r\n     * 按需场景最终配置\r\n     */\r\n    ondemandDiscountsConfig: Array<TpDiscountDetail>;\r\n    private onlistenClick;\r\n    ngOnInit(): void;\r\n    ngOnChanges(changes: SimpleChanges): void;\r\n    ngAfterViewChecked(): void;\r\n    ngOnDestroy(): void;\r\n    /**\r\n     * @ignore\r\n     * 单选radio点击切换选择项触发\r\n     */\r\n    onRadioChange($event: Event): void;\r\n    /**\r\n     * 点击documnet优惠信息窗口关闭\r\n     */\r\n    private onDocumentClick;\r\n    /**\r\n     * @ignore\r\n     * 点击右上角叉号图标，弹窗关闭\r\n     */\r\n    onClose($event: any): void;\r\n    /**\r\n     * @ignore\r\n     * 模板使用，tip面板点击需要组织冒泡\r\n     */\r\n    onContainerClick($event: any): void;\r\n    /**\r\n     * @ignore\r\n     */\r\n    onClick($event: any): void;\r\n    private getOndemandDiscounts;\r\n    private getData;\r\n    private setDetailLink;\r\n    private getLink;\r\n    /**\r\n     * @ignore\r\n     * 到期时间一周之内才显示\r\n     */\r\n    showExpireTime(val: Date): boolean;\r\n    /**\r\n     * @ignore\r\n     * 到期时间格式化\r\n     */\r\n    getFormatExpireTime(val: Date): any;\r\n    private handleDiscounts;\r\n    private getSelectableDetail;\r\n    private addLinkParams;\r\n    /**\r\n     * 优惠总额\r\n     */\r\n    private setTotalSavings;\r\n    /**\r\n     * @ignore\r\n     *\r\n     * 判断优惠总价格是否为0，总结为0不显示共省部分\r\n     */\r\n    isSumEqualZero(): boolean;\r\n    /**\r\n     * 可选优惠项数据根据实际场景判断是否添加默认尾项\r\n     */\r\n    private setSelectableData;\r\n}\r\n"]}