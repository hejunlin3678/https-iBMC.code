import { Component, Input, ViewChild, ElementRef } from '@angular/core';
import { TiLocale, TiBaseComponent } from '@cloud/tiny3';
/**
 * @ignore
 */
export class TpRenameModalComponent extends TiBaseComponent {
    constructor() {
        super(...arguments);
        this.okLabel = TiLocale.getLocaleWords().tpRename.okButton;
        this.cancelLabel = TiLocale.getLocaleWords().tiCommon.cancelBtn;
        this.validation = {
            errorMessage: {
                regExp: TiLocale.getLocaleWords().tpRename.inValidMessage
            }
        };
    }
    // 此处的close并不是按钮真正的close()，参数form的类型本应是FormGroup，所以没有引入FormGroup，指定为any
    close(form) {
    }
    dismiss() {
    }
    ngOnInit() {
        super.ngOnInit();
        this.model = this.value;
    }
    ngAfterViewInit() {
        this.input.nativeElement.focus();
        this.input.nativeElement.setSelectionRange(0, 0, 'backward');
    }
}
TpRenameModalComponent.decorators = [
    { type: Component, args: [{
                template: "<div class=\"tp-rename-modal-header\" [id]=\"appendId('header')\">{{modalHeader}}</div>\r\n<form #form=\"ngForm\" >\r\n    <input\r\n        #input type=\"text\"\r\n        class=\"tp-rename-modal-input\"\r\n        [(ngModel)]=\"model\"\r\n        [tiValidation]=\"validation\"\r\n        tiRequired\r\n        tiRegExp=\"^[\\u4e00-\\u9fa5a-zA-Z0-9-_]*$\"\r\n        name=\"input\"\r\n        [tiRangeSize]=\"[1, 64]\"\r\n        [id]=\"appendId('input')\"\r\n        tiText>\r\n</form>\r\n<div>\r\n    <button tiButton size=\"small\" color=\"danger\" (click)=\"close(form.form)\" [id]=\"appendId('ok')\">{{okLabel}}</button>\r\n    <button tiButton size=\"small\" style=\"margin-left: 8px;\" (click)=\"dismiss()\" [id]=\"appendId('dismiss')\">{{cancelLabel}}</button>\r\n</div>\r\n",
                styles: [".tp-rename-modal-header{line-height:var(--ti-common-line-height-number)}.tp-rename-modal-input{margin:var(--ti-common-space-2x) 0;width:200px}"]
            },] }
];
TpRenameModalComponent.propDecorators = {
    value: [{ type: Input }],
    modalHeader: [{ type: Input }],
    input: [{ type: ViewChild, args: ['input', { static: true },] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHBSZW5hbWVNb2RhbENvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL0BjbG91ZC90aW55cGx1czMvY29tcG9uZW50cy9yZW5hbWUvVHBSZW5hbWVNb2RhbENvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3hFLE9BQU8sRUFBRSxRQUFRLEVBQXNCLGVBQWUsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUU3RTs7R0FFRztBQU1ILE1BQU0sT0FBTyxzQkFBdUIsU0FBUSxlQUFlO0lBTDNEOztRQVdXLFlBQU8sR0FBVyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztRQUM5RCxnQkFBVyxHQUFXLFFBQVEsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDO1FBR25FLGVBQVUsR0FBdUI7WUFDcEMsWUFBWSxFQUFFO2dCQUNWLE1BQU0sRUFBRSxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUMsUUFBUSxDQUFDLGNBQWM7YUFDNUQ7U0FDSixDQUFDO0lBZ0JOLENBQUM7SUFmRyx1RUFBdUU7SUFDdkUsS0FBSyxDQUFDLElBQVM7SUFDZixDQUFDO0lBQ0QsT0FBTztJQUNQLENBQUM7SUFFRCxRQUFRO1FBQ0osS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUM1QixDQUFDO0lBQ0QsZUFBZTtRQUNYLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLGlCQUFpQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDakUsQ0FBQzs7O1lBakNKLFNBQVMsU0FBQztnQkFDUCwyeEJBQTRDOzthQUUvQzs7O29CQUdJLEtBQUs7MEJBQ0wsS0FBSztvQkFFTCxTQUFTLFNBQUMsT0FBTyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUaUxvY2FsZSwgVGlWYWxpZGF0aW9uQ29uZmlnLCBUaUJhc2VDb21wb25lbnQgfSBmcm9tICdAY2xvdWQvdGlueTMnO1xyXG5cclxuLyoqXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbkBDb21wb25lbnQoe1xyXG4gICAgdGVtcGxhdGVVcmw6ICcuL1RwUmVuYW1lTW9kYWxDb21wb25lbnQuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnLi9yZW5hbWVtb2RhbC5sZXNzJ11cclxufSlcclxuXHJcbmV4cG9ydCBjbGFzcyBUcFJlbmFtZU1vZGFsQ29tcG9uZW50IGV4dGVuZHMgVGlCYXNlQ29tcG9uZW50IHtcclxuICAgIEBJbnB1dCgpIHZhbHVlOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSBtb2RhbEhlYWRlcjogc3RyaW5nO1xyXG5cclxuICAgIEBWaWV3Q2hpbGQoJ2lucHV0JywgeyBzdGF0aWM6IHRydWUgfSkgaW5wdXQ6IEVsZW1lbnRSZWY7XHJcblxyXG4gICAgcHVibGljIG9rTGFiZWw6IHN0cmluZyA9IFRpTG9jYWxlLmdldExvY2FsZVdvcmRzKCkudHBSZW5hbWUub2tCdXR0b247XHJcbiAgICBwdWJsaWMgY2FuY2VsTGFiZWw6IHN0cmluZyA9IFRpTG9jYWxlLmdldExvY2FsZVdvcmRzKCkudGlDb21tb24uY2FuY2VsQnRuO1xyXG4gICAgcHVibGljIG1vZGVsOiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIHZhbGlkYXRpb246IFRpVmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICAgICAgICBlcnJvck1lc3NhZ2U6IHtcclxuICAgICAgICAgICAgcmVnRXhwOiBUaUxvY2FsZS5nZXRMb2NhbGVXb3JkcygpLnRwUmVuYW1lLmluVmFsaWRNZXNzYWdlXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIOatpOWkhOeahGNsb3Nl5bm25LiN5piv5oyJ6ZKu55yf5q2j55qEY2xvc2UoKe+8jOWPguaVsGZvcm3nmoTnsbvlnovmnKzlupTmmK9Gb3JtR3JvdXDvvIzmiYDku6XmsqHmnInlvJXlhaVGb3JtR3JvdXDvvIzmjIflrprkuLphbnlcclxuICAgIGNsb3NlKGZvcm06IGFueSk6IHZvaWQge1xyXG4gICAgfVxyXG4gICAgZGlzbWlzcygpOiB2b2lkIHtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5uZ09uSW5pdCgpO1xyXG4gICAgICAgIHRoaXMubW9kZWwgPSB0aGlzLnZhbHVlO1xyXG4gICAgfVxyXG4gICAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW5wdXQubmF0aXZlRWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgIHRoaXMuaW5wdXQubmF0aXZlRWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCAwLCAnYmFja3dhcmQnKTtcclxuICAgIH1cclxuXHJcbn1cclxuIl19