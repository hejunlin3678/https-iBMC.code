import { Component, EventEmitter, Input, Output } from '@angular/core';
import { TiBaseComponent } from '@cloud/tiny3';
/**
 *  crumb面包屑组件
 *
 * 面包屑组件除最后一级外，其余几级一般都为可跳转的链接，链接地址可以通过href属性设置;
 * 用户也可通过添加事件，实现业务逻辑。
 *
 * <example-url>../tinyplus3demo/#/crumb/crumb-all</example-url>
 */
export class TpCrumbComponent extends TiBaseComponent {
    constructor() {
        super(...arguments);
        /**
         * 用户设置href属性且不是最后一级时，触发事件
         */
        this.select = new EventEmitter();
    }
    /**
     * @ignore
     */
    onClick(item) {
        this.select.emit(item);
        // 不设置链接时，阻止跳转（a标签在click事件返回值为false时，会阻止默认行为）
        if (!item.href) {
            return false;
        }
    }
}
TpCrumbComponent.decorators = [
    { type: Component, args: [{
                selector: 'tp-crumb',
                template: "<ng-container *ngFor=\"let item of items; index as i let last=last;\">\r\n    <ng-container *ngIf=\"!last\">\r\n        <a class=\"tp-crumb-label\"\r\n            rel=\"noopener noreferrer\"\r\n           *ngIf=\"!item.routerLink\"\r\n           [href]=\"item.href\"\r\n           [target]=\"item.target || '_self'\"\r\n           (click)=\"onClick(item)\"\r\n           tiOverflow\r\n           tiTipPosition=\"bottom-left\"\r\n           [id]=\"appendId('label_' + i)\">{{item.label}}</a>\r\n        <a class=\"tp-crumb-label\"\r\n           *ngIf=\"item.routerLink\"\r\n           [routerLink]=\"item.routerLink\"\r\n           [queryParams]=\"item.queryParams\"\r\n           (click)=\"onClick(item)\"\r\n           tiOverflow\r\n           tiTipPosition=\"bottom-left\"\r\n           [id]=\"appendId('label_' + i)\">{{item.label}}</a>\r\n        <span class=\"tp-crumb-divider\">/</span>\r\n    </ng-container>\r\n    <span *ngIf=\"last\" class=\"tp-crumb-nohref-label\" tiOverflow tiTipPosition=\"bottom-left\" [id]=\"appendId('last_label')\">{{item.label}}</span>\r\n</ng-container>",
                styles: [":host{display:flex;line-height:var(--ti-common-line-height-number)}.tp-crumb-label{color:var(--ti-common-color-text-weaken);flex:0 1 auto!important;max-width:160px;text-decoration:none;vertical-align:bottom}.tp-crumb-label:hover{color:var(--ti-common-color-text-link)}.tp-crumb-nohref-label{flex:1;font-weight:700;text-decoration:none;vertical-align:bottom}.tp-crumb-nohref-label,.tp-crumb-nohref-label:hover{color:var(--ti-common-color-text-primary)}.tp-crumb-divider{color:var(--ti-common-color-text-weaken);display:inline-block;text-align:center;width:16px}"]
            },] }
];
TpCrumbComponent.propDecorators = {
    items: [{ type: Input }],
    select: [{ type: Output }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHBDcnVtYkNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL0BjbG91ZC90aW55cGx1czMvY29tcG9uZW50cy9jcnVtYi9UcENydW1iQ29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFdkUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQWlDL0M7Ozs7Ozs7R0FPRztBQVFILE1BQU0sT0FBTyxnQkFBaUIsU0FBUSxlQUFlO0lBTnJEOztRQVdJOztXQUVHO1FBQ2dCLFdBQU0sR0FBeUIsSUFBSSxZQUFZLEVBQVUsQ0FBQztJQVlqRixDQUFDO0lBVkc7O09BRUc7SUFDSSxPQUFPLENBQUMsSUFBWTtRQUN2QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2Qiw2Q0FBNkM7UUFDN0MsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDWixPQUFPLEtBQUssQ0FBQztTQUNoQjtJQUNMLENBQUM7OztZQXpCSixTQUFTLFNBQUM7Z0JBQ1AsUUFBUSxFQUFFLFVBQVU7Z0JBQ3BCLDZrQ0FBMkI7O2FBRTlCOzs7b0JBTUksS0FBSztxQkFJTCxNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgUGFyYW1zIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgVGlCYXNlQ29tcG9uZW50IH0gZnJvbSAnQGNsb3VkL3RpbnkzJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVHBMaW5rIHtcclxuICAgIC8qIHRzbGludDpkaXNhYmxlOm5vLXJlZHVuZGFudC1qc2RvYyAqL1xyXG4gICAgLyoqXHJcbiAgICAgKiDorr7nva7pk77mjqXmlofmnKzlhoXlrrk7XHJcbiAgICAgKi9cclxuICAgIGxhYmVsPzogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiDorr7nva7pk77mjqXlnLDlnYA7XHJcbiAgICAgKi9cclxuICAgIGhyZWY/OiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIOiuvue9rumTvuaOpeaJk+W8gOaWueW8j1xyXG4gICAgICogQGRlZmF1bHQgJ19zZWxmJ1xyXG4gICAgICovXHJcbiAgICB0YXJnZXQ/OiAnX3NlbGYnIHwgJ19ibGFuaycgfCAnX3BhcmVudCcgfCAnX3RvcCc7XHJcbiAgICAvKipcclxuICAgICAqIOi3s+i9rOi3r+eUsVxyXG4gICAgICogMTAuMC40IOaWsOWinlxyXG4gICAgICovXHJcbiAgICByb3V0ZXJMaW5rPzogc3RyaW5nIHwgQXJyYXk8YW55PjtcclxuICAgIC8qKlxyXG4gICAgICog6Lez6L2s6Lev55Sx5Y+C5pWwXHJcbiAgICAgKiAxMC4xLjAg5paw5aKeXHJcbiAgICAgKi9cclxuICAgIHF1ZXJ5UGFyYW1zPzogUGFyYW1zXHJcbiAgICAvKipcclxuICAgICAqIOWFgeiuuOacieWkmuS9meeahOWxnuaAp+Wtl+autVxyXG4gICAgICovXHJcbiAgICBbcHJvcE5hbWU6IHN0cmluZ106IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqICBjcnVtYumdouWMheWxkee7hOS7tlxyXG4gKlxyXG4gKiDpnaLljIXlsZHnu4Tku7bpmaTmnIDlkI7kuIDnuqflpJbvvIzlhbbkvZnlh6DnuqfkuIDoiKzpg73kuLrlj6/ot7PovaznmoTpk77mjqXvvIzpk77mjqXlnLDlnYDlj6/ku6XpgJrov4docmVm5bGe5oCn6K6+572uO1xyXG4gKiDnlKjmiLfkuZ/lj6/pgJrov4fmt7vliqDkuovku7bvvIzlrp7njrDkuJrliqHpgLvovpHjgIJcclxuICpcclxuICogPGV4YW1wbGUtdXJsPi4uL3RpbnlwbHVzM2RlbW8vIy9jcnVtYi9jcnVtYi1hbGw8L2V4YW1wbGUtdXJsPlxyXG4gKi9cclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICd0cC1jcnVtYicsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vY3J1bWIuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnLi9jcnVtYi5sZXNzJ11cclxufSlcclxuXHJcbmV4cG9ydCBjbGFzcyBUcENydW1iQ29tcG9uZW50IGV4dGVuZHMgVGlCYXNlQ29tcG9uZW50IHtcclxuICAgIC8qKlxyXG4gICAgICog57uE5Lu25pWw5o2uXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGl0ZW1zOiBBcnJheTxUcExpbms+O1xyXG4gICAgLyoqXHJcbiAgICAgKiDnlKjmiLforr7nva5ocmVm5bGe5oCn5LiU5LiN5piv5pyA5ZCO5LiA57qn5pe277yM6Kem5Y+R5LqL5Lu2XHJcbiAgICAgKi9cclxuICAgIEBPdXRwdXQoKSByZWFkb25seSBzZWxlY3Q6IEV2ZW50RW1pdHRlcjxUcExpbms+ID0gbmV3IEV2ZW50RW1pdHRlcjxUcExpbms+KCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvbkNsaWNrKGl0ZW06IFRwTGluayk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoaXRlbSk7XHJcbiAgICAgICAgLy8g5LiN6K6+572u6ZO+5o6l5pe277yM6Zi75q2i6Lez6L2s77yIYeagh+etvuWcqGNsaWNr5LqL5Lu26L+U5Zue5YC85Li6ZmFsc2Xml7bvvIzkvJrpmLvmraLpu5jorqTooYzkuLrvvIlcclxuICAgICAgICBpZiAoIWl0ZW0uaHJlZikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==