// tslint:disable-next-line: no-implicit-dependencies
import { Component, Input } from '@angular/core';
// tslint:disable-next-line: no-implicit-dependencies
import { TiBaseComponent, TiLocale } from '@cloud/tiny3';
/**
 * 表格倒计时组件
 *
 * <example-url>../tinyplus3demo/#/count/count-all</example-url>
 */
export class TpCountStateComponent extends TiBaseComponent {
    constructor() {
        super(...arguments);
        /**
         * @ignore
         * 是单独使用，还是和tp-count-time一起使用，单独使用没有逗号，一起使用有逗号
         */
        this.pattern = 'only';
        /**
         * @ignore
         * 资源状态描述文字
         */
        this.state = '';
        /**
         * @ignore
         * 分割号，分隔号放在资源状态中，主要解决资源状态和倒计时一起使用，文字中间有空间。
         */
        this.spliter = '';
    }
    // tslint:disable-next-line: use-life-cycle-interface
    ngOnInit() {
        super.ngOnInit();
        this.updateState();
    }
    // tslint:disable-next-line: use-life-cycle-interface
    ngOnChanges(changes) {
        super.ngOnChanges(changes);
        // 类型更新或倒计时更新，需要更新一下资源状态
        if ((changes['countDownCode'] && !changes['countDownCode'].firstChange)
            || (changes['countDownInfos'] && !changes['countDownInfos'].firstChange)) {
            this.updateState();
        }
    }
    // 更新状态文字和文字颜色类别
    updateState() {
        switch (this.countDownCode) {
            case 'hws_countdown_period_using':
                this.state = TiLocale.getLocaleWords().tpCount.using;
                // 包周期，资源倒计时小于7天时文字颜色区别显示
                this.stateLevel = this.isDayLess7() ? 'warn' : 'normal';
                break;
            case 'hws_countdown_period_gracing':
                this.state = TiLocale.getLocaleWords().tpCount.overdue;
                // 此种倒计时需要分隔号
                this.spliter = TiLocale.getLocaleWords().tpCountdown.spliter;
                this.stateLevel = 'alarm';
                break;
            case 'hws_countdown_period_frozen':
                this.state = TiLocale.getLocaleWords().tpCount.frozened;
                // 此种倒计时需要分隔号
                this.spliter = TiLocale.getLocaleWords().tpCountdown.spliter;
                this.stateLevel = 'alarm';
                break;
            case 'hws_countdown_period_illegalfrozen':
                this.state = TiLocale.getLocaleWords().tpCount.illegalFrozened;
                // 此种倒计时需要分隔号
                this.spliter = TiLocale.getLocaleWords().tpCountdown.spliter;
                this.stateLevel = 'alarm';
                break;
            case 'hws_countdown_period_policefrozen':
                this.state = TiLocale.getLocaleWords().tpCount.illegalFrozened;
                this.stateLevel = 'alarm';
                break;
            case 'hws_countdown_period_toondemand':
                this.state = TiLocale.getLocaleWords().tpCount.using;
                this.stateLevel = 'warn';
                break;
            case 'hws_countdown_ondemand_using':
                this.state = TiLocale.getLocaleWords().tpCount.using;
                this.stateLevel = 'normal';
                break;
            case 'hws_countdown_ondemand_gracing':
                this.state = TiLocale.getLocaleWords().tpCount.arrear;
                this.stateLevel = 'alarm';
                this.spliter = TiLocale.getLocaleWords().tpCountdown.spliter;
                break;
            case 'hws_countdown_ondemand_frozen':
                this.state = TiLocale.getLocaleWords().tpCount.frozened;
                // 此种倒计时需要分隔号
                this.spliter = TiLocale.getLocaleWords().tpCountdown.spliter;
                this.stateLevel = 'alarm';
                break;
            case 'hws_countdown_ondemand_illegalfrozen':
                this.state = TiLocale.getLocaleWords().tpCount.illegalFrozened;
                this.stateLevel = 'alarm';
                break;
            case 'hws_countdown_ondemand_illegalfrozen_arrear':
                this.state = TiLocale.getLocaleWords().tpCount.illegalFrozened;
                // 此种倒计时需要分隔号
                this.spliter = TiLocale.getLocaleWords().tpCountdown.spliter;
                this.stateLevel = 'alarm';
                break;
            case 'hws_countdown_ondemand_policefrozen':
                this.state = TiLocale.getLocaleWords().tpCount.illegalFrozened;
                this.stateLevel = 'alarm';
                break;
            default:
                break;
        }
    }
    // 倒计时是否小于七天
    isDayLess7() {
        return !(this.countDownInfos.nextOperationRemainingDay && this.countDownInfos.nextOperationRemainingDay > 7);
    }
}
TpCountStateComponent.decorators = [
    { type: Component, args: [{
                selector: 'tp-count-state',
                template: `
         {{ state }}{{ pattern === 'combine'? spliter:'' }}
      `,
                host: {
                    '[class.tp-count-alarm]': 'stateLevel === "alarm"',
                    '[class.tp-count-warn]': 'stateLevel === "warn"'
                }
            },] }
];
TpCountStateComponent.propDecorators = {
    countDownCode: [{ type: Input }],
    countDownInfos: [{ type: Input }],
    pattern: [{ type: Input }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHBDb3VudFN0YXRlQ29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vQGNsb3VkL3RpbnlwbHVzMy9jb21wb25lbnRzL2NvdW50L1RwQ291bnRTdGF0ZUNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxxREFBcUQ7QUFDckQsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQWlCLE1BQU0sZUFBZSxDQUFDO0FBQ2hFLHFEQUFxRDtBQUNyRCxPQUFPLEVBQUUsZUFBZSxFQUFFLFFBQVEsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUl6RDs7OztHQUlHO0FBV0gsTUFBTSxPQUFPLHFCQUFzQixTQUFRLGVBQWU7SUFWMUQ7O1FBbUJJOzs7V0FHRztRQUNNLFlBQU8sR0FBdUIsTUFBTSxDQUFDO1FBQzlDOzs7V0FHRztRQUNJLFVBQUssR0FBVyxFQUFFLENBQUM7UUFNMUI7OztXQUdHO1FBQ0ksWUFBTyxHQUFXLEVBQUUsQ0FBQztJQXlGaEMsQ0FBQztJQXZGRyxxREFBcUQ7SUFDckQsUUFBUTtRQUNKLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNqQixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVELHFEQUFxRDtJQUNyRCxXQUFXLENBQUMsT0FBc0I7UUFDOUIsS0FBSyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMzQix3QkFBd0I7UUFDeEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxXQUFXLENBQUM7ZUFDaEUsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQzFFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUN0QjtJQUNMLENBQUM7SUFDRCxnQkFBZ0I7SUFDUixX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QUFDLGNBQWMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUM7Z0JBQy9ELElBQUksQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDO2dCQUMxQixNQUFNO1lBQ1YsS0FBSyw2Q0FBNkM7Z0JBQzlDLElBQUksQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLGNBQWMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUM7Z0JBQy9ELGFBQWE7Z0JBQ2IsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQztnQkFDN0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxPQUFPLENBQUM7Z0JBQzFCLE1BQU07WUFDVixLQUFLLHFDQUFxQztnQkFDdEMsSUFBSSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQztnQkFDL0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxPQUFPLENBQUM7Z0JBQzFCLE1BQU07WUFDVjtnQkFDSSxNQUFNO1NBQ2I7SUFDTCxDQUFDO0lBRUQsWUFBWTtJQUNKLFVBQVU7UUFDZCxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLHlCQUF5QixJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMseUJBQXlCLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDakgsQ0FBQzs7O1lBOUhKLFNBQVMsU0FBQztnQkFDUCxRQUFRLEVBQUUsZ0JBQWdCO2dCQUMxQixRQUFRLEVBQUU7O09BRVA7Z0JBQ0gsSUFBSSxFQUFFO29CQUNGLHdCQUF3QixFQUFFLHdCQUF3QjtvQkFDbEQsdUJBQXVCLEVBQUUsdUJBQXVCO2lCQUNuRDthQUNKOzs7NEJBS0ksS0FBSzs2QkFJTCxLQUFLO3NCQUtMLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWltcGxpY2l0LWRlcGVuZGVuY2llc1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBTaW1wbGVDaGFuZ2VzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8taW1wbGljaXQtZGVwZW5kZW5jaWVzXHJcbmltcG9ydCB7IFRpQmFzZUNvbXBvbmVudCwgVGlMb2NhbGUgfSBmcm9tICdAY2xvdWQvdGlueTMnO1xyXG5cclxuaW1wb3J0IHsgVHBDb3VudENvZGUsIFRwQ291bnREb3duU3RhdGVMZXZlbCwgVHBDb3VudEluZm9zIH0gZnJvbSAnLi9UcENvdW50Q29tcG9uZW50JztcclxuXHJcbi8qKlxyXG4gKiDooajmoLzlgJLorqHml7bnu4Tku7ZcclxuICpcclxuICogPGV4YW1wbGUtdXJsPi4uL3RpbnlwbHVzM2RlbW8vIy9jb3VudC9jb3VudC1hbGw8L2V4YW1wbGUtdXJsPlxyXG4gKi9cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ3RwLWNvdW50LXN0YXRlJyxcclxuICAgIHRlbXBsYXRlOiBgXHJcbiAgICAgICAgIHt7IHN0YXRlIH19e3sgcGF0dGVybiA9PT0gJ2NvbWJpbmUnPyBzcGxpdGVyOicnIH19XHJcbiAgICAgIGAsXHJcbiAgICBob3N0OiB7XHJcbiAgICAgICAgJ1tjbGFzcy50cC1jb3VudC1hbGFybV0nOiAnc3RhdGVMZXZlbCA9PT0gXCJhbGFybVwiJyxcclxuICAgICAgICAnW2NsYXNzLnRwLWNvdW50LXdhcm5dJzogJ3N0YXRlTGV2ZWwgPT09IFwid2FyblwiJ1xyXG4gICAgfVxyXG59KVxyXG5leHBvcnQgY2xhc3MgVHBDb3VudFN0YXRlQ29tcG9uZW50IGV4dGVuZHMgVGlCYXNlQ29tcG9uZW50IHtcclxuICAgIC8qKlxyXG4gICAgICog5YCS6K6h5pe257G75Yir77yM5Y2z5YCS6K6h5pe2Y291bnREb3duQ29kZeWtl+autVxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBjb3VudERvd25Db2RlOiBUcENvdW50Q29kZTtcclxuICAgIC8qKlxyXG4gICAgICog5YCS6K6h5pe25pWw5o2uLCDlkowyLjIx5LqR5pyN5Yqh5YCS6K6h5pe25L+h5oGv5p+l6K+i5o6l5Y+j6L+U5Zue55qEY291bnREb3duSW5mb3PkuIDoh7RcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgY291bnREb3duSW5mb3M6IFRwQ291bnRJbmZvcztcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5piv5Y2V54us5L2/55So77yM6L+Y5piv5ZKMdHAtY291bnQtdGltZeS4gOi1t+S9v+eUqO+8jOWNleeLrOS9v+eUqOayoeaciemAl+WPt++8jOS4gOi1t+S9v+eUqOaciemAl+WPt1xyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBwYXR0ZXJuOiAnb25seScgfCAnY29tYmluZScgPSAnb25seSc7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOi1hOa6kOeKtuaAgeaPj+i/sOaWh+Wtl1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGU6IHN0cmluZyA9ICcnO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiDmloflrZfmj5DnpLrnmoTpopzoibLnrYnnuqdcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRlTGV2ZWw6IFRwQ291bnREb3duU3RhdGVMZXZlbDtcclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog5YiG5Ymy5Y+377yM5YiG6ZqU5Y+35pS+5Zyo6LWE5rqQ54q25oCB5Lit77yM5Li76KaB6Kej5Yaz6LWE5rqQ54q25oCB5ZKM5YCS6K6h5pe25LiA6LW35L2/55So77yM5paH5a2X5Lit6Ze05pyJ56m66Ze044CCXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzcGxpdGVyOiBzdHJpbmcgPSAnJztcclxuXHJcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHVzZS1saWZlLWN5Y2xlLWludGVyZmFjZVxyXG4gICAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIubmdPbkluaXQoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiB1c2UtbGlmZS1jeWNsZS1pbnRlcmZhY2VcclxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5uZ09uQ2hhbmdlcyhjaGFuZ2VzKTtcclxuICAgICAgICAvLyDnsbvlnovmm7TmlrDmiJblgJLorqHml7bmm7TmlrDvvIzpnIDopoHmm7TmlrDkuIDkuIvotYTmupDnirbmgIFcclxuICAgICAgICBpZiAoKGNoYW5nZXNbJ2NvdW50RG93bkNvZGUnXSAmJiAhY2hhbmdlc1snY291bnREb3duQ29kZSddLmZpcnN0Q2hhbmdlKVxyXG4gICAgICAgICAgICB8fCAoY2hhbmdlc1snY291bnREb3duSW5mb3MnXSAmJiAhY2hhbmdlc1snY291bnREb3duSW5mb3MnXS5maXJzdENoYW5nZSkpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIOabtOaWsOeKtuaAgeaWh+Wtl+WSjOaWh+Wtl+minOiJsuexu+WIq1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVTdGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuY291bnREb3duQ29kZSkge1xyXG4gICAgICAgICAgICBjYXNlICdod3NfY291bnRkb3duX3BlcmlvZF91c2luZyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlMb2NhbGUuZ2V0TG9jYWxlV29yZHMoKS50cENvdW50LnVzaW5nO1xyXG4gICAgICAgICAgICAgICAgLy8g5YyF5ZGo5pyf77yM6LWE5rqQ5YCS6K6h5pe25bCP5LqON+WkqeaXtuaWh+Wtl+minOiJsuWMuuWIq+aYvuekulxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUxldmVsID0gdGhpcy5pc0RheUxlc3M3KCkgPyAnd2FybicgOiAnbm9ybWFsJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdod3NfY291bnRkb3duX3BlcmlvZF9ncmFjaW5nJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaUxvY2FsZS5nZXRMb2NhbGVXb3JkcygpLnRwQ291bnQub3ZlcmR1ZTtcclxuICAgICAgICAgICAgICAgIC8vIOatpOenjeWAkuiuoeaXtumcgOimgeWIhumalOWPt1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpdGVyID0gVGlMb2NhbGUuZ2V0TG9jYWxlV29yZHMoKS50cENvdW50ZG93bi5zcGxpdGVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUxldmVsID0gJ2FsYXJtJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdod3NfY291bnRkb3duX3BlcmlvZF9mcm96ZW4nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFRpTG9jYWxlLmdldExvY2FsZVdvcmRzKCkudHBDb3VudC5mcm96ZW5lZDtcclxuICAgICAgICAgICAgICAgIC8vIOatpOenjeWAkuiuoeaXtumcgOimgeWIhumalOWPt1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpdGVyID0gVGlMb2NhbGUuZ2V0TG9jYWxlV29yZHMoKS50cENvdW50ZG93bi5zcGxpdGVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUxldmVsID0gJ2FsYXJtJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdod3NfY291bnRkb3duX3BlcmlvZF9pbGxlZ2FsZnJvemVuJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBUaUxvY2FsZS5nZXRMb2NhbGVXb3JkcygpLnRwQ291bnQuaWxsZWdhbEZyb3plbmVkO1xyXG4gICAgICAgICAgICAgICAgLy8g5q2k56eN5YCS6K6h5pe26ZyA6KaB5YiG6ZqU5Y+3XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0ZXIgPSBUaUxvY2FsZS5nZXRMb2NhbGVXb3JkcygpLnRwQ291bnRkb3duLnNwbGl0ZXI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTGV2ZWwgPSAnYWxhcm0nO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2h3c19jb3VudGRvd25fcGVyaW9kX3BvbGljZWZyb3plbic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlMb2NhbGUuZ2V0TG9jYWxlV29yZHMoKS50cENvdW50LmlsbGVnYWxGcm96ZW5lZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVMZXZlbCA9ICdhbGFybSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnaHdzX2NvdW50ZG93bl9wZXJpb2RfdG9vbmRlbWFuZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlMb2NhbGUuZ2V0TG9jYWxlV29yZHMoKS50cENvdW50LnVzaW5nO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUxldmVsID0gJ3dhcm4nO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2h3c19jb3VudGRvd25fb25kZW1hbmRfdXNpbmcnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFRpTG9jYWxlLmdldExvY2FsZVdvcmRzKCkudHBDb3VudC51c2luZztcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVMZXZlbCA9ICdub3JtYWwnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2h3c19jb3VudGRvd25fb25kZW1hbmRfZ3JhY2luZyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gVGlMb2NhbGUuZ2V0TG9jYWxlV29yZHMoKS50cENvdW50LmFycmVhcjtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVMZXZlbCA9ICdhbGFybSc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0ZXIgPSBUaUxvY2FsZS5nZXRMb2NhbGVXb3JkcygpLnRwQ291bnRkb3duLnNwbGl0ZXI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnaHdzX2NvdW50ZG93bl9vbmRlbWFuZF9mcm96ZW4nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFRpTG9jYWxlLmdldExvY2FsZVdvcmRzKCkudHBDb3VudC5mcm96ZW5lZDtcclxuICAgICAgICAgICAgICAgIC8vIOatpOenjeWAkuiuoeaXtumcgOimgeWIhumalOWPt1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpdGVyID0gVGlMb2NhbGUuZ2V0TG9jYWxlV29yZHMoKS50cENvdW50ZG93bi5zcGxpdGVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUxldmVsID0gJ2FsYXJtJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdod3NfY291bnRkb3duX29uZGVtYW5kX2lsbGVnYWxmcm96ZW4nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFRpTG9jYWxlLmdldExvY2FsZVdvcmRzKCkudHBDb3VudC5pbGxlZ2FsRnJvemVuZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTGV2ZWwgPSAnYWxhcm0nO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2h3c19jb3VudGRvd25fb25kZW1hbmRfaWxsZWdhbGZyb3plbl9hcnJlYXInOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFRpTG9jYWxlLmdldExvY2FsZVdvcmRzKCkudHBDb3VudC5pbGxlZ2FsRnJvemVuZWQ7XHJcbiAgICAgICAgICAgICAgICAvLyDmraTnp43lgJLorqHml7bpnIDopoHliIbpmpTlj7dcclxuICAgICAgICAgICAgICAgIHRoaXMuc3BsaXRlciA9IFRpTG9jYWxlLmdldExvY2FsZVdvcmRzKCkudHBDb3VudGRvd24uc3BsaXRlcjtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVMZXZlbCA9ICdhbGFybSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnaHdzX2NvdW50ZG93bl9vbmRlbWFuZF9wb2xpY2Vmcm96ZW4nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFRpTG9jYWxlLmdldExvY2FsZVdvcmRzKCkudHBDb3VudC5pbGxlZ2FsRnJvemVuZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTGV2ZWwgPSAnYWxhcm0nO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5YCS6K6h5pe25piv5ZCm5bCP5LqO5LiD5aSpXHJcbiAgICBwcml2YXRlIGlzRGF5TGVzczcoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICEodGhpcy5jb3VudERvd25JbmZvcy5uZXh0T3BlcmF0aW9uUmVtYWluaW5nRGF5ICYmIHRoaXMuY291bnREb3duSW5mb3MubmV4dE9wZXJhdGlvblJlbWFpbmluZ0RheSA+IDcpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==