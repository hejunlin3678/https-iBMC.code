import { Component, ContentChild, EventEmitter, Input, Output, TemplateRef } from '@angular/core';
import { TiBaseComponent } from '@cloud/tiny3';
/**
 * 折叠按钮组件，在高级搜索场景中使用
 *
 * <example-url>../tinyplus3demo/#/collapsebutton/collapsebutton-all</example-url>
 */
export class TpCollapsebuttonComponent extends TiBaseComponent {
    constructor() {
        super(...arguments);
        /**
         * 是否折叠，true：折叠状态 false：非折叠状态，双向绑定
         */
        this.collapsed = true;
        /**
         * 高级搜索显示的筛选条件数目（10.0.4 版本新增）
         */
        this.searchCount = 0;
        /**
         *  折叠状态改变事件，用于实现折叠状态双向绑定，也可单独使用
         */
        this.collapsedChange = new EventEmitter();
    }
    /**
     * @ignore
     * 按钮点击事件处理
     */
    onClickToggle($event) {
        this.collapsed = !this.collapsed;
        this.collapsedChange.emit(this.collapsed);
    }
}
TpCollapsebuttonComponent.decorators = [
    { type: Component, args: [{
                selector: 'tp-collapsebutton',
                template: "<button type=\"button\" tiButton\r\n    (click)=\"onClickToggle($event)\"\r\n    [id]=\"appendId('toggle')\">\r\n    <ng-container *ngTemplateOutlet=\"textTemplateRef? textTemplateRef : defaultTextTempRef\">\r\n    </ng-container><!--\r\n --><span *ngIf=\"searchCount\"> ({{searchCount}})</span><!--\r\n --><tp-icon local class=\"tp-collapsebutton-icon-fold\"\r\n            name=\"cloud-action-double-fold\" ></tp-icon>\r\n</button>\r\n\r\n<ng-template #defaultTextTempRef>{{'tpCollapsebutton.text' | tiTranslate }}</ng-template>\r\n\r\n\r\n\r\n",
                host: {
                    '[class.tp-collapsebutton-uncollapsed]': '!collapsed'
                },
                styles: [".ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}::ng-deep :root{--tp-collapsebutton-height:36px}:host{display:inline-block;height:var(--tp-collapsebutton-height);transition:background-color .15s}:host ::ng-deep [tiButton]{padding:0 var(--ti-common-space-10)!important}:host ::ng-deep [tiButton]:not([disabled]):active,:host ::ng-deep [tiButton]:not([disabled]):focus,:host ::ng-deep [tiButton]:not([disabled]):hover{background-color:var(--ti-common-bg-minor);color:var(--tp-collapsebutton-text-color-hover)}:host ::ng-deep [tiButton]:not([disabled]):active .tp-collapsebutton-icon-fold,:host ::ng-deep [tiButton]:not([disabled]):focus .tp-collapsebutton-icon-fold,:host ::ng-deep [tiButton]:not([disabled]):hover .tp-collapsebutton-icon-fold{color:var(--ti-common-color-icon-hover)}:host.tp-collapsebutton-uncollapsed,:host.tp-collapsebutton-uncollapsed ::ng-deep [tiButton]{background-color:var(--tp-collapsebutton-uncollapsed-bg-color);transition:background-color .15s}:host.tp-collapsebutton-uncollapsed ::ng-deep [tiButton]{border-color:var(--tp-collapsebutton-uncollapsed-border-color)}:host.tp-collapsebutton-uncollapsed ::ng-deep [tiButton]:not([disabled]):focus{background-color:var(--tp-collapsebutton-uncollapsed-bg-color);border-color:var(--tp-collapsebutton-uncollapsed-border-color);color:var(--ti-common-color-text-primary)}:host.tp-collapsebutton-uncollapsed ::ng-deep [tiButton]:not([disabled]):focus ::ng-deep .tp-collapsebutton-icon-fold{color:var(--ti-common-color-icon-normal)}:host.tp-collapsebutton-uncollapsed ::ng-deep [tiButton]:not([disabled]):hover{background-color:var(--tp-collapsebutton-uncollapsed-bg-color);border-color:var(--tp-collapsebutton-uncollapsed-border-color);color:var(--tp-collapsebutton-text-color-hover)}:host.tp-collapsebutton-uncollapsed ::ng-deep [tiButton]:not([disabled]):hover ::ng-deep .tp-collapsebutton-icon-fold{color:var(--ti-common-color-icon-hover)}.tp-collapsebutton-icon-fold{color:var(--ti-common-color-icon-normal);display:inline-block;margin-left:var(--ti-common-space-10);transition:color .15s}@keyframes tp-collapsebutton-rotate-uncollapsed-keyframes{0%{-moz-transform:rotate(-180deg);-ms-transform:rotate(-180deg);-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}to{-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-webkit-transform:rotate(0deg);transform:rotate(0deg)}}:host.tp-collapsebutton-uncollapsed .tp-collapsebutton-icon-fold{animation:tp-collapsebutton-rotate-uncollapsed-keyframes .15s var(--ti-timing-function-standard) 0s 1 forwards}@keyframes tp-collapsebutton-rotate-collapsed-keyframes{0%{-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg);transform:rotate(180deg)}}.tp-collapsebutton-icon-fold{animation:tp-collapsebutton-rotate-collapsed-keyframes .15s var(--ti-timing-function-standard) 0s 1 forwards}"]
            },] }
];
TpCollapsebuttonComponent.propDecorators = {
    collapsed: [{ type: Input }],
    searchCount: [{ type: Input }],
    collapsedChange: [{ type: Output }],
    textTemplateRef: [{ type: ContentChild, args: [TemplateRef,] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHBDb2xsYXBzZWJ1dHRvbkNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL0BjbG91ZC90aW55cGx1czMvY29tcG9uZW50cy9jb2xsYXBzZWJ1dHRvbi9UcENvbGxhcHNlYnV0dG9uQ29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVsRyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQy9DOzs7O0dBSUc7QUFTSCxNQUFNLE9BQU8seUJBQTBCLFNBQVEsZUFBZTtJQVI5RDs7UUFVRTs7V0FFRztRQUNNLGNBQVMsR0FBWSxJQUFJLENBQUM7UUFDbkM7O1dBRUc7UUFDTSxnQkFBVyxHQUFXLENBQUMsQ0FBQztRQUNqQzs7V0FFRztRQUNnQixvQkFBZSxHQUEwQixJQUFJLFlBQVksRUFBVyxDQUFDO0lBZ0IxRixDQUFDO0lBVEM7OztPQUdHO0lBQ0ksYUFBYSxDQUFDLE1BQWE7UUFDaEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDakMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLENBQUM7OztZQW5DRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLG1CQUFtQjtnQkFDN0IsOGlCQUFvQztnQkFFcEMsSUFBSSxFQUFFO29CQUNKLHVDQUF1QyxFQUFFLFlBQVk7aUJBQ3REOzthQUNGOzs7d0JBTUUsS0FBSzswQkFJTCxLQUFLOzhCQUlMLE1BQU07OEJBS04sWUFBWSxTQUFDLFdBQVciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIENvbnRlbnRDaGlsZCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBUZW1wbGF0ZVJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgVGlCYXNlQ29tcG9uZW50IH0gZnJvbSAnQGNsb3VkL3RpbnkzJztcclxuLyoqXHJcbiAqIOaKmOWPoOaMiemSrue7hOS7tu+8jOWcqOmrmOe6p+aQnOe0ouWcuuaZr+S4reS9v+eUqFxyXG4gKlxyXG4gKiA8ZXhhbXBsZS11cmw+Li4vdGlueXBsdXMzZGVtby8jL2NvbGxhcHNlYnV0dG9uL2NvbGxhcHNlYnV0dG9uLWFsbDwvZXhhbXBsZS11cmw+XHJcbiAqL1xyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3RwLWNvbGxhcHNlYnV0dG9uJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vY29sbGFwc2VidXR0b24uaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vY29sbGFwc2VidXR0b24ubGVzcyddLFxyXG4gIGhvc3Q6IHtcclxuICAgICdbY2xhc3MudHAtY29sbGFwc2VidXR0b24tdW5jb2xsYXBzZWRdJzogJyFjb2xsYXBzZWQnXHJcbiAgfVxyXG59KVxyXG5leHBvcnQgY2xhc3MgVHBDb2xsYXBzZWJ1dHRvbkNvbXBvbmVudCBleHRlbmRzIFRpQmFzZUNvbXBvbmVudCB7XHJcblxyXG4gIC8qKlxyXG4gICAqIOaYr+WQpuaKmOWPoO+8jHRydWXvvJrmipjlj6DnirbmgIEgZmFsc2XvvJrpnZ7mipjlj6DnirbmgIHvvIzlj4zlkJHnu5HlrppcclxuICAgKi9cclxuICBASW5wdXQoKSBjb2xsYXBzZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIOmrmOe6p+aQnOe0ouaYvuekuueahOetm+mAieadoeS7tuaVsOebru+8iDEwLjAuNCDniYjmnKzmlrDlop7vvIlcclxuICAgKi9cclxuICBASW5wdXQoKSBzZWFyY2hDb3VudDogbnVtYmVyID0gMDtcclxuICAvKipcclxuICAgKiAg5oqY5Y+g54q25oCB5pS55Y+Y5LqL5Lu277yM55So5LqO5a6e546w5oqY5Y+g54q25oCB5Y+M5ZCR57uR5a6a77yM5Lmf5Y+v5Y2V54us5L2/55SoXHJcbiAgICovXHJcbiAgQE91dHB1dCgpIHJlYWRvbmx5IGNvbGxhcHNlZENoYW5nZTogRXZlbnRFbWl0dGVyPGJvb2xlYW4+ID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xyXG4gIC8qKlxyXG4gICAqIEBpZ25vcmVcclxuICAgKiDnlKjmiLfoh6rlrprkuYnmjInpkq7mlofmnKxcclxuICAgKi9cclxuICBAQ29udGVudENoaWxkKFRlbXBsYXRlUmVmKSB0ZXh0VGVtcGxhdGVSZWY6IFRlbXBsYXRlUmVmPGFueT47XHJcblxyXG4gIC8qKlxyXG4gICAqIEBpZ25vcmVcclxuICAgKiDmjInpkq7ngrnlh7vkuovku7blpITnkIZcclxuICAgKi9cclxuICBwdWJsaWMgb25DbGlja1RvZ2dsZSgkZXZlbnQ6IEV2ZW50KTogdm9pZCB7XHJcbiAgICB0aGlzLmNvbGxhcHNlZCA9ICF0aGlzLmNvbGxhcHNlZDtcclxuICAgIHRoaXMuY29sbGFwc2VkQ2hhbmdlLmVtaXQodGhpcy5jb2xsYXBzZWQpO1xyXG4gIH1cclxuXHJcbn1cclxuIl19