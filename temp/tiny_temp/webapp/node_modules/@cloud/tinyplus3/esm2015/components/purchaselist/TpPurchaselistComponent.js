import { Component, EventEmitter, Input, Output } from '@angular/core';
import { TiBaseComponent } from '@cloud/tiny3';
/**
 * 购买清单组件
 * <example-url>../tinyplus3demo/#/purchaselist/purchaselist-all</example-url>
 */
export class TpPurchaselistComponent extends TiBaseComponent {
    constructor() {
        super(...arguments);
        /**
         * 是否存在一键清空功能
         */
        this.enableClear = true;
        /**
         * 费用总金额
         */
        this.totalPrice = 0;
        /**
         * 优惠金额
         */
        this.discountPrice = 0;
        /**
         * 用户可根据实际场景决定确认按钮是否禁用（比如未实名认证等）
         *
         * 10.1.1新增接口
         */
        this.buttonDisabled = true;
        /**
         * 采购产品数量统计
         */
        this.total = 0;
        /**
         * 订单确认按钮点击事件
         */
        this.confirm = new EventEmitter();
        /**
         * 头部一键清空按钮点击事件
         */
        this.clear = new EventEmitter();
        /**
         * 可选优惠项切换选择项时触发
         *
         * 10.1.2 新增接口
         */
        this.discountChange = new EventEmitter();
        /**
         * @ignore
         */
        this.emptyText = '--';
        /**
         * @ignore
         * 协议是否勾选
         */
        this.checked = false;
    }
    /**
     * @ignore
     */
    discountsChange($event) {
        this.discountChange.emit($event);
    }
    onCheckboxNgModelChange(model) {
        // Todo 禁用tip
    }
    /**
     * @ignore
     * 确认按钮点击触发
     */
    clickFn() {
        this.confirm.emit();
    }
    /**
     * @ignore
     * 一键清空
     */
    clearFn() {
        this.clear.emit();
    }
}
TpPurchaselistComponent.decorators = [
    { type: Component, args: [{
                selector: 'tp-purchaselist',
                template: "<div class='tp-purchaselist-container'>\r\n    <!-- \u5934\u90E8\u533A\u57DF -->\r\n    <div class='tp-purchaselist-header'>\r\n        <div class='tp-purchaselist-title' [id]=\"appendId('title')\">\r\n            {{purchaseTitle}}<span>(</span>{{total}}<span>)</span>\r\n        </div>\r\n        <div *ngIf='enableClear && total' tiOutline [tabindex]=\"0\" class='tp-purchaselist-clear' (keydown.enter)=\"clearFn()\" (click)='clearFn()' [id]=\"appendId('clear')\">\r\n            {{'tpPurchaselist.purchase_list_clear_label' | tiTranslate}}\r\n        </div>\r\n    </div>\r\n    <div class='tp-purchaselist-body' [ngClass]=\"{'tp-purchaselist-body-align': !total}\">\r\n        <ng-content></ng-content>\r\n        <span *ngIf=\"!total\" class=\"tp-purchaselist-nodata-text\">{{'tpPurchaselist.purchase_list_nodata_label' | tiTranslate}}</span>\r\n    </div>\r\n    <div class='tp-purchaselist-footer'>\r\n        <div class='tp-purchaselist-price-container' [ngClass]=\"{'tp-purchaselist-nodata-price': total === 0}\">\r\n            <span>{{'tpPurchaselist.purchase_list_cost_label' | tiTranslate}}</span>\r\n            <span *ngIf='total === 0'>{{emptyText}}</span>\r\n            <span *ngIf='total > 0' class='tp-purchaselist-totalprice'>{{totalPrice | tpCurrency: numFormat}}</span>\r\n            <span style='display: inline-block;'>\r\n                <div *ngIf='discountPrice !== 0 && total > 0' style='display: inline-block;'>\r\n                    <span class='tp-purchaselist-discount' [id]=\"appendId('discount')\">\r\n                        <span>(</span>\r\n                        <span>{{'tpBuylayer.buyLayer_priceDiscount_label' | tiTranslate}}</span>\r\n                        <span>{{discountPrice | tpCurrency: numFormat}}</span>\r\n                       <span>)</span>\r\n                    </span>\r\n                </div><!-- \u4F18\u60E0\u8BE6\u60C5\r\n                --><tp-discounts *ngIf=\"purchaseDiscoutsConfig !== null && total > 0\" class='tp-purchaselist-discount-tip' (discountsChange)='discountsChange($event)'\r\n                    [discoutsConfig]='purchaseDiscoutsConfig' [id]=\"appendId('discounts')\"></tp-discounts><!--\r\n                --><tp-helptip\r\n                *ngIf=\"helpOptions !== null && total > 0\"\r\n                [iconTip]=\"helpOptions.iconTip\"\r\n                [iconTipPosition]='helpOptions.iconTipPosition'\r\n                [iconTipMaxWidth]='helpOptions.iconTipMaxWidth' class='tp-purchaselist-helptip' [id]=\"appendId('helptip')\"></tp-helptip>\r\n            </span>\r\n\r\n        </div>\r\n        <div *ngIf=\"footerProtocol\" class='tp-footer-protocol' [id]=\"appendId('protocol')\">\r\n            <input id='protocol' type=\"checkbox\" (ngModelChange)=\"onCheckboxNgModelChange($event)\" [(ngModel)]=\"checked\" tiCheckbox >\r\n            <label for='protocol' [innerHTML]='footerProtocol'></label>\r\n        </div>\r\n        <button class='tp-purchaselist-button' type=\"button\"\r\n            [ngClass]=\"{'tp-purchaselist-no-footerPrompt': !footerPrompt}\"\r\n            color=\"danger\"\r\n            [disabled]=\" (footerProtocol ? !checked : false) || !total || buttonDisabled\"\r\n            (click)='clickFn()' [id]=\"appendId('button')\" tiButton>{{buttonText}}</button>\r\n        <div *ngIf=\"footerPrompt\" class='tp--footer-prompt' [innerHTML]='footerPrompt' [id]=\"appendId('prompt')\"></div>\r\n    </div>\r\n</div>",
                styles: [".ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-purchaselist-container{background-color:var(--ti-common-color-bg-white-normal);box-shadow:var(--ti-common-shadow-1-down)}.tp-purchaselist-header{align-items:center;display:flex;height:56px;justify-content:space-between;line-height:var(--ti-common-line-height-number);width:100%}.tp-purchaselist-title{border-left:4px solid var(--ti-common-color-prompt);color:var(--ti-common-color-text-primary);font-size:var(--ti-common-font-size-2);font-weight:700;padding-left:var(--ti-common-space-3x)}.tp-purchaselist-clear{color:var(--ti-common-color-text-link);cursor:pointer;font-size:var(--ti-common-font-size-base);padding-right:var(--ti-common-space-4x)}.tp-purchaselist-clear:hover{color:var(--ti-common-color-text-link-hover)}.tp-purchaselist-footer{padding:0 var(--ti-common-space-4x)}.tp-purchaselist-totalprice{color:var(--ti-common-color-text-important);font-size:var(--ti-common-font-size-3);line-height:var(--ti-common-line-height-number)}.tp-purchaselist-discount{border-right:1px solid var(--ti-common-color-line-dividing);color:var(--ti-common-color-text-secondary);padding-left:var(--ti-common-space-base);padding-right:var(--ti-common-space-3x)}.tp-purchaselist-discount-tip{padding-bottom:var(--ti-common-space-base);padding-left:var(--ti-common-space-3x)}.tp-footer-protocol{display:flex;padding-top:var(--ti-common-space-5x)}.tp-purchaselist-button{margin-top:var(--ti-common-space-2x);width:100%}.tp-purchaselist-no-footerPrompt{margin-bottom:var(--ti-common-space-4x)}.tp--footer-prompt{color:var(--ti-common-color-text-weaken);font-size:var(--ti-common-font-size-base);line-height:var(--ti-common-line-height-number);padding:var(--ti-common-space-2x) 0}.tp-purchaselist-body-align{text-align:center}.tp-purchaselist-nodata-text{color:var(--ti-common-color-text-weaken);font-size:var(--ti-common-font-size-base);line-height:var(--ti-common-line-height-number);padding-top:var(--ti-common-space-base)}.tp-purchaselist-helptip{vertical-align:super}.tp-purchaselist-price-container{border-top:1px solid var(--ti-common-color-line-dividing);padding-top:12px}.tp-purchaselist-nodata-price{border:none}"]
            },] }
];
TpPurchaselistComponent.propDecorators = {
    purchaseTitle: [{ type: Input }],
    enableClear: [{ type: Input }],
    totalPrice: [{ type: Input }],
    discountPrice: [{ type: Input }],
    numFormat: [{ type: Input }],
    purchaseDiscoutsConfig: [{ type: Input }],
    hasNodata: [{ type: Input }],
    helpOptions: [{ type: Input }],
    footerProtocol: [{ type: Input }],
    footerPrompt: [{ type: Input }],
    buttonText: [{ type: Input }],
    buttonDisabled: [{ type: Input }],
    total: [{ type: Input }],
    confirm: [{ type: Output }],
    clear: [{ type: Output }],
    discountChange: [{ type: Output }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHBQdXJjaGFzZWxpc3RDb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9AY2xvdWQvdGlueXBsdXMzL2NvbXBvbmVudHMvcHVyY2hhc2VsaXN0L1RwUHVyY2hhc2VsaXN0Q29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQWlCLE1BQU0sZUFBZSxDQUFDO0FBQ3RGLE9BQU8sRUFBRSxlQUFlLEVBQVEsTUFBTSxjQUFjLENBQUM7QUFrQnJEOzs7R0FHRztBQU9ILE1BQU0sT0FBTyx1QkFBd0IsU0FBUSxlQUFlO0lBTjVEOztRQVdJOztXQUVHO1FBQ00sZ0JBQVcsR0FBWSxJQUFJLENBQUM7UUFDckM7O1dBRUc7UUFDTSxlQUFVLEdBQVcsQ0FBQyxDQUFDO1FBQ2hDOztXQUVHO1FBQ00sa0JBQWEsR0FBVyxDQUFDLENBQUM7UUFnQ25DOzs7O1dBSUc7UUFDTSxtQkFBYyxHQUFZLElBQUksQ0FBQztRQUN4Qzs7V0FFRztRQUNNLFVBQUssR0FBVyxDQUFDLENBQUM7UUFDM0I7O1dBRUc7UUFDZ0IsWUFBTyxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ25FOztXQUVHO1FBQ2dCLFVBQUssR0FBc0IsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNqRTs7OztXQUlHO1FBQ2dCLG1CQUFjLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDMUU7O1dBRUc7UUFDSSxjQUFTLEdBQVcsSUFBSSxDQUFDO1FBQ2hDOzs7V0FHRztRQUNJLFlBQU8sR0FBWSxLQUFLLENBQUM7SUF3QnBDLENBQUM7SUF2Qkc7O09BRUc7SUFDSSxlQUFlLENBQUMsTUFBVztRQUM5QixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBQ0QsdUJBQXVCLENBQUMsS0FBYztRQUNsQyxhQUFhO0lBQ2pCLENBQUM7SUFDRDs7O09BR0c7SUFDSSxPQUFPO1FBQ1YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBQ0Q7OztPQUdHO0lBQ0ksT0FBTztRQUNWLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdEIsQ0FBQzs7O1lBN0dKLFNBQVMsU0FBQztnQkFDUCxRQUFRLEVBQUUsaUJBQWlCO2dCQUMzQixxM0dBQWtDOzthQUVyQzs7OzRCQU1JLEtBQUs7MEJBSUwsS0FBSzt5QkFJTCxLQUFLOzRCQUlMLEtBQUs7d0JBTUwsS0FBSztxQ0FJTCxLQUFLO3dCQUtMLEtBQUs7MEJBSUwsS0FBSzs2QkFJTCxLQUFLOzJCQUlMLEtBQUs7eUJBSUwsS0FBSzs2QkFNTCxLQUFLO29CQUlMLEtBQUs7c0JBSUwsTUFBTTtvQkFJTixNQUFNOzZCQU1OLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCwgU2ltcGxlQ2hhbmdlcyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUaUJhc2VDb21wb25lbnQsIFV0aWwgfSBmcm9tICdAY2xvdWQvdGlueTMnO1xyXG5pbXBvcnQgeyBUcERpc2NvdXRzQ29uZmlnIH0gZnJvbSAnLi4vZGlzY291bnRzL1RwRGlzY291bnRzTW9kdWxlJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVHBIZWxwT3B0aW9ucyB7XHJcbiAgICAvKipcclxuICAgICAqIOaPkOekuuivtOaYjuaWh+acrFxyXG4gICAgICovXHJcbiAgICBpY29uVGlwOiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIOaPkOekuuahhuacgOWkp+WuveW6plxyXG4gICAgICovXHJcbiAgICBpY29uVGlwTWF4V2lkdGg/OiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIOaPkOekuuivreaWueWQkVxyXG4gICAgICovXHJcbiAgICBpY29uVGlwUG9zaXRpb24/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDotK3kubDmuIXljZXnu4Tku7ZcclxuICogPGV4YW1wbGUtdXJsPi4uL3RpbnlwbHVzM2RlbW8vIy9wdXJjaGFzZWxpc3QvcHVyY2hhc2VsaXN0LWFsbDwvZXhhbXBsZS11cmw+XHJcbiAqL1xyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAndHAtcHVyY2hhc2VsaXN0JyxcclxuICAgIHRlbXBsYXRlVXJsOiAnLi9wdXJjaGFzZWxpc3QuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnLi9wdXJjaGFzZWxpc3QubGVzcyddXHJcbn0pXHJcblxyXG5leHBvcnQgY2xhc3MgVHBQdXJjaGFzZWxpc3RDb21wb25lbnQgZXh0ZW5kcyBUaUJhc2VDb21wb25lbnQge1xyXG4gICAgLyoqXHJcbiAgICAgKiDotK3nianmuIXljZXlkI3np7BcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgcHVyY2hhc2VUaXRsZTogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKblrZjlnKjkuIDplK7muIXnqbrlip/og71cclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgZW5hYmxlQ2xlYXI6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgLyoqXHJcbiAgICAgKiDotLnnlKjmgLvph5Hpop1cclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgdG90YWxQcmljZTogbnVtYmVyID0gMDtcclxuICAgIC8qKlxyXG4gICAgICog5LyY5oOg6YeR6aKdXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGRpc2NvdW50UHJpY2U6IG51bWJlciA9IDA7XHJcbiAgICAvKipcclxuICAgICAqIOi0p+W4geeyvuW6puiuvue9ruaOpeWPo1xyXG4gICAgICog6Ieq5a6a5LmJ5L+d55WZ5L2N5pWw77yM5L6L5aaC77yaMS4yLTTvvIzooajnpLrmlbTmlbDpg6jliIbmnIDlsJHkv53nlZkx5L2N77yM5bCP5pWw6YOo5YiG5pyA5bCP5L+d55WZMuS9je+8jOWwj+aVsOmDqOWIhuacgOWkp+S/neeVmTTkvY3jgIJcclxuICAgICAqIOm7mOiupOWAvOWPluiHquWQhOWxgOeCuVxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBudW1Gb3JtYXQ6IHN0cmluZztcclxuICAgIC8qKlxyXG4gICAgICog5LyY5oOg6K+m5oOF6YWN572u5o6l5Y+j44CC5Y+C6ICDZGlzY291bnRz57uE5Lu2XHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIHB1cmNoYXNlRGlzY291dHNDb25maWc6IFRwRGlzY291dHNDb25maWc7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOa4heWNleaYr+WQpuayoeacieWVhuWTgVxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBoYXNOb2RhdGE6IGJvb2xlYW47XHJcbiAgICAvKipcclxuICAgICAqIHRpcOmFjee9rlxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBoZWxwT3B0aW9uczogVHBIZWxwT3B0aW9ucztcclxuICAgIC8qKlxyXG4gICAgICog5bqV6YOo5Y2P6K6u6YOo5YiGXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGZvb3RlclByb3RvY29sOiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIOW6lemDqOa4qemmqOaPkOekuuivremDqOWIhlxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBmb290ZXJQcm9tcHQ6IHN0cmluZztcclxuICAgIC8qKlxyXG4gICAgICog6K6i5Y2V56Gu6K6k5oyJ6ZKu5paH5pysXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGJ1dHRvblRleHQ6IHN0cmluZztcclxuICAgIC8qKlxyXG4gICAgICog55So5oi35Y+v5qC55o2u5a6e6ZmF5Zy65pmv5Yaz5a6a56Gu6K6k5oyJ6ZKu5piv5ZCm56aB55So77yI5q+U5aaC5pyq5a6e5ZCN6K6k6K+B562J77yJXHJcbiAgICAgKlxyXG4gICAgICogMTAuMS4x5paw5aKe5o6l5Y+jXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGJ1dHRvbkRpc2FibGVkOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIC8qKlxyXG4gICAgICog6YeH6LSt5Lqn5ZOB5pWw6YeP57uf6K6hXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIHRvdGFsOiBudW1iZXIgPSAwO1xyXG4gICAgLyoqXHJcbiAgICAgKiDorqLljZXnoa7orqTmjInpkq7ngrnlh7vkuovku7ZcclxuICAgICAqL1xyXG4gICAgQE91dHB1dCgpIHJlYWRvbmx5IGNvbmZpcm06IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgLyoqXHJcbiAgICAgKiDlpLTpg6jkuIDplK7muIXnqbrmjInpkq7ngrnlh7vkuovku7ZcclxuICAgICAqL1xyXG4gICAgQE91dHB1dCgpIHJlYWRvbmx5IGNsZWFyOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIC8qKlxyXG4gICAgICog5Y+v6YCJ5LyY5oOg6aG55YiH5o2i6YCJ5oup6aG55pe26Kem5Y+RXHJcbiAgICAgKlxyXG4gICAgICogMTAuMS4yIOaWsOWinuaOpeWPo1xyXG4gICAgICovXHJcbiAgICBAT3V0cHV0KCkgcmVhZG9ubHkgZGlzY291bnRDaGFuZ2U6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBlbXB0eVRleHQ6IHN0cmluZyA9ICctLSc7XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOWNj+iuruaYr+WQpuWLvumAiVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY2hlY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkaXNjb3VudHNDaGFuZ2UoJGV2ZW50OiBhbnkpIHtcclxuICAgICAgICB0aGlzLmRpc2NvdW50Q2hhbmdlLmVtaXQoJGV2ZW50KTtcclxuICAgIH1cclxuICAgIG9uQ2hlY2tib3hOZ01vZGVsQ2hhbmdlKG1vZGVsOiBib29sZWFuKSB7XHJcbiAgICAgICAgLy8gVG9kbyDnpoHnlKh0aXBcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICog56Gu6K6k5oyJ6ZKu54K55Ye76Kem5Y+RXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjbGlja0ZuKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY29uZmlybS5lbWl0KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIOS4gOmUrua4heepulxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY2xlYXJGbigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNsZWFyLmVtaXQoKTtcclxuICAgIH1cclxufVxyXG4iXX0=