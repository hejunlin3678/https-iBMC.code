{"version":3,"file":"cloud-tinyplus3.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../@cloud/tinyplus3/components/accessdeclined/TpAccessdeclinedComponent.ts","../../../../@cloud/tinyplus3/components/accessdeclined/TpAccessdeclinedModule.ts","../../../../@cloud/tinyplus3/components/accordionlist/TpAccordionlistComponent.ts","../../../../@cloud/tinyplus3/components/accordionlist/TpAccordionlistModule.ts","../../../../@cloud/tinyplus3/components/anchor/TpAnchorComponent.ts","../../../../@cloud/tinyplus3/components/anchor/TpAnchorModule.ts","../../../../@cloud/tinyplus3/components/beingmaintained/TpBeingmaintainedComponent.ts","../../../../@cloud/tinyplus3/components/supportregionlist/TpSupportregionlistComponent.ts","../../../../@cloud/tinyplus3/components/supportregionlist/TpSupportregionlistModule.ts","../../../../@cloud/tinyplus3/components/beingmaintained/TpBeingmaintainedModule.ts","../../../../@cloud/tinyplus3/components/icon/TpIconComponent.ts","../../../../@cloud/tinyplus3/components/icon/TpIconlocalComponent.ts","../../../../@cloud/tinyplus3/components/icon/TpIconModule.ts","../../../../@cloud/tinyplus3/components/info/TpInfoComponent.ts","../../../../@cloud/tinyplus3/components/info/TpInfoModule.ts","../../../../@cloud/tinyplus3/components/beta/TpBetaComponent.ts","../../../../@cloud/tinyplus3/components/beta/TpBetaModule.ts","../../../../@cloud/tinyplus3/components/pricecalc/TpPricecalcComponent.ts","../../../../@cloud/tinyplus3/components/pricecalc/TpPricecalcModule.ts","../../../../@cloud/tinyplus3/components/buylayer/TpBuylayerComponent.ts","../../../../@cloud/tinyplus3/pipes/locale/TpDatePipe.ts","../../../../@cloud/tinyplus3/pipes/locale/TpNumberPipe.ts","../../../../@cloud/tinyplus3/pipes/locale/TpCurrencyPipe.ts","../../../../@cloud/tinyplus3/pipes/locale/TpLocaleModule.ts","../../../../@cloud/tinyplus3/cfutils/CfUtil.ts","../../../../@cloud/tinyplus3/utils/TpUtil.ts","../../../../@cloud/tinyplus3/components/buylayer/TpBuylayerLeftComponent.ts","../../../../@cloud/tinyplus3/components/buylayer/TpBuylayerRightComponent.ts","../../../../@cloud/tinyplus3/components/discounts/RatePipe.ts","../../../../@cloud/tinyplus3/components/discounts/TpDiscountsComponent.ts","../../../../@cloud/tinyplus3/components/discounts/TpDiscountsModule.ts","../../../../@cloud/tinyplus3/components/buylayer/IsMajorPrice.ts","../../../../@cloud/tinyplus3/components/buylayer/TpBuylayerModule.ts","../../../../@cloud/tinyplus3/components/card/TpCardComponent.ts","../../../../@cloud/tinyplus3/components/card/TpCardAddComponent.ts","../../../../@cloud/tinyplus3/components/card/TpCardHeaderComponent.ts","../../../../@cloud/tinyplus3/components/card/TpCardModule.ts","../../../../@cloud/tinyplus3/components/cascader/TpCascaderComponent.ts","../../../../@cloud/tinyplus3/components/cascader/TpCascaderModule.ts","../../../../@cloud/tinyplus3/components/collapsebox/TpCollapseboxComponent.ts","../../../../@cloud/tinyplus3/components/collapsebox/TpCollapseboxModule.ts","../../../../@cloud/tinyplus3/components/collapsebutton/TpCollapsebuttonComponent.ts","../../../../@cloud/tinyplus3/components/collapsebutton/TpCollapsepanelComponent.ts","../../../../@cloud/tinyplus3/components/collapsebutton/TpCollapsebuttonModule.ts","../../../../@cloud/tinyplus3/components/score/TpScoreComponent.ts","../../../../@cloud/tinyplus3/components/score/TpScoreModule.ts","../../../../@cloud/tinyplus3/components/contactsurvey/TpContactsurveyComponent.ts","../../../../@cloud/tinyplus3/components/contactsurvey/TpContactsurveyModule.ts","../../../../@cloud/tinyplus3/components/copy/TpToastComponent.ts","../../../../@cloud/tinyplus3/components/copy/TpCopyComponent.ts","../../../../@cloud/tinyplus3/components/copy/TpCopyModule.ts","../../../../@cloud/tinyplus3/components/countdown/TpCountdownComponent.ts","../../../../@cloud/tinyplus3/components/countdown/TpCountdownModule.ts","../../../../@cloud/tinyplus3/components/count/TpCountTimeComponent.ts","../../../../@cloud/tinyplus3/components/count/TpCountComponent.ts","../../../../@cloud/tinyplus3/components/count/TpCountStateComponent.ts","../../../../@cloud/tinyplus3/components/count/TpCountPatternComponent.ts","../../../../@cloud/tinyplus3/components/count/TpCountModule.ts","../../../../@cloud/tinyplus3/components/countdownalert/TpCountdownalertComponent.ts","../../../../@cloud/tinyplus3/components/countdownalert/TpCountdownalertModule.ts","../../../../@cloud/tinyplus3/components/crumb/TpCrumbComponent.ts","../../../../@cloud/tinyplus3/components/crumb/TpCrumbModule.ts","../../../../@cloud/tinyplus3/components/descandbuy/TpDescandbuyComponent.ts","../../../../@cloud/tinyplus3/components/helptip/TpHelptipComponent.ts","../../../../@cloud/tinyplus3/components/helptip/TpHelptipModule.ts","../../../../@cloud/tinyplus3/components/descandbuy/TpDescandbuyModule.ts","../../../../@cloud/tinyplus3/components/halfmodal/TpHalfmodalComponent.ts","../../../../@cloud/tinyplus3/components/halfmodal/TpHalfmodalModule.ts","../../../../@cloud/tinyplus3/components/feedback/TpFeedbackContentComponent.ts","../../../../@cloud/tinyplus3/components/feedback/TpFeedbackComponent.ts","../../../../@cloud/tinyplus3/components/feedback/TpFeedbackModule.ts","../../../../@cloud/tinyplus3/components/foldtext/TpFoldtextComponent.ts","../../../../@cloud/tinyplus3/components/foldtext/TpFoldtextModule.ts","../../../../@cloud/tinyplus3/components/frozen/TpFrozenComponent.ts","../../../../@cloud/tinyplus3/components/frozen/TpFrozenModule.ts","../../../../@cloud/tinyplus3/components/frozenpage/TpFrozenpageComponent.ts","../../../../@cloud/tinyplus3/components/frozenpage/TpFrozenpageModule.ts","../../../../@cloud/tinyplus3/components/grid/TpGridComponent.ts","../../../../@cloud/tinyplus3/components/grid/TpGridModule.ts","../../../../@cloud/tinyplus3/components/guides/TpGuidesComponent.ts","../../../../@cloud/tinyplus3/components/guides/TpGuideComponent.ts","../../../../@cloud/tinyplus3/components/guides/TpGuideHeaderComponent.ts","../../../../@cloud/tinyplus3/components/guides/TpGuideContentComponent.ts","../../../../@cloud/tinyplus3/components/guides/TpGuideBodyComponent.ts","../../../../@cloud/tinyplus3/components/guides/TpGuidesModule.ts","../../../../@cloud/tinyplus3/components/guidesteps/TpGuidestepsComponent.ts","../../../../@cloud/tinyplus3/components/guidesteps/TpGuidestepComponent.ts","../../../../@cloud/tinyplus3/components/guidesteps/TpGuidestepHeaderComponent.ts","../../../../@cloud/tinyplus3/components/guidesteps/TpGuidestepContentComponent.ts","../../../../@cloud/tinyplus3/components/guidesteps/TpGuidestepsModule.ts","../../../../@cloud/tinyplus3/components/iconaction/TpIconactionComponent.ts","../../../../@cloud/tinyplus3/components/iconaction/TpIconactionModule.ts","../../../../@cloud/tinyplus3/components/labeleditor/TpLabeleditorComponent.ts","../../../../@cloud/tinyplus3/components/labeleditor/TpLabeleditorModule.ts","../../../../@cloud/tinyplus3/components/layout/TpLayoutHeaderComponent.ts","../../../../@cloud/tinyplus3/components/layout/TpLayoutContentComponent.ts","../../../../@cloud/tinyplus3/components/layout/TpLayoutSectionComponent.ts","../../../../@cloud/tinyplus3/components/layout/TpLayoutContentBodyComponent.ts","../../../../@cloud/tinyplus3/components/layout/TpLayoutContentHeaderComponent.ts","../../../../@cloud/tinyplus3/components/layout/TpLayoutColumnComponent.ts","../../../../@cloud/tinyplus3/components/layout/TpLayoutModule.ts","../../../../@cloud/tinyplus3/components/leftmenu/TpLeftmenuComponent.ts","../../../../@cloud/tinyplus3/components/leftmenu/TpLeftmenuModule.ts","../../../../@cloud/tinyplus3/components/leftmenuthin/TpLeftmenuthinComponent.ts","../../../../@cloud/tinyplus3/components/leftmenuthin/TpLeftmenuthinModule.ts","../../../../@cloud/tinyplus3/components/linkbutton/TpLinkbuttonComponent.ts","../../../../@cloud/tinyplus3/components/linkbutton/TpLinkbuttonModule.ts","../../../../@cloud/tinyplus3/components/linklist/TpLinklistComponent.ts","../../../../@cloud/tinyplus3/components/linklist/TpLinklistModule.ts","../../../../@cloud/tinyplus3/components/modalbody/TpModalBodyComponent.ts","../../../../@cloud/tinyplus3/components/modalbody/TpModalBodyModule.ts","../../../../@cloud/tinyplus3/components/nonsupportregion/TpNonsupportregionComponent.ts","../../../../@cloud/tinyplus3/components/nonsupportregion/TpNonsupportregionModule.ts","../../../../@cloud/tinyplus3/components/priceline/TpPricelineComponent.ts","../../../../@cloud/tinyplus3/components/priceline/TpPricelineModule.ts","../../../../@cloud/tinyplus3/components/productpreview/TpProductpreviewComponent.ts","../../../../@cloud/tinyplus3/components/productpreview/TpProductpreviewModule.ts","../../../../@cloud/tinyplus3/components/progressbar/TpProgressbarComponent.ts","../../../../@cloud/tinyplus3/components/progressbar/TpProgressbarModule.ts","../../../../@cloud/tinyplus3/components/purchaselist/TpPurchaselistComponent.ts","../../../../@cloud/tinyplus3/components/purchaselist/TpPurchaseitemComponent.ts","../../../../@cloud/tinyplus3/components/purchaselist/TpPurchaseNodataComponent.ts","../../../../@cloud/tinyplus3/components/purchaselist/TpPurchaselistModule.ts","../../../../@cloud/tinyplus3/components/recommend/TpRecommendComponent.ts","../../../../@cloud/tinyplus3/components/smartalert/TpSmartalertComponent.ts","../../../../@cloud/tinyplus3/components/smartalert/TpSmartalertModule.ts","../../../../@cloud/tinyplus3/components/recommend/TpRecommendModule.ts","../../../../@cloud/tinyplus3/components/region/TpRegionComponent.ts","../../../../@cloud/tinyplus3/components/region/TpRegionUtil.ts","../../../../@cloud/tinyplus3/components/region/TpRegionModule.ts","../../../../@cloud/tinyplus3/components/regionselect/TpRegionselectComponent.ts","../../../../@cloud/tinyplus3/components/regionselect/TpRegionselectModule.ts","../../../../@cloud/tinyplus3/components/rename/TpRenameModalContainerComponent.ts","../../../../@cloud/tinyplus3/components/rename/TpRenameModalComponent.ts","../../../../@cloud/tinyplus3/components/rename/TpRenameComponent.ts","../../../../@cloud/tinyplus3/components/rename/TpRenameModule.ts","../../../../@cloud/tinyplus3/components/resources/TpResourcesComponent.ts","../../../../@cloud/tinyplus3/components/resources/TpResourceItemComponent.ts","../../../../@cloud/tinyplus3/components/resources/TpResourcesModule.ts","../../../../@cloud/tinyplus3/services/goandback/TpGoandbackComponent.ts","../../../../@cloud/tinyplus3/services/goandback/TpGoandbackModule.ts","../../../../@cloud/tinyplus3/services/goandback/TpGoandbackService.ts","../../../../@cloud/tinyplus3/components/restrict/TpRestrictComponent.ts","../../../../@cloud/tinyplus3/components/restrict/TpRestrictModule.ts","../../../../@cloud/tinyplus3/components/searchbox/TpSearchboxComponent.ts","../../../../@cloud/tinyplus3/components/searchbox/TpSearchboxHelpComponent.ts","../../../../@cloud/tinyplus3/components/searchbox/TpSearchboxModule.ts","../../../../@cloud/tinyplus3/components/selectgroup/TpSelectgroupComponent.ts","../../../../@cloud/tinyplus3/components/selectgroup/TpSelectitemComponent.ts","../../../../@cloud/tinyplus3/components/selectgroup/TpSelectgroupModule.ts","../../../../@cloud/tinyplus3/components/selectsearchbox/TpSelectsearchboxComponent.ts","../../../../@cloud/tinyplus3/components/selectsearchbox/TpSelectsearchboxModule.ts","../../../../@cloud/tinyplus3/components/slidecards/TpSlidecardsComponent.ts","../../../../@cloud/tinyplus3/components/slidecards/TpSlidecardsModule.ts","../../../../@cloud/tinyplus3/components/stepguide/TpStepguideComponent.ts","../../../../@cloud/tinyplus3/components/stepguide/TpStepguideModule.ts","../../../../@cloud/tinyplus3/components/subtitle/TpSubtitleComponent.ts","../../../../@cloud/tinyplus3/components/subtitle/TpSubtitleModule.ts","../../../../@cloud/tinyplus3/components/swiper/TpSwipercardComponent.ts","../../../../@cloud/tinyplus3/components/swiper/TpSwiperComponent.ts","../../../../@cloud/tinyplus3/components/swiper/TpSwiperModule.ts","../../../../@cloud/tinyplus3/services/binding/TpBindingModule.ts","../../../../@cloud/tinyplus3/services/binding/TpBindingService.ts","../../../../@cloud/tinyplus3/services/identification/TpIdentificationModule.ts","../../../../@cloud/tinyplus3/services/identification/TpIdentificationService.ts","../../../../@cloud/tinyplus3/services/identityauth/TpIdentityauthmodalComponent.ts","../../../../@cloud/tinyplus3/services/identityauth/TpIdentityauthModule.ts","../../../../@cloud/tinyplus3/services/identityauth/TpIdentityauthService.ts","../../../../@cloud/tinyplus3/services/recharge/TpRechargeModule.ts","../../../../@cloud/tinyplus3/services/recharge/TpRechargeService.ts","../../../../@cloud/tinyplus3/directives/storage/TpStorageColumnsDirective.ts","../../../../@cloud/tinyplus3/directives/storage/TpStorageColumnsModule.ts","../../../../@cloud/tinyplus3/components/timeline/TpTimelineComponent.ts","../../../../@cloud/tinyplus3/components/timeline/TpTimelineModule.ts","../../../../@cloud/tinyplus3/components/tagsearch/TpTagsearchComponent.ts","../../../../@cloud/tinyplus3/components/tagsearch/TpTagsearchModule.ts","../../../../@cloud/tinyplus3/index.ts","../../../../@cloud/tinyplus3/cloud-tinyplus3.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n/**\r\n * 访问受限页面组件\r\n *\r\n * <example-url>../tinyplus3demo/#/accessdeclined/accessdeclined-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-accessdeclined',\r\n    templateUrl: './accessdeclined.html',\r\n    styleUrls: ['./accessdeclined.less']\r\n})\r\n\r\nexport class TpAccessdeclinedComponent extends TiBaseComponent { }\r\n","import { NgModule } from '@angular/core';\r\nimport { TpAccessdeclinedComponent } from './TpAccessdeclinedComponent';\r\nimport { TiLocaleModule } from '@cloud/tiny3';\r\n\r\n@NgModule({\r\n  imports: [\r\n    TiLocaleModule\r\n  ],\r\n  exports: [TpAccessdeclinedComponent],\r\n  declarations: [TpAccessdeclinedComponent]\r\n})\r\n\r\nexport class TpAccessdeclinedModule { }\r\nexport { TpAccessdeclinedComponent } from './TpAccessdeclinedComponent';\r\n","import { Component, ContentChild, Input, QueryList, TemplateRef, ViewChildren } from '@angular/core';\r\nimport { TiAccordionItemComponent, TiActionmenuItem, TiBaseComponent } from '@cloud/tiny3';\r\n\r\n/**\r\n * 折叠面板列表中单个折叠面板的信息接口\r\n */\r\nexport interface TpAccordionlistOption {\r\n    /**\r\n     * 单个折叠面板是否处于展开状态，用于初始化设置，默认不展开\r\n     */\r\n    open?: boolean;\r\n    /**\r\n     * 单个折叠面板是否禁用\r\n     */\r\n    disabled?: boolean;\r\n    /**\r\n     * 单个折叠面板的头部(除过右侧actionmenu操作区)点击回调\r\n     */\r\n    headClick?: ($event: Event) => void;\r\n    /**\r\n     * 单个折叠面板左侧的显示文本\r\n     */\r\n    headlabel?: string;\r\n    /**\r\n     * 单个折叠面板右侧actionmenu操作区配置项\r\n     */\r\n    actionmenu?: TpAccordionlistActionmenuItem;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\nexport interface TpAccordionlistActionmenuItem {\r\n    /**\r\n     * 操作项数据集\r\n     */\r\n    items: Array<TiActionmenuItem>;\r\n    /**\r\n     * 数据集中要显示字符串的key\r\n     */\r\n    labelKey?: string;\r\n    /**\r\n     * 下拉面板最大宽度，超过时换行，对所有子菜单都生效\r\n     */\r\n    panelMaxWidth?: string;\r\n    /**\r\n     * 下拉面板最大高度度，超过时出现竖向滚动条，对所有子菜单都生效。\r\n     */\r\n    panelMaxHeight?: string;\r\n    /**\r\n     * 操作项外部容器宽度\r\n     */\r\n    maxWidth?: string;\r\n    /**\r\n     * @ignore\r\n     * 最多显示个数, 包含下拉菜单。UI规范规定最多显示4个, 所以暂不对外开放\r\n     */\r\n    maxShowNum?: number;\r\n    /**\r\n     * 点击选中操作菜单项事件\r\n     */\r\n    select?: (item: TiActionmenuItem, option: TpAccordionlistOption) => void;\r\n\r\n    // moreText?: string; 之后有需求再开放\r\n    // data?: any;\r\n    // dataToItemsFn?: (data: any) => Array<TiActionmenuItem>;\r\n\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n *\r\n *  折叠面板列表组件\r\n *\r\n *  10.1.0版本新增\r\n *\r\n *  10.0.4及之前的版本是以模板的形式提供(只提供了一些样式）；10.1.0版本为了实现样式按需加载和其使用简便性，去掉了之前的模板，封装了该组件。\r\n *\r\n *  <example-url>../tinyplus3demo/#/accordionlist/accordionlist-all</example-url>\r\n *\r\n */\r\n@Component({\r\n    selector: 'tp-accordionlist',\r\n    templateUrl: './accordionlist.html',\r\n    styleUrls: ['./accordionlist.less']\r\n})\r\nexport class TpAccordionlistComponent extends TiBaseComponent {\r\n    /**\r\n     * 展开某一项时，是否关闭其它项\r\n     */\r\n    @Input() closeOthers: boolean = true;\r\n    /**\r\n     * 折叠面板列表数据集合\r\n     */\r\n    @Input() options: Array<TpAccordionlistOption> = [];\r\n    /**\r\n     * @ignore\r\n     * 获取到用户自定义的头部左侧label区模板\r\n     */\r\n    @ContentChild('headLabel', { static: true }) public headLabelTemplate: TemplateRef<any>;\r\n    /**\r\n     * @ignore\r\n     * 获取到用户自定义的展开内容区模板\r\n     */\r\n    @ContentChild('content', { static: true }) public contentTemplate: TemplateRef<any>;\r\n    @ViewChildren(TiAccordionItemComponent) private accordionItemComps: QueryList<TiAccordionItemComponent>;\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public headClick($event: Event, option: TpAccordionlistOption, index: number, actionmenuContainer: any): void {\r\n        // 点击非actionmenu区域时展开/收起\r\n        if (!actionmenuContainer.contains($event.target)) {\r\n            const currentAccordionItem: TiAccordionItemComponent = this.accordionItemComps.toArray()[index];\r\n            if (currentAccordionItem) {\r\n                currentAccordionItem.open = !currentAccordionItem.open;\r\n                if (option.headClick) {\r\n                    option.headClick($event);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onActionmenuSelect(item: TiActionmenuItem, option: TpAccordionlistOption): void {\r\n        if (option.actionmenu && option.actionmenu.select) {\r\n            option.actionmenu.select(item, option);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public getActionmenuItems(option: TpAccordionlistOption): Array<TiActionmenuItem> {\r\n        if (!option.actionmenu || !option.actionmenu.items || option.actionmenu.items.length < 1) {\r\n            return [];\r\n        }\r\n\r\n        return option.actionmenu.items.map((item: TiActionmenuItem): TiActionmenuItem => {\r\n            item.disabled = option.disabled || item.disabled;\r\n\r\n            return item;\r\n        });\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TiAccordionModule, TiActionmenuModule } from '@cloud/tiny3';\r\n\r\nimport { TpAccordionlistComponent } from './TpAccordionlistComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiAccordionModule,\r\n    TiActionmenuModule\r\n  ],\r\n  exports: [TpAccordionlistComponent],\r\n  declarations: [TpAccordionlistComponent]\r\n})\r\n\r\nexport class TpAccordionlistModule {}\r\nexport { TpAccordionlistComponent, TpAccordionlistOption, TpAccordionlistActionmenuItem } from './TpAccordionlistComponent';\r\n","import { Component, ContentChild, ElementRef, EventEmitter, Input, NgZone, Output, Renderer2, SimpleChange, SimpleChanges, TemplateRef } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n\r\nexport interface TpAnchorItem {\r\n    /* tslint:disable:no-redundant-jsdoc */\r\n    /**\r\n     * 设置id，对应页面中联动的DOM元素id;\r\n     */\r\n    id: string;\r\n    /**\r\n     * 设置文本;\r\n     */\r\n    title?: string;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n/**\r\n * 定位导航组件\r\n *\r\n * <example-url>../tinyplus3demo/#/anchor/anchor-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-anchor',\r\n    templateUrl: './anchor.html',\r\n    styleUrls: ['./anchor.less'],\r\n    host: {\r\n        '[class.tp-anchor-container]': 'true'\r\n    }\r\n})\r\n\r\nexport class TpAnchorComponent extends TiBaseComponent {\r\n    /**\r\n     * 组件数据\r\n     */\r\n    @Input() items: Array<TpAnchorItem>;\r\n    /**\r\n     * 设置要跳转到的目标锚点元素id，对应页面中联动的DOM元素id\r\n     */\r\n    @Input() anchorId: string;\r\n    /**\r\n     * 设置锚点对应Dom元素距窗口顶部距离，点击切换锚点时，页面滑动在到达该值时，切换到对应锚点\r\n     *\r\n     * <b>注：</b>通过滚轮滚动时，当顶部距离小于设置的offsetTop值，切换到对应锚点\r\n     */\r\n    @Input() offsetTop: number = 50;\r\n    /**\r\n     * 设置用户点击锚点时，页面滑动速度，其单位为ms\r\n     */\r\n    @Input() speed: number = 300;\r\n    /**\r\n     * 跳转到该锚点时，触发事件\r\n     */\r\n    @Output() readonly select: EventEmitter<TpAnchorItem> = new EventEmitter<TpAnchorItem>();\r\n    /**\r\n     * 锚点id改变事件，用于实现锚点id双向绑定，也可单独使用\r\n     *\r\n     * 10.0.4/9.0.8新增接口\r\n     */\r\n    @Output() readonly anchorIdChange: EventEmitter<string> = new EventEmitter<string>();\r\n    /**\r\n     * @ignore\r\n     * 获取到用户自定义的模板\r\n     */\r\n    @ContentChild('item', { static: true }) itemTemplete: TemplateRef<any>;\r\n    private unlistenScroll: () => void;\r\n    /**\r\n     * 是否组件内部触发scroll事件\r\n     */\r\n    private isInnerScrolling: boolean;\r\n    /**\r\n     * @ignore\r\n     * 保存组件内部更改后的锚点id\r\n     */\r\n    public currentId: string;\r\n    private hasGoanchor: boolean = false;\r\n    private hasAnimation: boolean = false; // 初始化及数据更新时，无需平滑滚动\r\n    constructor(private element: ElementRef, private renderer2: Renderer2, private zone: NgZone) {\r\n        super(element, renderer2);\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        super.ngOnChanges(changes);\r\n        const anchorIdObj: SimpleChange = changes['anchorId'];\r\n        const itemsObj: SimpleChange = changes['items'];\r\n        if (anchorIdObj && anchorIdObj.currentValue && !anchorIdObj.isFirstChange() && this.anchorId !== this.currentId) {\r\n            this.hasGoanchor = false;\r\n            this.hasAnimation = true;\r\n        }\r\n        if (itemsObj && itemsObj.currentValue && !itemsObj.isFirstChange()) {\r\n            this.hasGoanchor = false;\r\n        }\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        // 监听滚轮事件\r\n        this.zone.runOutsideAngular(() => {\r\n            this.unlistenScroll = this.renderer2.listen(window, 'scroll', () => {\r\n                this.onWindowScroll();\r\n            });\r\n        });\r\n    }\r\n\r\n    ngAfterViewChecked(): void {\r\n        super.ngAfterViewChecked();\r\n        // 数据更新anchorId有值时，需要滚动页面到指定位置，只触发一次\r\n        if (!this.hasGoanchor) {\r\n            this.hasGoanchor = true;\r\n            this.goToAnchor(this.anchorId || this.items && this.items[0] && this.items[0].id);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        super.ngOnDestroy();\r\n        if (this.unlistenScroll) {\r\n            this.unlistenScroll();\r\n        }\r\n    }\r\n\r\n    // 页面滚动时，相应锚点高亮\r\n    private onWindowScroll(): void {\r\n        if (this.isInnerScrolling) {\r\n            return;\r\n        }\r\n        const scrollTop: number = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\r\n        const itemLength: number = this.items && this.items.length;\r\n        // 页面滚动时，锚点对应Dom元素距浏览器窗口顶部高度小于等于所配置的顶部偏移量，则应是当前锚点\r\n        for (let i: number = itemLength - 1; i >= 0; i--) {\r\n            const anchorEle: HTMLElement = document.getElementById(this.items[i].id);\r\n            // 判断有无当前激活锚点，使用户点击时，只当前锚点高亮；而滚动时，相对应锚点都高亮\r\n            if (anchorEle && anchorEle.offsetTop) {\r\n                const clientY: number = anchorEle.offsetTop - scrollTop - this.offsetTop;\r\n                const id: string = this.anchorId;\r\n                if (clientY <= this.offsetTop) {\r\n                    this.zone.run(() => {\r\n                        this.anchorId = this.currentId = this.items[i].id;\r\n                        // 锚点改变时，仅向外通知一次\r\n                        if (this.anchorId !== id) {\r\n                            this.select.emit(this.items[i]);\r\n                            this.anchorIdChange.emit(this.items[i].id);\r\n                        }\r\n                    });\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClick(item: TpAnchorItem): void {\r\n        this.hasAnimation = true;\r\n        this.goToAnchor(item.id);\r\n    }\r\n\r\n    /**\r\n     * 页面滚动到目标锚点对应位置\r\n     * @param anchorId 锚点id\r\n     */\r\n    private goToAnchor(anchorId: string): void {\r\n        this.isInnerScrolling = true;\r\n        const targetEle: HTMLElement = document.getElementById(anchorId);\r\n        const scrollTop: number = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\r\n        const scollPosition: number = targetEle && targetEle.offsetTop - this.offsetTop;\r\n\r\n        /**\r\n         * 初始化及数据更新时，页面直接滚动到定位位置；\r\n         * 点击锚点切换及用户动态改变当前锚点id时，滚动条平滑运动。\r\n         */\r\n        if (this.hasAnimation) {\r\n            this.scrollAnimation(scrollTop, scollPosition, anchorId, this.speed);\r\n        } else {\r\n            // 修改了当前高亮锚点，使用setTimeout，消除ExpressionChangedAfterItHasBeenCheckedError报错\r\n            setTimeout(() => {\r\n                this.scrollToView(scollPosition, anchorId);\r\n            }, 0);\r\n        }\r\n    }\r\n\r\n    // 滚动条平滑运动\r\n    private scrollAnimation(currentY: number, targetY: number, anchorId: string, speed?: number): void {\r\n        const direction: number = targetY - currentY > 0 ? 1 : -1;\r\n        let distance: number = Math.abs(targetY - currentY);  // 滚动条需要滚动的距离\r\n        const stepTimes: number = speed / (1000 / 60); // 一般浏览器刷新频率是60HZ，时间间隔为1000ms/60，总帧数\r\n        let stepDist: number = distance / stepTimes; // 每帧滚动条滚动距离\r\n\r\n        if (targetY !== currentY) {\r\n            stepDist *= direction;\r\n            // 定时器，1000/60ms时间间隔 执行一次\r\n            let positionY: number = currentY;\r\n            let timer: any = setInterval(() => {\r\n                positionY = positionY + stepDist;\r\n                distance -= Math.abs(stepDist);\r\n                if (distance <= 0) {\r\n                    clearInterval(timer);\r\n                    timer = undefined;\r\n                    this.scrollToView(targetY, anchorId);\r\n                    this.hasAnimation = false; // 更新hasAnimation\r\n                } else {\r\n                    window.scrollTo(0, positionY);\r\n                }\r\n            }, 1000 / 60);\r\n        }\r\n    }\r\n\r\n    // 页面定位到指定位置，无滚动效果\r\n    private scrollToView(target: number, anchorId: string): void {\r\n        window.scrollTo(0, target); // 横向坐标不移动\r\n        this.getCurrentAnchor(anchorId);\r\n        this.isInnerScrolling = false;\r\n    }\r\n\r\n    // 页面滚动到指定位置之后，向外通知当前锚点数据\r\n    private getCurrentAnchor(anchorId: string): void {\r\n        this.anchorId = this.currentId = anchorId;\r\n        for (const item of this.items) {\r\n            if (item.id === anchorId) {\r\n                this.select.emit(item);\r\n                this.anchorIdChange.emit(item.id);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpAnchorComponent } from './TpAnchorComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [TpAnchorComponent],\r\n  declarations: [TpAnchorComponent]\r\n})\r\n\r\nexport class TpAnchorModule {}\r\nexport { TpAnchorComponent, TpAnchorItem } from './TpAnchorComponent';\r\n","import { ChangeDetectorRef, Component, ElementRef, Renderer2, ViewChild } from '@angular/core';\r\nimport { TiBaseComponent, TiLocale, Util } from '@cloud/tiny3';\r\nimport { AccountService } from '@cloud/cfdata';\r\nimport { Subscription } from 'rxjs';\r\n\r\n/**\r\n * 区域服务维护页面组件\r\n *\r\n * 该组件与console框架相关，框架处理数据，组件获取数据显示；\r\n * 使用时只需引入该组件，无需配置属性接口。\r\n *\r\n * <b>注</b>：支持列表中的region区域是服务已配置的可支持的区域。\r\n *\r\n * <example-url>../tinyplus3demo/#/beingmaintained/beingmaintained-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-beingmaintained',\r\n    templateUrl: 'beingmaintained.html',\r\n    styleUrls: ['beingmaintained.less'],\r\n})\r\n\r\nexport class TpBeingmaintainedComponent extends TiBaseComponent {\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('container') containerEle: ElementRef;\r\n    /**\r\n     * @ignore\r\n     */\r\n    maintainRegions: Array<any>;\r\n    /**\r\n     * @ignore\r\n     */\r\n    label: string;\r\n    /**\r\n     * @ignore\r\n     */\r\n    maintainTime: string;\r\n    /**\r\n     * @ignore\r\n     */\r\n    describe: string;\r\n    private regionsDataSub: Subscription;\r\n    private tpBeingmaintained: any = TiLocale.getLocaleWords().tpBeingmaintained;\r\n\r\n    constructor(\r\n        private elementRef: ElementRef,\r\n        private renderer2: Renderer2,\r\n        private changeDetector: ChangeDetectorRef) {\r\n        super(elementRef, renderer2);\r\n    }\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.setRegionsData();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        super.ngOnDestroy();\r\n        if (this.regionsDataSub) {\r\n            this.regionsDataSub.unsubscribe();\r\n        }\r\n    }\r\n\r\n    private setRegionsData(): void {\r\n        if (!(window as any).cfRegionSubject) {\r\n            return;\r\n        }\r\n\r\n        this.regionsDataSub = (window as any).cfRegionSubject.subscribe({\r\n            next: (items: { region: any, maintainRegions: Array<any> }): void => {\r\n                if (items.region && items.region.displayName) {\r\n                    const displayName: any = `<span>${items.region.displayName}</span>`;\r\n                    this.label = Util.formatEntry(this.tpBeingmaintained.label, [displayName]);\r\n                    this.getMaintainData().then((maintainData: { time: string, describe: string }) => {\r\n                        if (maintainData) {\r\n                            if (!Util.isEmptyString(maintainData.time)) {\r\n                                this.maintainTime = `${this.tpBeingmaintained.maintainTime}${maintainData.time}`;\r\n                            }\r\n                            this.describe = maintainData.describe;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                this.maintainRegions = items.maintainRegions;\r\n                this.changeDetector.detectChanges();\r\n            }\r\n        });\r\n    }\r\n\r\n    private getMaintainData(): Promise<any> {\r\n        return AccountService.queryCustomMaintenances().then((data: any) => {\r\n            let time: string = '';\r\n            let describe: string = '';\r\n            if (data) {\r\n                time = data.startTime + ' - ' + data.endTime;\r\n                describe = data.describe;\r\n            }\r\n            return { time, describe };\r\n        });\r\n    }\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n\r\n/**\r\n * @ignore\r\n * 内部使用组件\r\n */\r\n@Component({\r\n    selector: 'tp-supportregionlist',\r\n    templateUrl: './supportregionlist.html',\r\n    styleUrls: ['./supportregionlist.less']\r\n})\r\n\r\nexport class TpSupportregionlistComponent extends TiBaseComponent {\r\n    @Input() regions: Array<any>;\r\n    private selectedRegionEvent: any;\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    onClick(item: any): void {\r\n        if (!this.selectedRegionEvent) {\r\n            this.selectedRegionEvent = document.createEvent('HTMLEvents');\r\n            this.selectedRegionEvent.initEvent('cfChangeRegion', true, true);\r\n        }\r\n\r\n        this.selectedRegionEvent.detail = item;\r\n        document.dispatchEvent(this.selectedRegionEvent);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    onClickIcon(event: Event, item: any): void {\r\n        item.showProjectsList = !item.showProjectsList;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TiLocaleModule } from '@cloud/tiny3';\r\nimport { TpSupportregionlistComponent } from './TpSupportregionlistComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiLocaleModule\r\n  ],\r\n  exports: [TpSupportregionlistComponent],\r\n  declarations: [TpSupportregionlistComponent]\r\n})\r\n\r\nexport class TpSupportregionlistModule { }\r\nexport { TpSupportregionlistComponent } from './TpSupportregionlistComponent';\r\n","import { NgModule } from '@angular/core';\r\nimport { TiLocaleModule } from '@cloud/tiny3';\r\nimport { TpBeingmaintainedComponent } from './TpBeingmaintainedComponent';\r\nimport { TpSupportregionlistModule } from '../supportregionlist/TpSupportregionlistModule';\r\n\r\n@NgModule({\r\n  imports: [\r\n    TiLocaleModule,\r\n    TpSupportregionlistModule\r\n  ],\r\n  exports: [TpBeingmaintainedComponent],\r\n  declarations: [TpBeingmaintainedComponent]\r\n})\r\n\r\nexport class TpBeingmaintainedModule {}\r\nexport { TpBeingmaintainedComponent } from './TpBeingmaintainedComponent';\r\n","import { Component, Input, SimpleChange, SimpleChanges, ElementRef, Renderer2 } from '@angular/core';\r\nimport { TiBaseComponent, Util } from '@cloud/tiny3';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { share } from 'rxjs/operators';\r\n\r\n// TODO：如果封装为胶囊样式，DOM内部多一层，比现在优劣？\r\n/**\r\n *  Icon组件，非本地懒加载Icon\r\n *\r\n *  Icon组件可以设置显示Icon。\r\n *\r\n * <example-url>../tinyplus3demo/#/icon/icon-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-icon:not([local])',\r\n    template: '<ng-content></ng-content>',\r\n    styleUrls: ['./icon.less'],\r\n    host: {\r\n        '[class.tp-cloud-action-state-ing]': \"name === 'cloud-action-state-ing'\"\r\n    },\r\n})\r\nexport class TpIconComponent extends TiBaseComponent {\r\n\r\n    /**\r\n     * Icon基路径\r\n     */\r\n    private static path: string = 'assets/tinyplus3/icons/';\r\n    /**\r\n     * 保存url和观察者，避免并发的重复请求。\r\n     */\r\n    private static urlObservableMap: Map<String, Observable<string>> = new Map<String, Observable<string>>();\r\n    /**\r\n     * icon名称\r\n     */\r\n    @Input() name: string;\r\n\r\n    constructor(protected hostRef: ElementRef, protected renderer: Renderer2, private http: HttpClient) {\r\n        super(hostRef, renderer);\r\n    }\r\n    /**\r\n     * 设置icon下载地址，默认是'assets/tinyplus3/icons/'\r\n     * @param path\r\n     */\r\n    public static setPath(path: string): void {\r\n        TpIconComponent.path = path;\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        super.ngOnChanges(changes);\r\n        const nameChange: SimpleChange = changes['name'];\r\n        if (nameChange && !Util.isEmptyString(nameChange.currentValue)) {\r\n            // 拼接URL\r\n            const url: string = `${TpIconComponent.path}${nameChange.currentValue}.svg`;\r\n            // 取出观察者\r\n            let ob: Observable<string> = TpIconComponent.urlObservableMap.get(url);\r\n            if (!ob) {\r\n                // 如果不存在观察者，则发起http请求。share()是为了避免每次订阅都发起http请求。\r\n                ob = this.http.get(url, { responseType: 'text' }).pipe(share());\r\n                // 保存ur和观察者\r\n                TpIconComponent.urlObservableMap.set(url,ob);\r\n            }\r\n            // 订阅http请求结果\r\n            ob.subscribe(\r\n                (svgText: string): void => {\r\n                    // 将<svg>挂在<tp-icon>下\r\n                    this.nativeElement.innerHTML = svgText;\r\n                    // 删除url和观察者\r\n                    TpIconComponent.urlObservableMap.delete(url);\r\n                }\r\n            );\r\n        }\r\n    }\r\n}\r\n","import { Component, Input, SimpleChange, SimpleChanges, ViewEncapsulation } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n\r\n// TODO：如果封装为胶囊样式，DOM内部多一层，比现在优劣？\r\n/**\r\n * @ignore Icon组件，本地Icon\r\n *\r\n *  Icon组件可以设置显示Icon。\r\n *\r\n * <example-url>../tinyplus3demo/#/icon/icon-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-icon[local]',\r\n    template: '<ng-content></ng-content>',\r\n    styleUrls: ['./iconlocal.less'],\r\n    encapsulation: ViewEncapsulation.None // 样式是加在标签上的，不是内部，所以非胶囊\r\n})\r\nexport class TpIconlocalComponent extends TiBaseComponent {\r\n    /**\r\n     * icon名称\r\n     */\r\n    @Input() name: string;\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        super.ngOnChanges(changes);\r\n        const nameChange: SimpleChange = changes['name'];\r\n        if (nameChange) {\r\n            this.renderer.removeClass(this.nativeElement, `tp-icon-${nameChange.previousValue}`);\r\n            this.renderer.addClass(this.nativeElement, `tp-icon-${nameChange.currentValue}`);\r\n        }\r\n    }\r\n}\r\n/* ti-icon组件，为了防止多个组件重复使用字体图标文件，导致最终用户打包文件成倍增大。\r\n因此封装该组件，确保最终打包只引用一份字体图标样式及文件 */\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TpIconComponent } from './TpIconComponent';\r\nimport { TpIconlocalComponent } from './TpIconlocalComponent';\r\n\r\n// 此模块不导入HttpClient，是因为懒加载模块中的HttpClientModule，会覆盖全局的。导致http拦截器失效。\r\n// import { HttpClientModule } from '@angular/common/http';\r\n\r\n@NgModule({\r\n  imports: [CommonModule/* , HttpClientModule */],\r\n  exports: [TpIconComponent, TpIconlocalComponent],\r\n  declarations: [TpIconComponent, TpIconlocalComponent]\r\n})\r\nexport class TpIconModule {}\r\nexport { TpIconComponent } from './TpIconComponent';\r\nexport { TpIconlocalComponent } from './TpIconlocalComponent';\r\n","import { Component, ElementRef, Input, Renderer2, ViewChild } from '@angular/core';\r\n// import { TpUtil } from '../../utils/TpUtil';\r\nimport { TiLocale, TiBaseComponent } from '@cloud/tiny3';\r\n\r\n/**\r\n * @ignore\r\n * <example-url>../tinyplus3demo/#/info/info-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-info',\r\n    templateUrl: './info.html',\r\n    styleUrls: ['./info.less']\r\n})\r\n\r\nexport class TpInfoComponent extends TiBaseComponent {\r\n    /**\r\n     * 提示信息类型，有两种可选择类型：'restricted'，'unverified'\r\n     */\r\n    @Input() infoType: string = 'unverified';\r\n    private config: object = {\r\n        restricted: {\r\n            cls: 'tp-info-restricted',\r\n            content: TiLocale.getLocaleWords().tpInfo.restricted\r\n        },\r\n        unverified: {\r\n            cls: 'tp-info-unverified',\r\n            content: TiLocale.getLocaleWords().tpInfo.unverified\r\n        }\r\n    };\r\n\r\n    // content元素elementRef\r\n    @ViewChild('contentEle', {static: true}) private contentEle: ElementRef;\r\n\r\n    // 提示内容\r\n    public content: string;\r\n\r\n    constructor(private element: ElementRef, protected renderer: Renderer2) {\r\n        super(element, renderer);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        const typeConfig: any = this.config[this.infoType];\r\n        this.renderer.addClass(this.element.nativeElement, typeConfig.cls);\r\n        this.content = typeConfig.content;\r\n    }\r\n\r\n    // ngAfterViewInit(): void {\r\n    //     TpInfoComponent.setATag(this.contentEle.nativeElement);\r\n    // }\r\n\r\n    // // 设置a标签样式和行为方式\r\n    // private static setATag(element: HTMLElement): any {\r\n    //     const aTags: NodeListOf<HTMLAnchorElement> = element.querySelectorAll('a');\r\n    //     if (!aTags || aTags.length === 0) {\r\n    //         console.log('!aTags');\r\n    //         return;\r\n    //     }\r\n    //     aTags.forEach((atag: HTMLAnchorElement) => {\r\n    //         TpUtil.setAttrs(atag, {\r\n    //             class: 'tp-link-no-decoration',\r\n    //             target: '_blank'\r\n    //         });\r\n    //     });\r\n    // }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\nimport { TpInfoComponent } from './TpInfoComponent';\r\n\r\n/**\r\n * @ignore\r\n */\r\n@NgModule({\r\n  imports: [TpIconModule],\r\n  exports: [TpInfoComponent],\r\n  declarations: [TpInfoComponent]\r\n})\r\n\r\nexport class TpInfoModule {}\r\nexport { TpInfoComponent } from './TpInfoComponent';\r\n","import { Component, Input } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n\r\n/**\r\n * 公测组件\r\n *\r\n * <example-url>../tinyplus3demo/#/beta/beta-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-beta',\r\n    templateUrl: './beta.html',\r\n    styleUrls: ['./beta.less']\r\n})\r\nexport class TpBetaComponent extends TiBaseComponent {\r\n    /**\r\n     * 服务图标\r\n     */\r\n    @Input() icon: string;\r\n    /**\r\n     * 了解更多跳转链接\r\n     */\r\n    @Input() moreUrl: string = '';\r\n    /**\r\n     * 服务介绍描述\r\n     */\r\n    @Input() intro: string = '';\r\n    /**\r\n     * 服务消息描述\r\n     */\r\n    @Input() message: string = '';\r\n    /**\r\n     * 是否实名认证，未实名认证情况会有提示，并且申请按钮灰化\r\n     */\r\n    @Input() verified: boolean = true;\r\n    /**\r\n     * 立即申请跳转链接\r\n     */\r\n    @Input() applyUrl: string = '';\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClickFn(event: Event): void {\r\n        if(!this.verified) {\r\n            event.preventDefault();\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TiButtonModule, TiLocaleModule } from '@cloud/tiny3';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\nimport { TpInfoModule } from '../info/TpInfoModule';\r\nimport { TpBetaComponent } from './TpBetaComponent';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, TiButtonModule, TiLocaleModule, TpIconModule, TpInfoModule],\r\n  exports: [TpBetaComponent],\r\n  declarations: [TpBetaComponent]\r\n})\r\nexport class TpBetaModule {}\r\nexport { TpBetaComponent } from './TpBetaComponent';\r\n","import { Component, ContentChild, ElementRef, EventEmitter, Input, Output, Renderer2, SecurityContext, TemplateRef, ViewChild } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { TiBaseComponent, TiBrowser, TiLocale, Util } from '@cloud/tiny3';\r\n\r\n// 配置values接口且URL不是默认的帮助中心链接时，组件创建表单，将value数据提交到配置的URL地址；\r\n// 否则，组件不创建表单，点击直接跳转到帮助中心，查看产品详情\r\n\r\nexport interface TpPricecalcParam {\r\n    value: string;\r\n    key: string;\r\n}\r\n\r\n/**\r\n * 价格计算器组件\r\n *\r\n * <example-url>../tinyplus3demo/#/pricecalc/pricecalc-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-pricecalc',\r\n    templateUrl: './pricecalc.html',\r\n    styleUrls: ['./pricecalc.less']\r\n})\r\nexport class TpPricecalcComponent extends TiBaseComponent {\r\n    /**\r\n     * 图标右侧文本\r\n     *\r\n     * 缺省值 : 价格计算器/price Calculator（国际化）\r\n     */\r\n    @Input() label: string = TiLocale.getLocaleWords().tpPricecalc.label;\r\n    /**\r\n     * 查看详情的链接地址\r\n     *\r\n     */\r\n    @Input() detailHref: string;\r\n\r\n    /**\r\n     * 查询的产品信息\r\n     *\r\n     * 类型为对象数组，对象包含两个属性：key和value（url地址参数形式为key1=value1&key2=value2）\r\n     */\r\n    @Input() values: Array<TpPricecalcParam>;\r\n    /**\r\n     * 查看价格的链接地址\r\n     */\r\n    @Input() url: string = 'http://www.helpcenter.com/';\r\n    /**\r\n     * 表单向url地址的提交方式\r\n     */\r\n    @Input() method: string;\r\n    /**\r\n     * 点击链接前的事件接口\r\n     */\r\n    @Output() readonly beforeClick: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('myform', { static: true }) form: ElementRef;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ContentChild('detail', { static: true }) detailTemplate: TemplateRef<any>;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public detailHrefBeforeText: string = TiLocale.getLocaleWords().tpPricecalc.detailHrefBeforeText;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public detailHrefText: string = TiLocale.getLocaleWords().tpPricecalc.detailHrefText;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public detailHrefAfterText: string = TiLocale.getLocaleWords().tpPricecalc.detailHrefAfterText;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public isNotDefaultUrl: boolean;\r\n    /**\r\n     * 提交 form 时新打开的页签窗口名\r\n     */\r\n    private blankTab: string;\r\n\r\n    constructor(elementRef: ElementRef, renderer2: Renderer2, private domSanitizer: DomSanitizer) {\r\n        super(elementRef, renderer2);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClick(): void {\r\n        this.beforeClick.emit();\r\n\r\n        setTimeout(() => {\r\n            // 问题背景：给 form 标签上设置 rel=\"noopener noreferrer\" 实际是不生效的，还是存在被新打开的页面的恶意带代码重定向原页面的安全漏洞的。\r\n            // 解决方案：先用 window.open 打开一个新的页签窗口(this.blankTab)，然后利用 form 的 target 属性将表单提交到这个窗口中, 那么就可以获取到新窗口\r\n            //          的window对象(window.open 的返回值)，将其 opener 属性置为 null，从而消除该安全漏洞。\r\n            // 注意：该解决方案不适用于IE, IE 下暂未找到解决方案\r\n            if (!TiBrowser.isIE()) {\r\n                this.blankTab = Util.getUniqueId('new_tab'); // 确保是新的页签\r\n                const newWindow: any = window.open(this.domSanitizer.sanitize(SecurityContext.URL, this.url), this.blankTab);\r\n                if (newWindow) {\r\n                    newWindow.opener = null;\r\n                }\r\n            }\r\n            this.form.nativeElement.target = TiBrowser.isIE() ? '_blank' : this.blankTab;\r\n            this.form.nativeElement.submit();\r\n        }, 0);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.isNotDefaultUrl = !!this.values && this.url !== 'http://www.helpcenter.com/';\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TpPricecalcComponent } from './TpPricecalcComponent';\r\n\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TpIconModule\r\n  ],\r\n  exports: [TpPricecalcComponent],\r\n  declarations: [TpPricecalcComponent]\r\n})\r\n\r\nexport class TpPricecalcModule {}\r\nexport { TpPricecalcComponent, TpPricecalcParam } from './TpPricecalcComponent';\r\n","import { TpDiscoutsConfig } from '../discounts/TpDiscountsModule';\r\nimport { AfterViewInit, Component, ContentChild, ElementRef, EventEmitter, Input, NgZone, OnDestroy, Output,\r\n    Renderer2, TemplateRef, ViewChild } from '@angular/core';\r\nimport { TpButtons } from './TpBuylayerRightComponent';\r\nimport { TpCalculator, TpCosts } from './TpBuylayerLeftComponent';\r\nimport { TiBaseComponent, TiBrowser } from '@cloud/tiny3';\r\n\r\nexport interface TpBuylayerConfig {\r\n    /**\r\n     * 浮层右侧按钮列表\r\n     */\r\n    buttons?: Array<TpButtons>;\r\n    /**\r\n     * 浮层左侧价格详情列表\r\n     */\r\n    costs?: Array<TpCosts>;\r\n    /**\r\n     * 计费详情信息\r\n     */\r\n    costExplain?: string;\r\n    /**\r\n     * 是否显示免费场景详情信息\r\n     */\r\n    showFreechargeDetail?: boolean;\r\n    /**\r\n     * 优惠tip弹窗信息(主要价格)配置接口,接口内容参考discounts组件。\r\n     */\r\n    majorDiscoutsConfig?: TpDiscoutsConfig;\r\n    /**\r\n     * 优惠tip弹窗信息(次要价格)配置接口,接口内容参考discounts组件。\r\n     */\r\n    minorDiscoutsConfig?: TpDiscoutsConfig;\r\n    /**\r\n     * 自定义货币数值精度\r\n     * 自定义保留位数，例如：1.2-4，表示整数部分最少保留1位，小数部分最小保留2位，小数部分最大保留4位。\r\n     * 默认值取自各局点\r\n     */\r\n    numFormat?: string;\r\n    /**\r\n     * 了解计费详情链接\r\n     */\r\n    detailHref?: string;\r\n    /**\r\n     * 计费详情tip最大宽度\r\n     * 10.1.4新增\r\n     */\r\n    detailTipMaxWidth?: string\r\n    /**\r\n     * 需要显示价格计算器时才需要配置，华为云不涉及\r\n     */\r\n    calculator?: TpCalculator;\r\n    /**\r\n     * 是否为退费场景\r\n     */\r\n    isRefund?: boolean;\r\n    /**\r\n     * @ignore\r\n     * 是否以Tip形式显示次级价格计费详情(10.1.0版本已删除，此处添加，为了防止服务报错)\r\n     */\r\n    showMinorTip?: boolean;\r\n    /**\r\n     * @ignore\r\n     * 是否以Tip形式显示主要价格计费详情(10.1.0版本已删除，此处添加，为了防止服务报错)\r\n     */\r\n    showMajorTip?: boolean;\r\n    /**\r\n     * @ignore\r\n     * 是否显示主要价格优惠tip弹窗(10.1.0版本已删除，此处添加，为了防止服务报错)\r\n     */\r\n    showMajorDiscount?: boolean;\r\n    /**\r\n     * @ignore\r\n     * 是否显示次要价格优惠tip弹窗(10.1.0版本已删除，此处添加，为了防止服务报错)\r\n     */\r\n    showMinorDiscount?: boolean;\r\n}\r\n/**\r\n * 购买浮层组件\r\n *\r\n * <example-url>../tinyplus3demo/#/buylayer/buylayer-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-buylayer',\r\n    templateUrl: './buylayer.html',\r\n    styleUrls: ['./buylayer.less'],\r\n    host: {\r\n        '[class.tp-buylayer-container]': 'true'\r\n    }\r\n})\r\n\r\nexport class TpBuylayerComponent extends TiBaseComponent implements AfterViewInit, OnDestroy {\r\n    constructor(private element: ElementRef, private renderer2: Renderer2, private ngZone: NgZone) {\r\n        super(element, renderer2);\r\n    }\r\n    @Input() buylayerConfig: TpBuylayerConfig;\r\n    /**\r\n     * 优惠组件可选优惠项切换选择项时触发\r\n     *\r\n     * 9.0.3 新增接口\r\n     */\r\n    @Output() readonly discountsChange: EventEmitter<any> = new EventEmitter();\r\n    @ContentChild('leftZone') leftZoneEle: TemplateRef<any>;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('buylayerContent', {static: false}) buylayerContentEle: ElementRef;\r\n    private unlistenWindowScroll: () => void;\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngAfterViewInit(): void {\r\n        // ie下兼容问题，免费使用场景弹性布局垂直居中\r\n        if (TiBrowser.isIE()) {\r\n            const contentContainerHeight: number = this.buylayerContentEle.nativeElement.offsetHeight;\r\n            if (contentContainerHeight <= 70) { // 浮层最小高度70px\r\n                this.renderer2.setStyle(this.buylayerContentEle.nativeElement, 'height', 70 + 'px');\r\n            }\r\n        }\r\n\r\n        this.ngZone.runOutsideAngular((): void => {\r\n            // 在横向滚动条出现时控制fixed定位的购买浮层可以左右移动\r\n            this.unlistenWindowScroll = this.renderer2.listen('window', 'scroll', (): void => {\r\n                this.renderer2.setStyle(this.element.nativeElement, 'left', `-${document.documentElement.scrollLeft || document.body.scrollLeft}px`);\r\n            });\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.unlistenWindowScroll) {\r\n            this.unlistenWindowScroll();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public change($event: Event): void {\r\n        this.discountsChange.emit($event);\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { TiLocale } from '@cloud/tiny3';\r\nimport { TpLocaleWords } from '../../locale/i18n';\r\nimport { formatDate } from '@angular/common';\r\n/**\r\n * 日期格式化\r\n *\r\n * 默认按照局点配置格式\r\n *\r\n * <example-url>../tinyplus3demo/#/locale/locale-all</example-url>\r\n */\r\n@Pipe({ name: 'tpDate', pure: false })\r\nexport class TpDatePipe implements PipeTransform {\r\n  /**\r\n   * 日期转换\r\n   * @param value 日期\r\n   * @param format 显示种类\r\n   * @returns 转换结果\r\n   */\r\n  transform(value: string | number | Date, format: 'date'|'time'|'dateTime'|'dateTimeZone' = 'date'): string {\r\n    // format = format ? format : 'date'; // 默认值是'date'\r\n    const res: string = formatDate(value, (TiLocale.getLocaleWords() as TpLocaleWords).tiLocaleDate[format], TiLocale.EN_US);\r\n\r\n    return res;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { TiLocale } from '@cloud/tiny3';\r\nimport { TpLocaleWords } from '../../locale/i18n';\r\nimport { formatDate } from '@angular/common';\r\n\r\n/**\r\n * 数字格式化\r\n *\r\n * 默认按照局点配置格式\r\n *\r\n * <example-url>../tinyplus3demo/#/locale/locale-all</example-url>\r\n */\r\n@Pipe({ name: 'tpNumber', pure: false })\r\nexport class TpNumberPipe implements PipeTransform {\r\n\r\n  /**\r\n   * 货币转换\r\n   * @param value 数字\r\n   * @param format 自定义保留位数，例如：1.2-4，表示整数部分最小保留1位，小数部分最小保留2位，小数部分最大保留4位。\r\n   * @returns 转换结果\r\n   */\r\n  transform(value: number, format?: string): string {\r\n    // 最终格式\r\n    let myoptions: any = this.getOptions();\r\n\r\n    // 如果用户传来了自定义配置保留位数\r\n    if (format) {\r\n      myoptions = {\r\n        ...myoptions,\r\n        ...{\r\n          minimumIntegerDigits: format.substring(0, format.indexOf('.')),\r\n          minimumFractionDigits: format.substring(format.indexOf('.') + 1, format.indexOf('-')),\r\n          maximumFractionDigits: format.substring(format.indexOf('-') + 1)\r\n        }\r\n      };\r\n    }\r\n\r\n    const res: string = new Intl.NumberFormat((TiLocale.getLocaleWords() as TpLocaleWords).tiLocaleKey, myoptions)\r\n    .format(value);\r\n\r\n    return res;\r\n  }\r\n  /**\r\n   * 获取局点中的配置\r\n   * @returns options\r\n   */\r\n  protected getOptions(): any {\r\n    return (TiLocale.getLocaleWords() as TpLocaleWords).tpLocaleNumber;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { TiLocale } from '@cloud/tiny3';\r\n\r\nimport { formatDate } from '@angular/common';\r\nimport { TpNumberPipe } from './TpNumberPipe';\r\nimport { TpLocaleWords } from '../../locale/i18n';\r\n/**\r\n * 货币格式化\r\n *\r\n * 默认按照局点配置格式\r\n *\r\n * <example-url>../tinyplus3demo/#/locale/locale-all</example-url>\r\n */\r\n@Pipe({ name: 'tpCurrency', pure: false })\r\nexport class TpCurrencyPipe extends TpNumberPipe implements PipeTransform {\r\n/**\r\n * 转换\r\n * @param value 货币数字\r\n * @param format 自定义保留位数，例如：1.2-4，表示整数部分最少保留1位，小数部分最小保留2位，小数部分最大保留4位。\r\n * @param type 'short'表示美元末尾不带USD\r\n * @returns 转换结果\r\n */\r\ntransform(value: number, format?: string, type?: 'short'|undefined): string {\r\n    // 调用父类处理\r\n    let res: string = super.transform(value, format);\r\n    // 结果调整，符合规范\r\n    res = res.replace('CN¥', '¥');\r\n    res = res.replace('US$', '$');\r\n    res = res.replace('$ ', '$');\r\n    if (this.getOptions().currency === 'USD' && type !== 'short') {\r\n      res = res + ' USD';\r\n    }\r\n    if (res.includes('€') && !res.endsWith('€')) {\r\n      res = res.replace('€', '');\r\n      res = res + ' €';\r\n    }\r\n\r\n    return res;\r\n  }\r\n  /**\r\n   * 获取局点中的配置\r\n   * @returns options\r\n   */\r\n  protected getOptions(): any {\r\n    return (TiLocale.getLocaleWords() as TpLocaleWords).tpLocaleCurrency;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TpDatePipe } from './TpDatePipe';\r\nimport { TpNumberPipe } from './TpNumberPipe';\r\nimport { TpCurrencyPipe } from './TpCurrencyPipe';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: [TpDatePipe, TpNumberPipe, TpCurrencyPipe],\r\n  declarations: [TpDatePipe, TpNumberPipe, TpCurrencyPipe]\r\n})\r\nexport class TpLocaleModule {}\r\nexport { TpDatePipe } from './TpDatePipe';\r\nexport { TpNumberPipe } from './TpNumberPipe';\r\nexport { TpCurrencyPipe } from './TpCurrencyPipe';\r\n","import { CfEndpoints, CfLinks, CfUser, EndpointsData, HttpService, LinksData, Mask, Message,\r\n    StorageService, UserData } from '@cloud/cfdata';\r\nimport { TpDatePipe } from '../pipes/locale/TpLocaleModule';\r\n//\r\n/**\r\n * @ignore\r\n * 获取console相关的工具类\r\n * 兼容angular.js版本的console\r\n */\r\nexport class CfUtil {\r\n    public static async getUser(): Promise<any> {\r\n        if (this.isAngularJSConsole()) {\r\n            return this.getFromAngularJSConsole('$rootScope');\r\n        }\r\n\r\n        const cfUserData: CfUser = await UserData.getCfUser();\r\n\r\n        return cfUserData;\r\n    }\r\n\r\n    public static async getLinks(): Promise<any> {\r\n        if (this.isAngularJSConsole()) {\r\n            return this.getFromAngularJSConsole('$rootScope');\r\n        }\r\n\r\n        const cfLinksData: CfLinks = await LinksData.getLinks();\r\n\r\n        return cfLinksData;\r\n    }\r\n\r\n    public static async getEndpoints(): Promise<any> {\r\n        if (this.isAngularJSConsole()) {\r\n            return this.getFromAngularJSConsole('$rootScope');\r\n        }\r\n\r\n        const cfEndpointsData: CfEndpoints = await EndpointsData.getCfEndpoints();\r\n\r\n        return cfEndpointsData;\r\n    }\r\n\r\n    public static getHttpService(): any {\r\n        if (this.isAngularJSConsole()) {\r\n            return this.getFromAngularJSConsole('camel');\r\n        }\r\n\r\n        return HttpService;\r\n    }\r\n\r\n    public static getMessage(): any {\r\n        if (this.isAngularJSConsole()) {\r\n            return this.getFromAngularJSConsole('msgService');\r\n        }\r\n\r\n        return Message;\r\n    }\r\n\r\n    public static getMask(): any {\r\n        if (this.isAngularJSConsole()) {\r\n            return this.getFromAngularJSConsole('mask');\r\n        }\r\n\r\n        return Mask;\r\n    }\r\n\r\n    public static getStorageService(): any {\r\n        if (this.isAngularJSConsole()) {\r\n            return this.getFromAngularJSConsole('storage');\r\n        }\r\n\r\n        return StorageService;\r\n    }\r\n\r\n    public static formatLocaleDateTime(datetime: string | number | Date): any {\r\n        if (this.isAngularJSConsole()) {\r\n            const localeService: any = this.getFromAngularJSConsole('localeService');\r\n            if (localeService &&  typeof localeService.formatLocaleDateTime === 'function') {\r\n                return localeService.formatLocaleDateTime(datetime);\r\n            } else {\r\n                return datetime;\r\n            }\r\n        }\r\n\r\n        return new TpDatePipe().transform(datetime, 'dateTimeZone');\r\n    }\r\n\r\n    public static isNonsupportRegion(): (nonsupportRegions: any, regionId: any, supportRegions: any) => boolean {\r\n        if (this.isAngularJSConsole()) {\r\n            const rootScope: any = this.getFromAngularJSConsole('$rootScope');\r\n\r\n            return rootScope && rootScope.isNonsupportRegion;\r\n        }\r\n\r\n        return UserData.isNonsupportRegion;\r\n    }\r\n\r\n    public static getAppWebPath(): string {\r\n        // 兼容appWebPath(旧版)、AppWebPath(新版)\r\n        let appWebPath: string = (window as any).AppWebPath || (window as any).appWebPath;\r\n        // 去掉首尾的/符号\r\n        appWebPath = appWebPath && appWebPath.replace(/^\\//, '')\r\n            .replace(/\\/$/, '');\r\n\r\n        return `/${appWebPath}`;\r\n    }\r\n\r\n    private static isAngularJSConsole(): boolean {\r\n        return !!(window as any).angular;\r\n    }\r\n\r\n    private static getFromAngularJSConsole(inject: string): any {\r\n        const html: any = (window as any).angular.element('html');\r\n        // 使用ng1+ng2 新融合方案时，Angular应用默认所在的根DOM元素为body\r\n        const body: any = (window as any).angular.element('body');\r\n\r\n        if (html && html.injector()) {\r\n            return html.injector().get(inject);\r\n        } else if (body && body.injector()) {\r\n            return body.injector().get(inject);\r\n        } else {\r\n            return;\r\n        }\r\n    }\r\n}\r\n","import { Util } from '@cloud/tiny3';\r\n\r\n/**\r\n * @ignore\r\n * 工具类\r\n */\r\nexport class TpUtil {\r\n    public static setAttrs(element: HTMLElement, attrs: object): void {\r\n        for (const key in attrs) {\r\n            if (attrs.hasOwnProperty(key)) {\r\n                element.setAttribute(key, attrs[key]);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static isObject(item: any): boolean {\r\n        return (item && typeof item === 'object' && !Array.isArray(item));\r\n    }\r\n\r\n    // 对象扩展，当前只适用于对象形式，数组形式如有需求，请在该方法中自行扩展\r\n    public static extend(target: object, source: object): object {\r\n        const output: object = {...target};\r\n        if (!(TpUtil.isObject(target) && TpUtil.isObject(source))) {\r\n            return;\r\n        }\r\n        (Object.keys(source) as Array<string>).forEach((key: string) => {\r\n            if (TpUtil.isObject(source[key])) {\r\n                if (!(key in target)) {\r\n                    Object.assign(output, { [key]: source[key] });\r\n                } else {\r\n                    output[key] = TpUtil.extend(target[key], source[key]);\r\n                }\r\n            } else {\r\n                Object.assign(output, { [key]: source[key] });\r\n            }\r\n        });\r\n\r\n        return output;\r\n    }\r\n\r\n    /**\r\n     * url 跳转的目标路径 string\r\n     * params  参数对象集合 Object\r\n     */\r\n    public static addUrlParams(url: string, params: any): string {\r\n        if (!Util.isString(url) || url === '' || Util.isUndefined(params)) {\r\n            return url;\r\n        }\r\n        let finalUrl: string = url;\r\n        for (const key in params) {\r\n            if (Object.prototype.hasOwnProperty.call(params, key)) {\r\n                const param: string = key + '=' + encodeURIComponent(params[key]);\r\n                if (url.indexOf('?') === -1) {\r\n                    finalUrl = finalUrl +  '?' + param;\r\n                } else {\r\n                    finalUrl = finalUrl +  '&' + param;\r\n                }\r\n            }\r\n        }\r\n\r\n        return finalUrl;\r\n    }\r\n\r\n    /**\r\n     * url 跳转的目标路径 string\r\n     * params 参数对象集合 Object\r\n     */\r\n    public static addDefaultParam(url: string, params: any): string {\r\n        const defaultParam: any = {\r\n            service: window.location.href  // 默认参数为当前页面链接地址，方便用户实现返回原页面\r\n        };\r\n        const finalParams: any = { ...defaultParam, ...params };\r\n\r\n        return this.addUrlParams(url, finalParams);\r\n    }\r\n    /**\r\n     * 得到cookie的值\r\n     * @param key： cookie名对应的键值\r\n     */\r\n    public static getCookie(key: string): any {\r\n        if (!document.cookie) {\r\n            return;\r\n        }\r\n        const splitedCookie: Array<string> = document.cookie.split(';');\r\n        for (const cookie of splitedCookie) {\r\n            const temp: Array<string> = cookie.split('=');\r\n            if (temp[0] && temp[0].trim() === key) {\r\n                return temp[1].trim();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 设置cookie的值，包括key、value\r\n     */\r\n    public static setCookie(key: string, value: string): void {\r\n        document.cookie = `${key}=${value}`;\r\n    }\r\n\r\n}\r\n","import { Component, ContentChild, EventEmitter, Input, Output, TemplateRef } from '@angular/core';\r\nimport { getLocaleCurrencySymbol } from '@angular/common';\r\nimport { TiBaseComponent, TiLocale, Util } from '@cloud/tiny3';\r\n\r\nimport { CfUtil } from '../../cfutils/CfUtil';\r\nimport { TpDiscoutsConfig } from '../discounts/TpDiscountsModule';\r\n\r\nimport { TpUtil } from './../../utils/TpUtil';\r\n\r\nexport interface TpCosts {\r\n    /**\r\n     * 价格label\r\n     */\r\n    label?: string;\r\n    /**\r\n     * 价格数值\r\n     */\r\n    value?: number | string;\r\n    /**\r\n     * 计量单位\r\n     */\r\n    measureUnit?: string;\r\n    /**\r\n     * 是否公测\r\n     */\r\n    isBeta?: boolean;\r\n    /**\r\n     * 优惠金额\r\n     */\r\n    discount?: number;\r\n    /**\r\n     * 价格详情链接\r\n     */\r\n    link?: string;\r\n    /**\r\n     * 是否是主要价格\r\n     */\r\n    majorPrice?: boolean;\r\n    /**\r\n     * 是否隐藏价格\r\n     *\r\n     * 10.1.0 新增\r\n     */\r\n    hide?: boolean;\r\n    /**\r\n     * 是否隐藏价格之间的加号连接符号\r\n     *\r\n     * 10.1.0 新增\r\n     */\r\n    hideConnectSymbol?: boolean;\r\n    /**\r\n     * 价格明细\r\n     */\r\n    pricelist?: Array<any>;\r\n    /**\r\n     * @ignore\r\n     */\r\n    tipTitle?: string;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     *\r\n     * 10.1.2新增\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\nexport interface TpCalculator {\r\n    /**\r\n     * 链接\r\n     */\r\n    url?: string;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n * @ignore\r\n * 购买浮层左侧价格区域\r\n * <example-url>../tinyplus3demo/#/buylayer/buylayer-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-buylayer-left',\r\n    templateUrl: './buylayer-left.html',\r\n    styleUrls: ['./buylayer-left.less']\r\n})\r\n\r\nexport class TpBuylayerLeftComponent extends TiBaseComponent {\r\n    /**\r\n     * 浮层左侧价格列表集合\r\n     */\r\n    @Input() costs: Array<TpCosts> = [];\r\n    /**\r\n     * 优惠详情弹窗信息配置(主要价格)总接口，具体详情可参考discounts组件\r\n     */\r\n    @Input() majorDiscoutsConfig: TpDiscoutsConfig;\r\n    /**\r\n     * 优惠详情弹窗信息配置（次要价格）总接口，具体详情可参考discounts组件\r\n     */\r\n    @Input() minorDiscoutsConfig: TpDiscoutsConfig;\r\n    /**\r\n     * 是否显示免费套餐场景\r\n     */\r\n    @Input() showFreechargeDetail: boolean;\r\n    /**\r\n     * 用户可自定义价格详情信息\r\n     */\r\n    @Input() costExplain: string;\r\n    /**\r\n     * 价格计算器场景展示时候的配置接口\r\n     */\r\n    @Input() calculator: TpCalculator;\r\n    /**\r\n     * 货币精度设置接口\r\n     * 自定义保留位数，例如：1.2-4，表示整数部分最少保留1位，小数部分最小保留2位，小数部分最大保留4位。\r\n     * 默认值取自各局点\r\n     */\r\n    @Input() numFormat: string;\r\n    /**\r\n     * 了解计费详情链接\r\n     */\r\n    @Input() detailHref: string;\r\n    /**\r\n     * @ignore\r\n     * 是否是退费场景\r\n     */\r\n    @Input() isRefund: boolean;\r\n    /**\r\n     * 计费详情tip最大宽度\r\n     * 10.1.4新增\r\n     */\r\n    @Input() detailTipMaxWidth: string;\r\n    /**\r\n     * 可选优惠项切换选择项时触发\r\n     *\r\n     * 9.0.3 新增接口\r\n     */\r\n    @Output() readonly discountsChange: EventEmitter<any> = new EventEmitter();\r\n\r\n    @ContentChild(TemplateRef) leftZoneEle1: TemplateRef<any>;\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public freechargeDetailLink: string = '';\r\n    /**\r\n     * @ignore\r\n     * tip中的表头\r\n     */\r\n    public pricelistHead: string = TiLocale.getLocaleWords().tpBuylayer.buyLayer_cost_pricelist;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public majorPriceNum: number;\r\n\r\n    /**\r\n     * @ignore\r\n     * 是否只有主要价格。当只有主要价格时，计费详情tip在主要价格后；当有次要费用时，在次要价格之后。\r\n     */\r\n    public onlyHasMajorprice: boolean;\r\n    /**\r\n     * @ignore\r\n     * 主要价格是否包含数字。如果包含则需要出现计费详情，否则不出现。\r\n     */\r\n    public hasNumberofMajorprice: boolean = false;\r\n    /**\r\n     * @ignore\r\n     * 是否显示主要价格的优惠详情\r\n     */\r\n    public showMajorDiscount: boolean;\r\n    /**\r\n     * @ignore\r\n     * 是否显示次要价格的优惠详情\r\n     */\r\n    public showMinorDiscount: boolean;\r\n    /**\r\n     * @ignore\r\n     * 主要价格是否全隐藏\r\n     */\r\n    public isMajorPriceAllHide: boolean;\r\n    /**\r\n     * @ignore\r\n     * 次要价格是否全隐藏\r\n     */\r\n    public isMinorPriceAllHide: boolean;\r\n    /**\r\n     * @ignore\r\n     * 浮层实际呈现的价格数组集合\r\n     */\r\n    public finalCosts: Array<TpCosts>;\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        const routeLink: string = TiLocale.getLocaleWords().tpBuylayer.buyLayer_freeCharge_detailLink;\r\n\r\n        this.costsChange();\r\n\r\n        this.discountChange();\r\n\r\n        if (!Util.isUndefined(this.numFormat) && !Util.isUndefined(this.majorDiscoutsConfig)) {\r\n            // 浮层配置的价格精度同样作用到优惠详情部分，两者保持一致。\r\n            this.majorDiscoutsConfig.numFormat = this.numFormat;\r\n        }\r\n\r\n        CfUtil.getLinks()\r\n            .then((linksData: any) => {\r\n            if (linksData && linksData.links && linksData.links.user_center_common) {\r\n                this.freechargeDetailLink = this.addLinkParams(linksData.links.user_center_common + routeLink);\r\n            }\r\n        });\r\n    }\r\n\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngOnChanges(): void {\r\n        this.costsChange();\r\n        this.discountChange();\r\n    }\r\n\r\n    ngDoCheck(): void {\r\n        if (!Util.isArray(this.costs) || this.costs.length === 0) {\r\n            return;\r\n        }\r\n        // costs动态hide之后，重新获取主次要价格数组，并且新数组的第一项（头部价格）不带加号连接符\r\n        const currentMajorCosts = this.costs.filter((item: TpCosts) => !item.hide && item.majorPrice);\r\n        const currentMinorCosts = this.costs.filter((item: TpCosts) => !item.hide && !item.majorPrice);\r\n        currentMajorCosts.forEach((item: TpCosts, index: number) => {\r\n            item.hideConnectSymbol = !index;\r\n        })\r\n        currentMinorCosts.forEach((item: TpCosts, index: number) => {\r\n            item.hideConnectSymbol = !index;\r\n        });\r\n    }\r\n    // 数据初始化及变更之后都需执行\r\n    private costsChange(): void {\r\n        this.setMajorPrice();\r\n        this.finalCosts = this.costs.filter((item: TpCosts) => !item.hide);\r\n        this.majorPriceNum = this.getMajorPriceNum();\r\n        this.isCostsAllHide();\r\n        if (this.isRefund) {\r\n            this.setRefundParams();\r\n        }\r\n\r\n        this.onlyHasMajorprice = this.finalCosts && this.finalCosts.length > 0 && this.majorPriceNum === this.finalCosts.length ? true : false;\r\n    }\r\n\r\n    private hasDiscountsData(config: TpDiscoutsConfig): boolean {\r\n        const hasSelectableDiscounts: boolean = Util.isArray(config.selectableDiscounts) && config.selectableDiscounts.length > 0;\r\n        const hasSelectedDiscounts: boolean = Util.isArray(config.selectedDiscounts) && config.selectedDiscounts.length > 0;\r\n        const hasDiscounts: boolean = Util.isArray(config.discounts) && config.discounts.length > 0;\r\n\r\n        return hasDiscounts || (hasSelectedDiscounts || hasSelectableDiscounts);\r\n    }\r\n\r\n    private discountChange(): void {\r\n        if (TpUtil.isObject(this.majorDiscoutsConfig) && this.hasDiscountsData(this.majorDiscoutsConfig) && this.majorPriceNum > 0) {\r\n            this.showMajorDiscount = true;\r\n        } else {\r\n            this.showMajorDiscount = false;\r\n        }\r\n\r\n        const minorpriceNum: number = this.costs && this.costs.length - this.majorPriceNum; // 得到次要价格的数目\r\n        if (TpUtil.isObject(this.minorDiscoutsConfig) && this.hasDiscountsData(this.minorDiscoutsConfig) && minorpriceNum > 0) {\r\n            this.showMinorDiscount = true;\r\n        } else {\r\n            this.showMinorDiscount = false;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public change($event: Event): void {\r\n        this.discountsChange.emit($event);\r\n    }\r\n    // 获取主要价格数量\r\n    private getMajorPriceNum(): number {\r\n        if (this.finalCosts && this.finalCosts.length > 0) {\r\n            let num: number = 0;\r\n            for (const cost of this.finalCosts) {\r\n                if (cost.majorPrice) {\r\n                    num++;\r\n                    if (this.isNumber(cost.value)) {\r\n                        this.hasNumberofMajorprice = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return num;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n    // 判断主/次要价格是否都隐藏\r\n    private isCostsAllHide() {\r\n        if (this.costs && this.costs.length > 0) {\r\n            // 获取主要价格集合\r\n            const majorPriceArr = this.costs.filter((item) => item.majorPrice);\r\n            // 获取次要价格集合\r\n            const minorPriceArr = this.costs.filter((item) => !item.majorPrice);\r\n            this.isMinorPriceAllHide = this.isAllHide(minorPriceArr);\r\n            this.isMajorPriceAllHide = this.isAllHide(majorPriceArr);\r\n        }\r\n    }\r\n    private isAllHide(arr): boolean {\r\n        let isAllHide = true;\r\n        if (arr.length > 0) {\r\n            for (const cost of arr) {\r\n                if(!cost.hide) {\r\n                    isAllHide = false;\r\n                }\r\n            }\r\n        }\r\n        return isAllHide;\r\n    }\r\n    // 设置价格类型\r\n    private setMajorPrice(): void {\r\n        if (this.costs && this.costs.length > 0) {\r\n            for (const cost of this.costs) {\r\n                if (Util.isUndefined(cost.label) && !this.isRefund) {\r\n                    cost.label = TiLocale.getLocaleWords().tpBuylayer.buyLayer_cost_label;\r\n                    cost.tipTitle = TiLocale.getLocaleWords().tpBuylayer.buyLayer_cost_label;\r\n                }\r\n                if (Util.isUndefined(cost.majorPrice)) {\r\n                    cost.majorPrice = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 设置退费场景下的相关参数\r\n     */\r\n    private setRefundParams(): void {\r\n        if (this.costs && this.costs.length > 0) {\r\n            for (const cost of this.costs) {\r\n                if (Util.isUndefined(cost.label)) {\r\n                    cost.label = TiLocale.getLocaleWords().tpBuylayer.buyLayer_cost_label_refund_majorprice;\r\n                    cost.tipTitle = TiLocale.getLocaleWords().tpBuylayer.buyLayer_cost_label_refund_detail;\r\n                }\r\n\r\n                if (cost.pricelist && cost.pricelist.length > 0) {\r\n                    cost.pricelist[0].title = TiLocale.getLocaleWords().tpBuylayer.buyLayer_cost_pricelist_label_before;\r\n                    cost.pricelist[1].title = TiLocale.getLocaleWords().tpBuylayer.buyLayer_cost_pricelist_label_after;\r\n                    cost.pricelist[2] = {\r\n                        title: TiLocale.getLocaleWords().tpBuylayer.buyLayer_cost_label_refund,\r\n                        priceNum: cost.value\r\n                    };\r\n\r\n                    this.pricelistHead = TiLocale.getLocaleWords().tpBuylayer.buyLayer_cost_type;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public isNumber(val: any): boolean {\r\n        return Util.isNumber(val);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public isPositiveNumber(val: any): boolean {\r\n        return Util.isNumber(val) && val > 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 货币国际化\r\n     */\r\n    public getLocalSymble(): any {\r\n        const localeKey: string = TiLocale.getLocaleWords().tiLocaleKey;\r\n\r\n        return getLocaleCurrencySymbol(localeKey);\r\n    }\r\n\r\n    // 获取agencyID和locale\r\n    private addLinkParams(url: string): string {\r\n        if (url === '') {\r\n            return url;\r\n        }\r\n        const storage: any = CfUtil.getStorageService();\r\n        if (!(!Util.isUndefined(storage) && !Util.isUndefined(storage.cookieStorage) && Util.isFunction(storage.cookieStorage.getItem))) {\r\n            return url;\r\n        }\r\n        const agencyID: any = storage.cookieStorage.getItem('agencyID');\r\n        const locale: any = storage.cookieStorage.getItem('locale');\r\n        let finalUrl: string = url;\r\n        if (!Util.isEmptyString(agencyID)) {\r\n            finalUrl = finalUrl + '?agencyId=' + agencyID;\r\n            if (!Util.isEmptyString(locale)) {\r\n                finalUrl = finalUrl + '&locale=' + locale;\r\n            }\r\n        } else if (!Util.isEmptyString(locale)) {\r\n            finalUrl = finalUrl + '?locale=' + locale;\r\n        }\r\n\r\n        return finalUrl;\r\n    }\r\n\r\n}\r\n","import { TiPositionType } from '@cloud/tiny3';\r\nimport { Component, Input } from '@angular/core';\r\nexport interface TpButtons {\r\n    /**\r\n     * 按钮文本内容\r\n     */\r\n    label: string;\r\n    /**\r\n     * 按钮是否隐藏\r\n     */\r\n    hide?: boolean;\r\n    /**\r\n     * 按钮是否灰化\r\n     */\r\n    disabled?: boolean;\r\n    /**\r\n     * 按钮是否为主要按钮颜色\r\n     */\r\n    color?: 'danger' | 'primary';\r\n    /**\r\n     * 按钮点击事件\r\n     */\r\n    click?(): void; // 按钮点击事件\r\n    /**\r\n     * 按钮id\r\n     */\r\n    id?: string;\r\n    /**\r\n     * 按钮Tip内容\r\n     */\r\n    tip?: string;\r\n    /**\r\n     * 按钮Tip展开方向\r\n     */\r\n    tipPosition?: TiPositionType;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n/**\r\n * @ignore\r\n * 购买浮层右侧按钮区域\r\n * <example-url>../tinyplus3demo/#/buylayer/buylayer-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-buylayer-right',\r\n    templateUrl: './buylayer-right.html',\r\n    styleUrls: ['./buylayer-right.less'],\r\n    host: {\r\n        '[class.tp-buylayer-right]': 'true'\r\n    }\r\n})\r\n\r\nexport class TpBuylayerRightComponent {\r\n    /**\r\n     * 浮层右侧按钮列表集合\r\n     */\r\n    @Input() buttons: Array<TpButtons> = [];\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n/**\r\n * @ignore\r\n */\r\n@Pipe({ name: 'rate' })\r\nexport class RatePipe implements PipeTransform {\r\n    transform(value: Array<any>): Array<any> {\r\n        return value.filter((item: any) => item.rate > 0 && item.rate < 1);\r\n    }\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\n@Pipe({ name: 'notEqualTo0' })\r\nexport class NotEqualTo0Pipe implements PipeTransform {\r\n    transform(value: Array<any>): Array<any> {\r\n        return value.filter((item: any) => item.priceNum !== 0);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\n@Pipe({ name: 'notEqualTo01' })\r\nexport class NotEqualTo01Pipe implements PipeTransform {\r\n    transform(value: Array<any>): Array<any> {\r\n        return value.filter((item: any) => {\r\n            if (item.id === 'no-discounts') {\r\n                return item.priceNum === 0;\r\n            } else {\r\n                return item.priceNum !== 0;\r\n            }\r\n        });\r\n    }\r\n}\r\n","import {\r\n    Component,\r\n    ElementRef,\r\n    EventEmitter,\r\n    Input,\r\n    Output,\r\n    Renderer2,\r\n    SimpleChanges,\r\n    ViewChild\r\n} from '@angular/core';\r\nimport { TiBaseComponent, TiLocale, Util } from '@cloud/tiny3';\r\n\r\nimport { CfUtil } from '../../cfutils/CfUtil';\r\nexport interface TpDiscountDetail {\r\n    /**\r\n     * 折扣种类名称\r\n     */\r\n    name?: string;\r\n    /**\r\n     * 优惠资源名称\r\n     */\r\n    resourceName?: string;\r\n    /**\r\n     * 规格\r\n     */\r\n    specification?: string;\r\n    /**\r\n     * 尺寸\r\n     */\r\n    size?: string;\r\n    /**\r\n     * 详情链接类型\r\n     */\r\n    type?: number;\r\n    /**\r\n     * 折扣率\r\n     */\r\n    rate?: number;\r\n    /**\r\n     * 详情链接内容\r\n     */\r\n    href?: string;\r\n    /**\r\n     * 优惠到期时间\r\n     */\r\n    expireTime?: string;\r\n    /**\r\n     * 优惠金额\r\n     */\r\n    priceNum?: number;\r\n    /**\r\n     * 包周期可选优惠项id\r\n     *\r\n     * 包周期可选择优惠项配置场景必选\r\n     */\r\n    id?: string;\r\n    /**\r\n     * 是否为优选优惠项\r\n     */\r\n    isRecommend?: boolean;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\nexport interface TpDiscoutsConfig {\r\n    /**\r\n     * 优惠场景类型， 如包周期、按需等\r\n     */\r\n    type: 'period' | 'ondemand';\r\n    /**\r\n     * 优惠金额数字位数控制\r\n     * 自定义保留位数，例如：1.2-4，表示整数部分最少保留1位，小数部分最小保留2位，小数部分最大保留4位。\r\n     * 默认值取自各局点\r\n     */\r\n    numFormat?: string;\r\n    /**\r\n     * 包周期已选择优惠项\r\n     */\r\n    selectedDiscounts?: Array<TpDiscountDetail>;\r\n    /**\r\n     * 包周期可选优惠项，被选项ID\r\n     */\r\n    selectedId?: string;\r\n    /**\r\n     * 包周期可选优惠项\r\n     */\r\n    selectableDiscounts?: Array<TpDiscountDetail>;\r\n    /**\r\n     * 按需场景优惠项\r\n     */\r\n    discounts?: Array<TpDiscountDetail>;\r\n    /**\r\n     * 优惠弹窗最大高度\r\n     */\r\n    maxHeight?: number;\r\n    /**\r\n     * 优惠价格单位\r\n     *  10.1.0 新增\r\n     */\r\n    measureUnit?: string;\r\n}\r\n/**\r\n * @ignore\r\n * 优惠场景，主要有包周期场景和按需场景，服务可根据实际类型自行配置。\r\n *\r\n * <example-url>../tinyplus3demo/#/discounts/discounts-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-discounts',\r\n    templateUrl: './discounts.html',\r\n    styleUrls: ['./discounts.less'],\r\n    host: {\r\n        '(click)': 'onClick($event)'\r\n    }\r\n})\r\n\r\nexport class TpDiscountsComponent extends TiBaseComponent {\r\n    constructor(private elementRef: ElementRef, private render: Renderer2) {\r\n        super(elementRef, render);\r\n    }\r\n    /**\r\n     * 优惠数据总配置接口\r\n     */\r\n    @Input() discoutsConfig: TpDiscoutsConfig;\r\n    /**\r\n     * 可选优惠项切换选择项时触发\r\n     *\r\n     * 9.0.3 新增接口\r\n     */\r\n    @Output() readonly discountsChange: EventEmitter<any> = new EventEmitter();\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('font') fontEle: ElementRef;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('container') containerEle: ElementRef;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('before') beforeEle: ElementRef;\r\n    /**\r\n     * @ignore\r\n     * 用户获取当前语言集合\r\n     */\r\n    public localeWords: any = TiLocale.getLocaleWords();\r\n    /**\r\n     * @ignore\r\n     * 用于获取词条\r\n     */\r\n    public tpDiscounts: any = this.localeWords.tpDiscounts;\r\n    /**\r\n     * @ignore\r\n     * 模板使用,判断是否为中文场景\r\n     */\r\n    public isChinese: boolean = this.localeWords.tiLocaleKey === 'zh-CN';\r\n    /**\r\n     * @ignore\r\n     * 模板使用,弹窗是否展开标志量\r\n     */\r\n    public isOpen: boolean = false;\r\n    /**\r\n     * @ignore\r\n     * 模板使用,总优惠额\r\n     */\r\n    public sum: number;\r\n    /**\r\n     * @ignore\r\n     * 按需场景最终配置\r\n     */\r\n    public ondemandDiscountsConfig: Array<TpDiscountDetail>;\r\n\r\n    private onlistenClick: () => void;\r\n\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        if (this.discoutsConfig.type === 'ondemand') {\r\n            this.handleDiscounts(this.discoutsConfig.discounts);\r\n        }\r\n        if (this.discoutsConfig.type === 'period') {\r\n            this.setTotalSavings();\r\n            this.setSelectableData(this.discoutsConfig.selectableDiscounts);\r\n        }\r\n        this.onlistenClick = this.render.listen(window, 'click', () => this.onDocumentClick());\r\n    }\r\n\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        super.ngOnChanges(changes);\r\n        if (this.discoutsConfig.type === 'ondemand') {\r\n            this.handleDiscounts(this.discoutsConfig.discounts);\r\n        }\r\n        if (this.discoutsConfig.type === 'period') {\r\n            const change: any = changes['discoutsConfig'];\r\n            if (change && !change.isFirstChange()) {\r\n                this.setTotalSavings();\r\n            }\r\n            this.setSelectableData(this.discoutsConfig.selectableDiscounts);\r\n        }\r\n\r\n    }\r\n\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngAfterViewChecked(): void {\r\n        super.ngAfterViewChecked();\r\n        if (this.isOpen) {\r\n            // 定位元素宽度\r\n            const tipModalIconWidth: number = this.fontEle.nativeElement.offsetWidth;\r\n            // 定位元素左侧靠边距离\r\n            // 服务实际业务中，使用offselLeft获取的值不准确（缺失左侧sideBar的47px），导致较小分辨率下，挤压出横向滚动条。\r\n            // 此处修改为getBoundingClientRect().left，在服务环境上已测试ok.\r\n            const tipModalIconLeft: number = this.fontEle.nativeElement.getBoundingClientRect().left;\r\n            // 定位元素距离右侧窗口的位置\r\n            const tipModalIconRight: number = window.innerWidth - tipModalIconLeft - tipModalIconWidth;\r\n            // 提示弹窗宽度\r\n            const tipContainerWidth: number = this.containerEle.nativeElement.offsetWidth;\r\n            // 居中显示需要的偏移量\r\n            const offset: number = (tipContainerWidth - tipModalIconWidth) / 2;\r\n            // 弹窗正常居中对齐的偏移量 - 定位元素距离左侧窗口的位置；如果大于0，说明左溢出\r\n            const isLeftOverflow: boolean = (offset - tipModalIconLeft) > 0;\r\n            // 弹窗正常居中对齐的偏移量 - 定位元素距离右侧窗口的位置；如果大于0，则说明右溢出。\r\n            const isRightOverflow: boolean = (offset - tipModalIconRight) > 0;\r\n            const distance: number = 20; // 溢出时，距离左侧留20px余量\r\n            let marginLeft: number;\r\n            if (isLeftOverflow) {\r\n                marginLeft = -tipModalIconLeft + distance;\r\n            } else if (isRightOverflow) {\r\n                marginLeft = -(tipContainerWidth - tipModalIconRight - tipModalIconWidth) - distance;\r\n            } else {\r\n                marginLeft = -offset;\r\n            }\r\n            this.render.setStyle(this.containerEle.nativeElement, 'margin-left', marginLeft + 'px');\r\n            this.render.setStyle(this.beforeEle.nativeElement, 'left', tipModalIconWidth / 2 + 'px');\r\n        }\r\n    }\r\n\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngOnDestroy(): void {\r\n        super.ngOnDestroy();\r\n        if (this.onlistenClick) {\r\n            this.onlistenClick();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 单选radio点击切换选择项触发\r\n     */\r\n    public onRadioChange($event: Event): void {\r\n        this.setTotalSavings();\r\n        this.discountsChange.emit($event);\r\n    }\r\n    /**\r\n     * 点击documnet优惠信息窗口关闭\r\n     */\r\n    private onDocumentClick(): void {\r\n        this.isOpen = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 点击右上角叉号图标，弹窗关闭\r\n     */\r\n    public onClose($event: any): void {\r\n        this.isOpen = false;\r\n        $event.stopPropagation();\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 模板使用，tip面板点击需要组织冒泡\r\n     */\r\n    public onContainerClick($event: any): void {\r\n        $event.stopPropagation();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClick($event: any): void {\r\n        // 当在焦点在A标签，触发回车键的时候，不需要关闭面板。\r\n        if (event.target['tagName'] === 'A') {\r\n            return;\r\n        }\r\n        this.isOpen = !this.isOpen;\r\n        $event.stopPropagation();\r\n    }\r\n    // 按需优惠项信息合并\r\n    private getOndemandDiscounts(data: Array<TpDiscountDetail>): Array<TpDiscountDetail> {\r\n        const out: Array<TpDiscountDetail> = [];\r\n        for (let i: number = 0; i < data.length; i++) {\r\n            const cur: TpDiscountDetail = data[i];\r\n            const n: number = out.findIndex((ele: any) => ele.label === cur.label);\r\n            if (n > -1) {\r\n                const item: TpDiscountDetail = {\r\n                    ...out[n],\r\n                    ...cur,\r\n                    ...{\r\n                        expireTime: Util.isString(out[n].expireTime) && Util.isString(cur.expireTime) &&\r\n                            new Date(out[n].expireTime).getTime() > new Date(cur.expireTime).getTime() ? cur.expireTime : out[n].expireTime,\r\n                        type: this.getData(out[n].type, cur.type),\r\n                        href: this.getData(out[n].href, cur.href)\r\n                    }\r\n                };\r\n                out[n] = item;\r\n            } else {\r\n                out.push(cur);\r\n            }\r\n        }\r\n\r\n        return out;\r\n    }\r\n    // tslint:disable-next-line:prefer-function-over-method\r\n    private getData(val1: any, val2: any): any {\r\n        if (Util.isUndefined(val2) || val2 === '') {\r\n            return val1;\r\n        }\r\n\r\n        return val2;\r\n    }\r\n\r\n    // 根据接口type来设定详情链接，也支持用户自定义详情链接\r\n    // tslint:disable-next-line:prefer-function-over-method\r\n    private setDetailLink(item: TpDiscountDetail): void {\r\n        CfUtil.getLinks()\r\n        .then((linksData: any) => {\r\n            const user_center_common: string = linksData && linksData.links && linksData.links.user_center_common\r\n                ? linksData.links.user_center_common : '';\r\n            let detailLink: string = '';\r\n            switch (item.type) {\r\n                case 0:\r\n                    detailLink = user_center_common + this.tpDiscounts.discounts_detailLink_type0;\r\n                    break;\r\n                case 1:\r\n                    detailLink = user_center_common + this.tpDiscounts.discounts_detailLink_type1;\r\n                    break;\r\n                case 2:\r\n                    detailLink = user_center_common + this.tpDiscounts.discounts_detailLink_type2\r\n                    + (Util.isUndefined(item.beId) ? '' : '&beId=' + item.beId);\r\n                    break;\r\n                default:\r\n                    detailLink = Util.isString(item.href) ? item.href : '';\r\n                    break;\r\n            }\r\n            detailLink = this.addLinkParams(detailLink);\r\n            item.href = detailLink;\r\n        });\r\n    }\r\n\r\n    private getLink(value: Array<TpDiscountDetail>): void {\r\n        value.forEach((item: TpDiscountDetail) => {\r\n            this.setDetailLink(item);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 到期时间一周之内才显示\r\n     */\r\n    public showExpireTime(val: Date): boolean {\r\n        const nowTime: number = new Date().getTime();\r\n        const expireTime: number = new Date(val).getTime();\r\n        const gap: number = expireTime - nowTime;\r\n\r\n        return gap > 0 && gap < 86400000 * 7;\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 到期时间格式化\r\n     */\r\n    public getFormatExpireTime(val: Date): any {\r\n        return CfUtil.formatLocaleDateTime(val);\r\n    }\r\n\r\n    // 按需场景数据拼接处理\r\n    private handleDiscounts(items: Array<TpDiscountDetail>): Array<any> {\r\n        const ondemandDiscounts: Array<any> = [];\r\n        for (let i: number = 0; i < items.length; i++) {\r\n            //  类似 8折与 20% off 转换\r\n            items[i].discountRate = !Util.isNumber(items[i].rate) ? '' :\r\n                this.isChinese ? ` ${parseFloat((items[i].rate * 10).toFixed(2))}${this.tpDiscounts.discounts}`\r\n                : `; ${parseFloat(((1 - items[i].rate) * 100).toFixed(2))}%${this.tpDiscounts.discounts}`;\r\n            ondemandDiscounts[i] = {\r\n                rate: Util.isNumber(items[i].rate) ? items[i].rate : undefined,\r\n                expireTime: Util.isString(items[i].expireTime) ? items[i].expireTime : '',\r\n                type: Util.isNumber(items[i].type) ? items[i].type : undefined,\r\n                beId: Util.isString(items[i].beId) ? items[i].beId : '',\r\n                href: Util.isString(items[i].href) ? items[i].href : ''\r\n            };\r\n\r\n            let name: string;\r\n            let resourceName: string;\r\n            let specification: string;\r\n            if (this.isChinese) {\r\n                name = Util.isString(items[i].name) ? items[i].name : '';\r\n                resourceName = Util.isString(items[i].resourceName) ? items[i].resourceName : '';\r\n                specification = Util.isString(items[i].specification) ? items[i].specification : '';\r\n            } else {\r\n                name = !Util.isEmptyString(items[i].name) ? items[i].name : '';\r\n                resourceName = !Util.isEmptyString(items[i].resourceName) ? '; ' + items[i].resourceName : '';\r\n                specification = !Util.isEmptyString(items[i].specification) ? ', ' + items[i].specification : '';\r\n            }\r\n            ondemandDiscounts[i].label = name + resourceName + specification + items[i].discountRate;\r\n        }\r\n        this.ondemandDiscountsConfig = this.getOndemandDiscounts(ondemandDiscounts);\r\n        this.getLink(this.ondemandDiscountsConfig);\r\n\r\n        return this.ondemandDiscountsConfig;\r\n    }\r\n\r\n    // 可选数据详情链接\r\n    private getSelectableDetail(vals: Array<TpDiscountDetail>): void {\r\n        for (const val of vals) {\r\n            if (!Util.isUndefined(val.href)) {\r\n                return;\r\n            }\r\n            this.setDetailLink(val);\r\n        }\r\n    }\r\n    // 获取agencyID和locale\r\n    private addLinkParams(url: string): string {\r\n        if (url === '') {\r\n            return url;\r\n        }\r\n        const storage: any = CfUtil.getStorageService();\r\n        if (!(!Util.isUndefined(storage) && !Util.isUndefined(storage.cookieStorage) && Util.isFunction(storage.cookieStorage.getItem))) {\r\n            return url;\r\n        }\r\n        const agencyID: any = storage.cookieStorage.getItem('agencyID');\r\n        const locale: any = storage.cookieStorage.getItem('locale');\r\n        let finalUrl: string = url;\r\n        if (!Util.isEmptyString(agencyID)) {\r\n            finalUrl = finalUrl + '&agencyId=' + agencyID;\r\n        }\r\n        if (!Util.isEmptyString(locale)) {\r\n            finalUrl = finalUrl + '&locale=' + locale;\r\n        }\r\n\r\n        return finalUrl;\r\n    }\r\n\r\n    /**\r\n     * 优惠总额\r\n     */\r\n    private setTotalSavings(): void {\r\n        this.sum = 0;\r\n        if (Util.isArray(this.discoutsConfig.selectedDiscounts)) {\r\n            for (const item of this.discoutsConfig.selectedDiscounts) {\r\n                if (!Util.isNumber(item.priceNum)) {\r\n                    continue;\r\n                } else {\r\n                    this.sum += item.priceNum;\r\n                }\r\n            }\r\n        }\r\n        // 获取选中优惠项的索引index\r\n        if (!Util.isUndefined(this.discoutsConfig.selectableDiscounts)) {\r\n            const index: number = this.discoutsConfig.selectableDiscounts.findIndex((ele: any) => ele.id === this.discoutsConfig.selectedId)\r\n            const selectedDiscountsNum: number = this.discoutsConfig.selectableDiscounts[index]\r\n                && this.discoutsConfig.selectableDiscounts[index].priceNum;\r\n            if (index > -1 && Util.isNumber(selectedDiscountsNum)) {\r\n                this.sum += selectedDiscountsNum;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     *\r\n     * 判断优惠总价格是否为0，总结为0不显示共省部分\r\n     */\r\n    public isSumEqualZero(): boolean {\r\n        this.setTotalSavings();\r\n        const reg: RegExp = new RegExp('[\\.-]');\r\n        const precision: number = this.discoutsConfig.numFormat ?\r\n        Number(this.discoutsConfig.numFormat.split(reg)[2]) : 2;\r\n\r\n        return parseFloat(this.sum.toFixed(precision)) === 0;\r\n    }\r\n    /**\r\n     * 可选优惠项数据根据实际场景判断是否添加默认尾项\r\n     */\r\n    private setSelectableData(options: Array<TpDiscountDetail>): void {\r\n        if (!Util.isArray(options) || options.length === 0) {\r\n            return;\r\n        }\r\n        this.getSelectableDetail(options);\r\n            const length: number = options.length;\r\n            if (options[length - 1].id !== 'no-discounts') {\r\n                options[length] = {\r\n                    label: this.tpDiscounts.no_discounts,\r\n                    id: 'no-discounts',\r\n                    href: '',\r\n                    priceNum: 0\r\n                };\r\n            }\r\n    }\r\n}\r\n","import { NotEqualTo01Pipe, NotEqualTo0Pipe, RatePipe } from './RatePipe';\r\nimport { NgModule } from '@angular/core';\r\nimport { TpDiscountsComponent } from './TpDiscountsComponent';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TpLocaleModule } from '../../pipes/locale/TpLocaleModule';\r\nimport { TiLocaleModule, TiRadioModule, TiOutlineModule } from '@cloud/tiny3';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    TiLocaleModule,\r\n    TpIconModule,\r\n    TpLocaleModule,\r\n    TiRadioModule,\r\n    TiOutlineModule\r\n  ],\r\n  exports: [TpDiscountsComponent],\r\n  declarations: [NotEqualTo0Pipe, NotEqualTo01Pipe, RatePipe, TpDiscountsComponent]\r\n})\r\n\r\nexport class TpDiscountsModule {}\r\nexport { TpDiscountsComponent, TpDiscoutsConfig } from './TpDiscountsComponent';\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'isMajorPrice' })\r\nexport class IsMajorPricePipe implements PipeTransform {\r\n    transform(value: Array<any>): Array<any> {\r\n        return value.filter((item: any) => item.majorPrice === true);\r\n    }\r\n}\r\n\r\n@Pipe({ name: 'isMinorPrice' })\r\nexport class IsMinorPricePipe implements PipeTransform {\r\n    transform(value: Array<any>): Array<any> {\r\n        return value.filter((item: any) => item.majorPrice === false);\r\n    }\r\n}\r\n","import { TpPricecalcModule } from '../pricecalc/TpPricecalcModule';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpBuylayerComponent } from './TpBuylayerComponent';\r\nimport { TpBuylayerLeftComponent } from './TpBuylayerLeftComponent';\r\nimport { TpBuylayerRightComponent } from './TpBuylayerRightComponent';\r\nimport { TiButtonModule, TiLocaleModule, TiTipModule } from '@cloud/tiny3';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TpDiscountsModule } from '../discounts/TpDiscountsModule';\r\nimport { IsMajorPricePipe, IsMinorPricePipe } from './IsMajorPrice';\r\nimport { TpLocaleModule } from '../../pipes/locale/TpLocaleModule';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, TiButtonModule,\r\n      TpDiscountsModule, TpIconModule, TpLocaleModule,  TiLocaleModule, TiTipModule, TpPricecalcModule],\r\n  exports: [TpBuylayerComponent, TpBuylayerLeftComponent, TpBuylayerRightComponent],\r\n  declarations: [IsMajorPricePipe, IsMinorPricePipe, TpBuylayerComponent, TpBuylayerLeftComponent, TpBuylayerRightComponent]\r\n})\r\n\r\nexport class TpBuylayerModule {}\r\nexport { TpBuylayerComponent, TpBuylayerConfig } from './TpBuylayerComponent';\r\nexport { TpButtons, TpBuylayerRightComponent } from './TpBuylayerRightComponent';\r\nexport { TpCosts, TpBuylayerLeftComponent } from './TpBuylayerLeftComponent';\r\n","import { Component, Input } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n/**\r\n * 卡片组件\r\n *\r\n * <example-url>../tinyplus3demo/#/card/card-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-card',\r\n    template: `\r\n      <ng-content ></ng-content>\r\n    `,\r\n    styleUrls: ['./card.less'],\r\n    host: {\r\n        '[class.tp-card-disabled]': 'disabled',\r\n        '[class.tp-card-active]': 'active',\r\n        '[attr.tabindex]': 'disabled? \"-1\":\"0\"'\r\n    }\r\n})\r\n\r\nexport class TpCardComponent extends TiBaseComponent {\r\n    /**\r\n     * 卡片禁用状态\r\n     */\r\n    @Input() disabled: boolean = false;\r\n    /**\r\n     * 卡片激活选中状态\r\n     */\r\n    @Input() active: boolean = false;\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n/**\r\n *  特殊卡片组件，添加卡片组件\r\n *\r\n * <example-url>../tinyplus3demo/#/card/card-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-card-add',\r\n    templateUrl: './card-add.html',\r\n    styleUrls: ['./card-add.less'],\r\n    host: {\r\n        '[class.tp-card-add-disabled]': 'disabled',\r\n        '[attr.tabindex]': 'disabled? \"-1\":\"0\"'\r\n    }\r\n})\r\n\r\nexport class TpCardAddComponent extends TiBaseComponent {\r\n    /**\r\n     * 禁用状态\r\n     */\r\n    @Input() disabled: boolean = false;\r\n    /**\r\n     * 点击事件\r\n     */\r\n    @Output() readonly add: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    /**\r\n     * @ignore\r\n     * 加号点击回调\r\n     */\r\n    public onClick($event: Event): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        this.add.emit($event);\r\n    }\r\n}\r\n","import { Component, Input } from '@angular/core';\r\n/**\r\n * <example-url>../tinyplus3demo/#/card/card-all</example-url>\r\n */\r\n@Component({\r\n  selector: 'tp-card-header',\r\n  template: `\r\n    <ng-content></ng-content>\r\n   `,\r\n  styleUrls: ['./card-header.less'],\r\n})\r\nexport class TpCardHeaderComponent {\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\nimport { TpCardComponent } from './TpCardComponent';\r\nimport { TpCardAddComponent } from './TpCardAddComponent';\r\nimport { TpCardHeaderComponent } from './TpCardHeaderComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TpIconModule\r\n  ],\r\n  declarations: [\r\n    TpCardComponent,\r\n    TpCardAddComponent,\r\n    TpCardHeaderComponent\r\n  ],\r\n  exports: [\r\n    TpCardComponent,\r\n    TpCardAddComponent,\r\n    TpCardHeaderComponent\r\n  ]\r\n})\r\n\r\nexport class TpCardModule {}\r\nexport { TpCardComponent } from './TpCardComponent';\r\nexport { TpCardAddComponent } from './TpCardAddComponent';\r\nexport { TpCardHeaderComponent } from './TpCardHeaderComponent';\r\n","import { Component, EventEmitter, Input, Output, QueryList, SimpleChanges, ViewChild, ViewChildren } from '@angular/core';\r\nimport { TiDominatorComponent, TiDropComponent, TiDroplistComponent, TiFormComponent, TiListComponent,\r\n    TiPositionType, TiWholeComponent} from '@cloud/tiny3';\r\n\r\nexport interface TpCascaderItem {\r\n    label?: string;\r\n    disabled?: boolean;\r\n    /**\r\n     * 二级面板数据\r\n     *\r\n     * 包含：1.label：显示文本 2.disabled：禁用 3.tip：提示信息 4.tipPosition：方位，默认为‘right’\r\n     */\r\n    children?: Array<{\r\n        label?: string;\r\n        disabled?: boolean;\r\n        tip?: any;\r\n        tipPosition?: TiPositionType;\r\n        [propName: string]: any;\r\n    }>;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n/**\r\n * 级联选择器 目前只支持二级或三级级联\r\n *\r\n * <example-url>../tinyplus3demo/#/cascader/cascader-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-cascader',\r\n    templateUrl: './cascader.html',\r\n    styleUrls: ['./cascader.less'],\r\n    providers: [TiFormComponent.getValueAccessor(TpCascaderComponent)],\r\n    host: {\r\n        '(blur)': 'onBlur()',\r\n        '[class.tp-cascader-dominator]': 'true'\r\n    }\r\n})\r\n\r\nexport class TpCascaderComponent extends TiFormComponent {\r\n  // TODO: add explicit constructor\r\n\r\n  // TODO: add explicit constructor\r\n\r\n    /**\r\n     * 数据列表\r\n     */\r\n    @Input() items: Array<TpCascaderItem>;\r\n    /**\r\n     * 是否开启清空输入框内容的功能\r\n     */\r\n    @Input() clearable: boolean = false;\r\n    /**\r\n     * @ignore\r\n     * 10.1.0新增\r\n     */\r\n    // @Input() searchable: boolean = false;\r\n    /**\r\n     * 预留文本\r\n     */\r\n    @Input() placeholder: string;\r\n    /**\r\n     * 显示的字段\r\n     */\r\n    @Input() labelKey: string = 'label';\r\n    /**\r\n     * 10.0.4 新增\r\n     *\r\n     * 单级面板的宽度\r\n     */\r\n    @Input() panelWidth: string = '160px';\r\n    /**\r\n     * 10.0.4 新增\r\n     *\r\n     * 面板高度\r\n     */\r\n    @Input() panelHeight: string = '248px';\r\n    /**\r\n     * 10.0.4 新增\r\n     *\r\n     * 是否只能选中叶子节点\r\n     */\r\n    @Input() onlySelectLeaf: boolean = true;\r\n    /**\r\n     * 10.0.4 新增\r\n     *\r\n     * 在选择框上呈现的数据是否显示全部路径\r\n     */\r\n    @Input() showAllLevel: boolean = true;\r\n    /**\r\n     * 10.1.1新增\r\n     * 指定选中值的字段\r\n     */\r\n    @Input() valueKey: string;\r\n\r\n    /**\r\n     * @ignore\r\n     * 选中事件，选中项没有变化\r\n     */\r\n    @Output() readonly select: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * @ignore\r\n     * 选中事件，选中项变化\r\n     */\r\n    @Output() readonly change: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * 清除已选项\r\n     */\r\n    @Output() readonly clear: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild(TiDominatorComponent, {static: true}) dominatorCom: TiDominatorComponent;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild(TiDropComponent) dropCom: TiDropComponent;\r\n    /**\r\n     * @ignore 呈现各级数据的list\r\n     */\r\n    @ViewChildren('commonList') listComs: QueryList<TiListComponent>;\r\n    /**\r\n     * @ignore 宽的面板，是一个droplist，用于无数据和搜索场景\r\n     */\r\n    @ViewChild('wideDroplist') wideDroplist: TiDroplistComponent;\r\n    /**\r\n     * @ignore 分隔符 以后可能会对外开放\r\n     */\r\n    public separator: string = '/';\r\n    /**\r\n     * @ignore 转化为数字的panelWidth\r\n     */\r\n    public panelWidthNum: number;\r\n    /**\r\n     * @ignore 三个TiListComponent的model\r\n     */\r\n    public listModel: Array<any> = [];\r\n    /**\r\n     * @ignore 用于dominator呈现数据\r\n     */\r\n    public dominatorModel: string;\r\n    /**\r\n     * @ignore\r\n     * itemsArr[0]存放根面板内容，itemArr[1]存放次级面板内容，itemArr[2]存放次次级面板内容\r\n     */\r\n    public itemsArr: Array<Array<any>> = [];\r\n    /**\r\n     * @ignore 宽面板的数据\r\n     */\r\n    public itemForWideDroplist: Array<any> = [];\r\n    /**\r\n     * @ignore\r\n     */\r\n    public dropshow: boolean;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public listComsArr: Array<TiListComponent>;\r\n\r\n    /**\r\n     * modelWhole与model的中间变量\r\n     */\r\n    private _modelWhole: Array<TpCascaderItem>;\r\n\r\n    private valueFn: (item: any) => any = (item: any) => {\r\n        return item[this.valueKey];\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.panelWidthNum = parseInt(this.panelWidth, 10);\r\n    }\r\n    ngOnChanges(change: SimpleChanges): void {\r\n        if (change['items']) {\r\n            this.itemsArr[0] = this.items;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    ngOnModelChange(): void {\r\n        if (this.modelWhole && this.modelWhole.length > 0) {\r\n            this.joinDominatorModel();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClick(): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        if (this.dropCom.isShow || this.wideDroplist.isShow) {\r\n            this.close();\r\n\r\n            return;\r\n        }\r\n        this.dropshow = true;\r\n        if (this.items.length === 0) {\r\n            this.wideDroplist.show();\r\n        } else {\r\n            /**\r\n             * 触发tiScroll关闭面板的场景下，drop不显示，但list是显示的，\r\n             * 下次重新打开时，一个或者多个list会全部显示，除第一个外，其他的都定位错误，\r\n             * 所以，需要打开前隐藏除第一个外的其他list。\r\n             */\r\n            this.listComsArr.forEach((list: TiListComponent, index: number): void => {\r\n                if (index > 0) {\r\n                    this.renderer.setStyle(list.nativeElement, 'display', 'none');\r\n                }\r\n            });\r\n            this.dropCom.show();\r\n            if (this.modelWhole && this.modelWhole.length > 0) {\r\n                this.modelWhole.forEach((item: TpCascaderItem, i: number): void => {\r\n                    this.listComsArr[i].model = item;\r\n                    this.itemsArr[i + 1] = item.children;\r\n                    this.showList(i);\r\n                    // 如果是初始有值，不加setTimeout不能滚到正确的位置\r\n                    setTimeout((): void => {\r\n                        this.listComsArr[i].scrollToSelected();\r\n                    }, 0);\r\n                });\r\n            } else {\r\n                this.listComsArr[0].model = undefined;\r\n                this.showList(0);\r\n            }\r\n        }\r\n\r\n        this.focus();\r\n    }\r\n    ngAfterViewInit(): void {\r\n        this.listComsArr = this.listComs.toArray();\r\n        this.setFocusableElems(this.dominatorCom.getFocusableElems());\r\n        this.renderer.setStyle(this.dropCom.nativeElement, 'width', '');\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public close(): void {\r\n        this.dropshow = false;\r\n        this.dropCom.hide();\r\n        this.wideDroplist.hide();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onBlur(): void {\r\n        this.close();\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onSelect($event: TpCascaderItem, panelIndex: number): void {\r\n        // 处理面板\r\n        if ($event.children?.length > 0) {\r\n            // 关闭次次级面板\r\n            for (let i: number = panelIndex + 1; i < this.listComsArr.length - 1; i++) {\r\n                this.renderer.setStyle(this.listComsArr[i + 1].nativeElement, 'display', 'none');\r\n            }\r\n            // 打开次级面板\r\n            this.itemsArr[panelIndex + 1] = $event.children;\r\n            this.showList(panelIndex + 1);\r\n        } else {\r\n            // 关闭次级以后所有面板\r\n            this.close();\r\n        }\r\n        this.listModel = this.listModel || [];\r\n        this.listModel.splice(panelIndex);\r\n        this.listModel.push($event);\r\n        if (!this.onlySelectLeaf || !$event.children || $event.children.length === 0) {\r\n            this.modelWhole = [...this.listModel];\r\n            this.handleModel($event, panelIndex);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClear(): void {\r\n        this.model = [];\r\n        this.clear.emit();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onMouseleave(panelIndex: number): void {\r\n        this.listComsArr[panelIndex].hoverOption = undefined;\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public showList(panelIndex: number): void {\r\n        this.renderer.setStyle(this.listComsArr[panelIndex].nativeElement, 'display', 'inline-block');\r\n        this.renderer.setStyle(this.dropCom.nativeElement, 'width', this.panelWidthNum * (panelIndex + 1) + 'px');\r\n        if (!this.listComsArr[panelIndex].model) {\r\n            this.listComsArr[panelIndex].hoverOption = undefined;\r\n        }\r\n    }\r\n\r\n    private handleModel($event: TpCascaderItem, panelIndex: number): void {\r\n        // 处理数据\r\n        this.listModel.splice(panelIndex);\r\n        this.listModel[panelIndex] = $event;\r\n        this.joinDominatorModel();\r\n    }\r\n\r\n    /**\r\n     * 通过model拼接dominatorModel，显示在dominator上\r\n     */\r\n    private joinDominatorModel(): void {\r\n        this.dominatorModel = '';\r\n        if (this.showAllLevel) {\r\n            this.modelWhole.forEach((item: any, index: number): void => {\r\n                if (index === 0) {\r\n                    this.dominatorModel += `${item[this.labelKey]}`;\r\n                } else {\r\n                    this.dominatorModel += `${this.separator}${item[this.labelKey]}`;\r\n                }\r\n            });\r\n        } else {\r\n            this.dominatorModel = this.modelWhole[this.model.length - 1][this.labelKey];\r\n        }\r\n    }\r\n\r\n    writeValue(model): void {\r\n        // super.writeValue(model);\r\n        if (model && this.valueKey) {\r\n            this._modelWhole = this.items.filter((item) => model.includes(this.valueFn(item)));\r\n            if (this._modelWhole[0].children) {\r\n                const nextModelWhole: TpCascaderItem = this._modelWhole[0].children.filter((item) => model.includes(this.valueFn(item)))[0];\r\n                this._modelWhole.push(nextModelWhole);\r\n                if (nextModelWhole.children) {\r\n                    const nextModelWhole1: TpCascaderItem =\r\n                        nextModelWhole.children.filter((item) => model.includes(this.valueFn(item)))[0];\r\n                    nextModelWhole1 && this._modelWhole.push(nextModelWhole1);\r\n                }\r\n            }\r\n        } else {\r\n            this._modelWhole = model;\r\n        }\r\n        super.writeValue(model);\r\n    }\r\n\r\n    private get modelWhole(): any {\r\n        return this._modelWhole;\r\n    }\r\n\r\n    /**\r\n     * 点选时modelWhole改变，要同时更改model\r\n     */\r\n    private set modelWhole(value: any) {\r\n        this._modelWhole = value;\r\n        if (this.valueKey && value !== undefined && value !== null) {\r\n            // 存在valueKey，且value不为空\r\n            this.model = value.map((item) => this.valueFn(item));\r\n        } else {\r\n            this.model = value;\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TiDominatorModule, TiDroplistModule, TiDropModule, TiListModule, TiTipModule } from '@cloud/tiny3';\r\n\r\nimport { TpCascaderComponent } from './TpCascaderComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    TiDominatorModule,\r\n    TiDropModule,\r\n    TiListModule,\r\n    TiDroplistModule,\r\n    TiTipModule\r\n  ],\r\n  exports: [TpCascaderComponent],\r\n  declarations: [TpCascaderComponent]\r\n})\r\n\r\nexport class TpCascaderModule {}\r\nexport { TpCascaderComponent, TpCascaderItem } from './TpCascaderComponent';\r\n","\r\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n/**\r\n * 折叠框组件 collapsebox\r\n *\r\n * collapsebox组件是一个带有关闭操作的容器类组件，服务可自定义内容。\r\n *\r\n * <example-url>../tinyplus3demo/#/collapsebox/collapsebox-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-collapsebox',\r\n    templateUrl: './collapsebox.html',\r\n    styleUrls: ['./collapsebox.less']\r\n})\r\n\r\nexport class TpCollapseboxComponent extends TiBaseComponent {\r\n    /**\r\n     * @ignore\r\n     * 设置折叠框默认展开\r\n     */\r\n    public collapsed: boolean = false;\r\n    /**\r\n     * 是否可关闭\r\n     * 10.0.3新增\r\n     */\r\n    @Input() closeable: boolean = true;\r\n    /**\r\n     * 关闭事件\r\n     * 10.0.3新增\r\n     */\r\n    @Output() readonly close: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * @ignore\r\n     * 10.0.3新增\r\n     */\r\n    public onClickClose(event: Event): void {\r\n        if (this.close.observers.length > 0) {\r\n            this.close.emit();\r\n        } else {\r\n            this.collapsed = true;\r\n        }\r\n    }\r\n }\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { TiCollapseModule, TiOutlineModule } from '@cloud/tiny3';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\nimport { TpCollapseboxComponent } from './TpCollapseboxComponent';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    TiCollapseModule,\r\n    TpIconModule,\r\n    TiOutlineModule\r\n  ],\r\n  exports: [TpCollapseboxComponent],\r\n  declarations: [TpCollapseboxComponent]\r\n})\r\n\r\nexport class TpCollapseboxModule {}\r\nexport { TpCollapseboxComponent } from './TpCollapseboxComponent';\r\n","import { Component, ContentChild, EventEmitter, Input, Output, TemplateRef } from '@angular/core';\r\n\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n/**\r\n * 折叠按钮组件，在高级搜索场景中使用\r\n *\r\n * <example-url>../tinyplus3demo/#/collapsebutton/collapsebutton-all</example-url>\r\n */\r\n@Component({\r\n  selector: 'tp-collapsebutton',\r\n  templateUrl: './collapsebutton.html',\r\n  styleUrls: ['./collapsebutton.less'],\r\n  host: {\r\n    '[class.tp-collapsebutton-uncollapsed]': '!collapsed'\r\n  }\r\n})\r\nexport class TpCollapsebuttonComponent extends TiBaseComponent {\r\n\r\n  /**\r\n   * 是否折叠，true：折叠状态 false：非折叠状态，双向绑定\r\n   */\r\n  @Input() collapsed: boolean = true;\r\n  /**\r\n   * 高级搜索显示的筛选条件数目（10.0.4 版本新增）\r\n   */\r\n  @Input() searchCount: number = 0;\r\n  /**\r\n   *  折叠状态改变事件，用于实现折叠状态双向绑定，也可单独使用\r\n   */\r\n  @Output() readonly collapsedChange: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n  /**\r\n   * @ignore\r\n   * 用户自定义按钮文本\r\n   */\r\n  @ContentChild(TemplateRef) textTemplateRef: TemplateRef<any>;\r\n\r\n  /**\r\n   * @ignore\r\n   * 按钮点击事件处理\r\n   */\r\n  public onClickToggle($event: Event): void {\r\n    this.collapsed = !this.collapsed;\r\n    this.collapsedChange.emit(this.collapsed);\r\n  }\r\n\r\n}\r\n","import { Component } from '@angular/core';\r\n/**\r\n * 高级搜索中的面板，可选择使用。\r\n */\r\n@Component({\r\n  selector: 'tp-collapsepanel',\r\n  template: `\r\n    <ng-content></ng-content>\r\n  `,\r\n  styleUrls: ['./collapsepanel.less']\r\n})\r\nexport class TpCollapsepanelComponent {\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TiButtonModule, TiLocaleModule } from '@cloud/tiny3';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\nimport { TpCollapsebuttonComponent } from './TpCollapsebuttonComponent';\r\nimport { TpCollapsepanelComponent } from './TpCollapsepanelComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiButtonModule,\r\n    TiLocaleModule,\r\n    TpIconModule\r\n  ],\r\n  exports: [\r\n    TpCollapsebuttonComponent,\r\n    TpCollapsepanelComponent\r\n  ],\r\n  declarations: [\r\n    TpCollapsebuttonComponent,\r\n    TpCollapsepanelComponent\r\n  ]\r\n})\r\n\r\nexport class TpCollapsebuttonModule { }\r\nexport { TpCollapsebuttonComponent } from './TpCollapsebuttonComponent';\r\nexport { TpCollapsepanelComponent } from './TpCollapsepanelComponent';\r\n","import { Component, ElementRef, Input, Renderer2 } from '@angular/core';\r\nimport { TiFormComponent, TiLocale } from '@cloud/tiny3';\r\n\r\n/**\r\n * NPS评分组件\r\n *\r\n * <example-url>../tinyplus3demo/#/score/score-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-score',\r\n    templateUrl: './score.html',\r\n    styleUrls: ['./score.less'],\r\n    providers: [ TiFormComponent.getValueAccessor(TpScoreComponent) ]\r\n})\r\n\r\nexport class TpScoreComponent extends TiFormComponent {\r\n    /**\r\n     * 设置最小评分值文本描述\r\n     */\r\n    @Input() minText: string;\r\n    /**\r\n     * 设置最大评分值文本描述\r\n     */\r\n    @Input() maxText: string;\r\n\r\n    /**\r\n     * @ignore\r\n     * 定义含有11项成员的数组\r\n     */\r\n    public scoreArray: Array<any> = new Array(11);\r\n\r\n    constructor(protected hostRef: ElementRef, protected renderer: Renderer2) {\r\n        super(hostRef, renderer);\r\n        this.minText = this.minText || TiLocale.getLocaleWords().tpScore.minText;\r\n        this.maxText = this.maxText || TiLocale.getLocaleWords().tpScore.maxText;\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 选择评分时，触发事件\r\n     */\r\n    public onClick(value: number): void {\r\n        this.model = value;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpScoreComponent } from './TpScoreComponent';\r\nimport { TiOutlineModule } from '@cloud/tiny3';\r\n@NgModule({\r\n  imports: [CommonModule, TiOutlineModule],\r\n  exports: [TpScoreComponent],\r\n  declarations: [TpScoreComponent]\r\n})\r\n\r\nexport class TpScoreModule { }\r\nexport { TpScoreComponent } from './TpScoreComponent';\r\n","import { Component, ElementRef, Input, OnInit, Renderer2 } from '@angular/core';\r\nimport { TiBaseComponent, TiLocale, Util } from '@cloud/tiny3';\r\n\r\nimport { CfUtil } from '../../cfutils/CfUtil';\r\n\r\nimport { TpUtil } from './../../utils/TpUtil';\r\n\r\nexport interface TpQuestionInfo {\r\n    /**\r\n     * 问题Id\r\n     *\r\n     */\r\n    questionId: string;\r\n    /**\r\n     * 问题的类型，有radio和essay、两种类型\r\n     *\r\n     */\r\n    type: 'radio' | 'essay';\r\n    /**\r\n     * 问题是否呈现\r\n     */\r\n    show: boolean;\r\n    /**\r\n     * 问题是否是必选\r\n     *\r\n     */\r\n    require: boolean;\r\n    /**\r\n     * 问题的名称\r\n     *\r\n     */\r\n    title: string;\r\n}\r\n\r\nexport interface TpSurveyOptions {\r\n    /**\r\n     * 服务Id，各个服务需要唯一\r\n     *\r\n     */\r\n    serviceId: string;\r\n    /**\r\n     * 触点Id，一个服务内的触点Id需要保证唯一\r\n     *\r\n     */\r\n    contactId: string;\r\n    /**\r\n     * 触点名称，用于拼接问题\r\n     *\r\n     */\r\n    contactName: string;\r\n}\r\n/**\r\n * 满意度调查组件\r\n *\r\n * 10.0.3版本新增\r\n *\r\n * <example-url>../tinyplus3demo/#/contactsurvey/contactsurvey-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-contactsurvey',\r\n    templateUrl: './contactsurvey.html',\r\n    styleUrls: ['./contactsurvey.less'],\r\n    host: {\r\n        class: 'tp-contactsurvey-container' // 给最外层元素加样式类\r\n    }\r\n})\r\n\r\nexport class TpContactsurveyComponent extends TiBaseComponent implements OnInit {\r\n    /**\r\n     * 常量配置(90天对应的毫秒数)\r\n     */\r\n    private static readonly MILLISECONDS_PER_MONTH: number =  90 * 24 * 60 * 60 * 1000;\r\n    /**\r\n     * 组件传入数据\r\n     *\r\n     */\r\n    @Input() options: TpSurveyOptions;\r\n    /**\r\n     * @ignore\r\n     * 是否显示满意度调查组件，默认不显示。符合某些条件才会展示出来。\r\n     */\r\n    public showContactsurvey: boolean = false;\r\n    /**\r\n     * @ignore\r\n     * 控制提交按钮是否禁用，默认为禁用\r\n     */\r\n    public submitDisabled: boolean = true;\r\n    /**\r\n     * @ignore\r\n     * 国际化词条对象\r\n     */\r\n    public tpContactsurvey: any = TiLocale.getLocaleWords().tpContactsurvey;\r\n    /**\r\n     * @ignore\r\n     * 评分值\r\n     */\r\n    public scoreValue: number;\r\n    /**\r\n     * @ignore\r\n     * 文本框组件输入值\r\n     */\r\n    public textareaValue: string;\r\n    /**\r\n     * @ignore\r\n     * 模板中展示的题目\r\n     */\r\n    public displayData: Array<TpQuestionInfo> = [];\r\n    /**\r\n     * @ignore\r\n     * 用户反馈的答案\r\n     */\r\n    public submitAnswer: Array<any> = [];\r\n    /**\r\n     * 类生产环境的请求数据\r\n     */\r\n    private devConfig: any = {\r\n        backend: 'https://console.ulanqab.huawei.com/nps-api',\r\n        surveyId: 'hwcloudbusurvey_key_fbd25bdbdb89'\r\n    };\r\n    /**\r\n     * 现网环境的请求数据\r\n     */\r\n    private prodConfig: any = {\r\n        backend: 'https://voc.huaweicloud.com/survey-api',\r\n        surveyId: 'hwcloudbusurvey_key_fbd25bdbdb89'\r\n    };\r\n    /**\r\n     * 用户ID，作为用户的唯一标识\r\n     */\r\n    private userId: string = '';\r\n    /**\r\n     * 默认为类生产环境配置\r\n     */\r\n    public config: any = this.devConfig;\r\n    constructor(private elementRef: ElementRef, private renderer2: Renderer2) {\r\n        super(elementRef, renderer2);\r\n        if (location.hostname.indexOf('huaweicloud.com') > -1) {\r\n            this.config = this.prodConfig;\r\n        }\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        CfUtil.getUser()\r\n            .then((user: any): void => {\r\n                const root: any = user;\r\n                const camel: any = CfUtil.getHttpService();\r\n                const msgService: any = CfUtil.getMessage();\r\n                if (!camel || !msgService || !root || !Util.isFunction(camel.get) || !Util.isFunction(msgService.showSuccess)) {\r\n                    return;\r\n                }\r\n                const userId: string = root.domainId;\r\n                this.userId = userId;\r\n                const url: string = `${this.config.backend}/api/get/commit/date?surveyId={survey_id}&userId={user_id}&serviceId={service_id}&contactId={contact_id}`;\r\n                if (userId) {\r\n                    camel.get({\r\n                        url: {\r\n                            s: url,\r\n                            o: {\r\n                                survey_id: this.config.surveyId,\r\n                                user_id: userId,\r\n                                service_id: this.options.serviceId,\r\n                                contact_id: this.options.contactId\r\n                            }\r\n                        }\r\n                    })\r\n                    .then((response: any): void => {\r\n                        // 后台返回的日期格式yyyy-MM-dd，在IE下Date.parse为NaN，导致组件提交成功后还会出现。需要转成yyyy/mm/dd，目前这种格式在3个浏览器都OK\r\n                        const submitDate: any = Date.parse(response.data.replace(/-/g, '/'));\r\n                        // 如果是非法日期，或者没有提交为''，则重新赋值为0。否则会出现NaN，组件展示不出来。\r\n                        const milliSeconds: number = isNaN(submitDate) ? 0 : submitDate;\r\n\r\n                        // 查询上次提交的日期，如果小于90天则不显示。否则，看之前用户是否点击关闭按钮\r\n                        if (new Date().getTime() - milliSeconds > TpContactsurveyComponent.MILLISECONDS_PER_MONTH) {\r\n                            const tinyContactSurvey: string =\r\n                            Util.isUndefined(TpUtil.getCookie('tinyContactSurvey')) ? '' : TpUtil.getCookie('tinyContactSurvey');\r\n\r\n                            if (tinyContactSurvey.indexOf(`${userId}${this.options.serviceId}${this.options.contactId}`) === -1) {\r\n                                this.showContactsurvey = true;\r\n                            }\r\n                        }\r\n                    }, (): void => {\r\n                        // 数据请求失败，不出现该组件。如果出现错误提示，会给用户带来困扰。\r\n                    });\r\n                }\r\n            });\r\n        // 在模板中用于展示的问题数据\r\n        this.displayData = [{\r\n            questionId: 'question1',\r\n            type: 'radio',\r\n            show: true, // 初始是否需要显示\r\n            require: true, // 是够是必选\r\n            title: Util.formatEntry(this.tpContactsurvey.contactSurvey_question1_title, [this.options.contactName])\r\n        }, {\r\n            questionId: 'question2',\r\n            type: 'essay',\r\n            show: false,\r\n            require: false,\r\n            title: this.tpContactsurvey.contactSurvey_question2_title\r\n        }];\r\n    }\r\n    /**\r\n     * @ignore\r\n     *  叉号图标点击事件\r\n     */\r\n    public onClickClose(): void {\r\n        const closedList: string = Util.isUndefined(TpUtil.getCookie('tinyContactSurvey')) ? '' : TpUtil.getCookie('tinyContactSurvey');\r\n        TpUtil.setCookie('tinyContactSurvey', `${closedList}${this.userId}${this.options.serviceId}${this.options.contactId},`);\r\n        this.showContactsurvey = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 调查结果提交事件\r\n     */\r\n    public onClickSubmit(): void {\r\n        CfUtil.getUser().then((user: any): void => {\r\n            const root: any = user;\r\n            const camel: any = CfUtil.getHttpService();\r\n            const msgService: any = CfUtil.getMessage();\r\n            if (!camel || !msgService || !root || !Util.isFunction(camel.post) || !Util.isFunction(msgService.showSuccess)) {\r\n                return;\r\n            }\r\n            const url: string = `${this.config.backend}/api/save`;\r\n            // 发送请求，向后台发送问卷结果\r\n            const sendData: any = {\r\n                data: {\r\n                    surveyId: this.config.surveyId,\r\n                    serviceId: this.options.serviceId,\r\n                    contactId: this.options.contactId,\r\n                    w3account: root.domainId, // 用户ID\r\n                    answers: this.submitAnswer\r\n                }\r\n            };\r\n\r\n            camel.post({\r\n                url: {\r\n                    s: url\r\n                },\r\n                params: sendData\r\n            })\r\n            .then((): void => { }, (): void => { });\r\n\r\n            this.showContactsurvey = false;\r\n            msgService.showSuccess(this.tpContactsurvey.contactSurvey_submit_success);\r\n        }, (): void => { });\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 点击评分组件\r\n     */\r\n    public changeScore(score: number): void {\r\n        if (!this.displayData[1].show) {\r\n            this.displayData[1].show = true;\r\n        }\r\n\r\n        this.initAnswerArrray();\r\n\r\n        // 对于单选来说，answer和subRemark的值一样\r\n        this.submitAnswer[0].answer = score;\r\n        this.submitAnswer[0].subRemark = score;\r\n\r\n        this.submitDisabled = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 文本框失焦事件\r\n     */\r\n    public onBlur(value: string): void {\r\n        this.submitAnswer[1].answer = value;\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 初始化答案对象，用于给后台下发\r\n     */\r\n    public initAnswerArrray(): void {\r\n        for (let i: number = 0; i < this.displayData.length; i++) {\r\n            this.submitAnswer[i] = { };\r\n            this.submitAnswer[i].questionId = this.displayData[i].questionId;\r\n            this.submitAnswer[i].subQuestionId = null;\r\n            this.submitAnswer[i].subName = this.displayData[i].title;\r\n            this.submitAnswer[i].answer = '';\r\n            this.submitAnswer[i].subRemark = '';\r\n            if (this.displayData[i].type === 'essay') {\r\n                this.submitAnswer[i].subRemark = null;\r\n            }\r\n            this.submitAnswer[i].reason = '0';\r\n        }\r\n    }\r\n}\r\n","import { FormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TiButtonModule, TiIconModule, TiLocaleModule, TiOutlineModule, TiTextareaModule } from '@cloud/tiny3';\r\n\r\nimport { TpScoreModule } from '../score/TpScoreModule';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\nimport { TpContactsurveyComponent } from './TpContactsurveyComponent';\r\n@NgModule({\r\n    imports: [\r\n        TiTextareaModule,\r\n        TpScoreModule,\r\n        TpIconModule,\r\n        TiButtonModule,\r\n        CommonModule,\r\n        TiIconModule,\r\n        FormsModule,\r\n        TiLocaleModule,\r\n        TiOutlineModule],\r\n    exports: [TpContactsurveyComponent],\r\n    declarations: [TpContactsurveyComponent]\r\n})\r\n\r\nexport class TpContactsurveyModule { }\r\nexport { TpContactsurveyComponent, TpQuestionInfo, TpSurveyOptions } from './TpContactsurveyComponent';\r\n","import { Component } from '@angular/core';\r\n\r\n/**\r\n * @ignore\r\n */\r\n@Component({\r\n    selector: 'tp-toast',\r\n    template: '<ng-content></ng-content>',\r\n    styleUrls: ['./toast.less']\r\n})\r\n\r\nexport class TpToastComponent {\r\n}\r\n","import { Component, ElementRef, Input, Renderer2 } from '@angular/core';\r\nimport { TiBaseComponent, TiLocale, TiPopUpRef, TiPopupService, TiPosition } from '@cloud/tiny3';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { delay, throttleTime } from 'rxjs/operators';\r\n\r\nimport { TpToastComponent } from './TpToastComponent';\r\n\r\n/**\r\n * 复制组件，用于复制文本\r\n *\r\n * <example-url>../tinyplus3demo/#/copy/copy-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-copy',\r\n    templateUrl: './copy.html',\r\n    styleUrls: ['./copy.less']\r\n})\r\n\r\nexport class TpCopyComponent extends TiBaseComponent {\r\n    constructor(\r\n        protected hostRef: ElementRef,\r\n        private Renderer: Renderer2,\r\n        private tiPopup: TiPopupService<any>\r\n    ) { super(hostRef, Renderer); }\r\n    @Input() content: string;\r\n    /**\r\n     * 复制后的<strong>即时提示信息</strong>(小黑框)，\r\n     *\r\n     * 缺省值：复制成功/Copied successfully.（国际化），支持自定义\r\n     */\r\n    @Input() successTip: string;\r\n\r\n    private clickObserve: Subject<string> = new Subject();\r\n    private clickSub: Subscription;\r\n    private hideToast: Subject<string> = new Subject();\r\n    private hideToastSub: Subscription;\r\n    private deleteToast: Subject<string> = new Subject();\r\n    private deleteToastSub: Subscription;\r\n\r\n    private toast: TiPopUpRef;\r\n    private toastRef: any;\r\n    private hostSpace: number = 4; // toast距copy图标的距离\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        // 创建点击事件的observe\r\n        this.createClickObserve();\r\n        // 创建hideToast的observe\r\n        this.createHideToastObserve();\r\n        // 创建deleteToast的observe\r\n        this.createDeleteToastObserve();\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 图标点击事件\r\n     */\r\n    public onClick(): void {\r\n        if (!this.content) {\r\n            return;\r\n        }\r\n        this.clickObserve.next();\r\n    }\r\n    private createClickObserve(): void {\r\n        this.clickSub = this.clickObserve.pipe(\r\n            throttleTime(2000)\r\n        )\r\n        .subscribe((): void => {\r\n            // 创建textarea\r\n            const textarea: any = this.Renderer.createElement('textarea');\r\n            this.Renderer.appendChild(document.body, textarea);\r\n            this.Renderer.setStyle(textarea, 'postion', 'absolute');\r\n            this.Renderer.setStyle(textarea, 'top', '-9999px');\r\n            this.Renderer.setStyle(textarea, 'left', '-9999px');\r\n            this.Renderer.setProperty(textarea, 'value', this.content);\r\n            textarea.select();\r\n            document.execCommand('Copy');\r\n            this.Renderer.removeChild(document.body, textarea);\r\n            // 复制成功后，显示即时提示信息\r\n            this.showToast();\r\n            // 显示后隐藏\r\n            this.hideToast.next();\r\n        });\r\n    }\r\n    private createHideToastObserve(): void {\r\n        this.hideToastSub = this.hideToast.pipe(delay(1000))\r\n            .subscribe(() => {\r\n                this.Renderer.addClass(this.toastRef.location.nativeElement, 'fadeout');\r\n                // 隐藏后删除\r\n                this.deleteToast.next();\r\n            });\r\n    }\r\n    private createDeleteToastObserve(): void {\r\n        this.deleteToastSub = this.deleteToast.pipe(delay(300))\r\n            .subscribe(() => {\r\n                this.toast.hide();\r\n            });\r\n    }\r\n    /**\r\n     * 复制成功后，显示toast提示\r\n     */\r\n    private showToast(): void {\r\n        this.toast = this.tiPopup.create(TpToastComponent);\r\n        this.toastRef = this.toast.show({\r\n            content: this.successTip || TiLocale.getLocaleWords().tpCopy.successTip,\r\n            container: 'body'\r\n        });\r\n        TiPosition.setPosition({\r\n            hostEle: this.hostRef.nativeElement,\r\n            targetEle: this.toastRef.location.nativeElement,\r\n            hostSpace: this.hostSpace,\r\n            fixMaxHeight: true,\r\n            determinPositionFn: (layout: any): string => {\r\n                if (layout.avilableLayout.right >= layout.targetLayout.width + this.hostSpace) {\r\n                    return 'right';\r\n                } else {\r\n                    return 'left';\r\n                }\r\n            }\r\n\r\n        });\r\n        this.Renderer.addClass(this.toastRef.location.nativeElement, 'fadein');\r\n    }\r\n    ngOnDestroy(): void {\r\n        if (this.toast) {\r\n            this.toast.hide();\r\n        }\r\n        this.clickSub.unsubscribe();\r\n        this.hideToastSub.unsubscribe();\r\n        this.deleteToastSub.unsubscribe();\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TiPopupModule, TiOutlineModule } from '@cloud/tiny3';\r\nimport { TpCopyComponent } from './TpCopyComponent';\r\nimport { TpToastComponent } from './TpToastComponent';\r\n\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiPopupModule,\r\n    TpIconModule,\r\n    TiOutlineModule\r\n  ],\r\n  exports: [TpCopyComponent],\r\n  declarations: [TpCopyComponent, TpToastComponent],\r\n  entryComponents: [TpToastComponent]\r\n})\r\n\r\nexport class TpCopyModule {}\r\nexport { TpCopyComponent } from './TpCopyComponent';\r\n","// tslint:disable-next-line: no-implicit-dependencies\r\nimport { Component, Input } from '@angular/core';\r\nimport { TiLocale, TiBaseComponent } from '@cloud/tiny3';\r\nimport { CfUtil } from '../../cfutils/CfUtil';\r\nimport { TpDatePipe } from '../../pipes/locale/TpLocaleModule';\r\n\r\n/*\r\n* 倒计时类别, 详情参考“云运营公共接口说明”文档，2.21云服务倒计时信息查询\r\n*/\r\nexport type TpCountDownCode = 'hws_countdown_period_using'\r\n    | 'hws_countdown_period_gracing'\r\n    | 'hws_countdown_period_frozen'\r\n    | 'hws_countdown_period_illegalfrozen'\r\n    | 'hws_countdown_period_policefrozen'\r\n    | 'hws_countdown_period_toondemand'\r\n    | 'hws_countdown_ondemand_using'\r\n    | 'hws_countdown_ondemand_gracing'\r\n    | 'hws_countdown_ondemand_frozen'\r\n    | 'hws_countdown_ondemand_illegalfrozen'\r\n    | 'hws_countdown_ondemand_illegalfrozen_arrear'\r\n    | 'hws_countdown_ondemand_policefrozen';\r\n\r\n/**\r\n * 倒计时信息，接口是根据\"云运营公共接口说明\"文档 2.21云服务倒计时信息查询接口返回数据设置，详情参考接口\r\n */\r\nexport interface TpCountDownInfos {\r\n    status: number;\r\n    nextOperationRemainingDay: number;\r\n    nextOperationRemainingHour: number;\r\n    nextOperationRemainingMinute: number;\r\n    nextOperationRemainingSecond: number;\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n * 倒计时信息提示信息，接口是根据\"云运营公共接口说明\"文档 2.21云服务倒计时信息查询接口返回数据设置，详情参考接口\r\n */\r\nexport interface TpCountDownTips {\r\n    effTime: string; // 资源生效时间（即资源创建时间）\r\n    expTime: string; // 资源到期时间，如果已经欠费，则为资源欠费时间。\r\n    graceTime: string; // 宽限期结束时间\r\n    releaseTime: string; // 资源释放时间\r\n    frozenTime: string; // 资源冻结时间\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n * 资源倒计时组件\r\n * <example-url>../tinyplus3demo/#/countdown/countdown-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-countdown',\r\n    templateUrl: './countdown.html',\r\n    styleUrls: ['./countdown.less']\r\n})\r\n\r\nexport class TpCountdownComponent extends TiBaseComponent {\r\n\r\n    /**\r\n     * 是否显示资源的状态\r\n     */\r\n    @Input() showStatus: boolean = true;\r\n    /**\r\n     * 倒计时类别，即倒计时countDownCode字段\r\n     */\r\n    @Input() countDownCode: TpCountDownCode;\r\n    /**\r\n     * 倒计时数据, 和2.21云服务倒计时信息查询接口返回的countDownInfos一致\r\n     */\r\n    @Input() countDownInfos: TpCountDownInfos;\r\n    /**\r\n     * tip提示数据，和2.21云服务倒计时信息查询接口返回的TpCountDownTips一致\r\n     */\r\n    @Input() countDownTips: TpCountDownTips;\r\n\r\n    /**\r\n     * @ignore\r\n     * 倒计时最后显示的文本\r\n     */\r\n    public countdownText: string = '';\r\n    /**\r\n     * @ignore\r\n     * tip 的内容\r\n     */\r\n    public tipContext: any = [];\r\n    /**\r\n     * @ignore\r\n     * tip 的最大宽度\r\n     */\r\n    public tipMaxWidth: string = '500px';\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        // 生成倒计时内容\r\n        this.generateContent();\r\n        // 生成tip内容\r\n        this.generateTipContent();\r\n    }\r\n\r\n    /**\r\n     * 生成倒计时内容\r\n     */\r\n    private generateContent(): void {\r\n       // 时间间隔\r\n       let timespan: string = '';\r\n       // 时间信息\r\n       let hourInfo: string = '';\r\n       let minuteInfo: string = '';\r\n       //  根据返回时间拼接出时间间隔  {d} 天数 {h} 小时数 {m} 分钟数\r\n       if (this.countDownInfos) {\r\n           if (this.countDownInfos.nextOperationRemainingDay) {\r\n               timespan = this.countDownInfos.nextOperationRemainingDay > 1 ?\r\n                   TiLocale.getLocaleWords().tpCountdown.day\r\n                       .replace(/{d}/, this.countDownInfos.nextOperationRemainingDay) :\r\n                   TiLocale.getLocaleWords().tpCountdown.day\r\n                       .replace(/s/, '')\r\n                       .replace(/{d}/, this.countDownInfos.nextOperationRemainingDay);\r\n           } else if (this.countDownInfos.nextOperationRemainingSecond) {\r\n               timespan = TiLocale.getLocaleWords().tpCountdown.second;\r\n           } else if (this.countDownInfos.nextOperationRemainingHour) {\r\n               hourInfo = this.countDownInfos.nextOperationRemainingHour > 1 ?\r\n                   TiLocale.getLocaleWords().tpCountdown.hour\r\n                       .replace(/{h}/, this.countDownInfos.nextOperationRemainingHour) :\r\n                   TiLocale.getLocaleWords().tpCountdown.hour\r\n                       .replace(/s/, '')\r\n                       .replace(/{h}/, this.countDownInfos.nextOperationRemainingHour);\r\n\r\n               minuteInfo = this.countDownInfos.nextOperationRemainingMinute > 1 ?\r\n                   TiLocale.getLocaleWords().tpCountdown.minute\r\n                       .replace(/{m}/, this.countDownInfos.nextOperationRemainingMinute) :\r\n                   TiLocale.getLocaleWords().tpCountdown.minute\r\n                       .replace(/s/, '')\r\n                       .replace(/{m}/, this.countDownInfos.nextOperationRemainingMinute);\r\n\r\n               timespan = hourInfo + ' ' + minuteInfo;\r\n           } else if (this.countDownInfos.nextOperationRemainingMinute) {\r\n               timespan = this.countDownInfos.nextOperationRemainingMinute > 1 ?\r\n                   TiLocale.getLocaleWords().tpCountdown.minute.replace(/{m}/, this.countDownInfos.nextOperationRemainingMinute) :\r\n                   TiLocale.getLocaleWords().tpCountdown.minute.replace(/s/, '').replace(/{m}/, this.countDownInfos.nextOperationRemainingMinute);\r\n           }\r\n       }\r\n\r\n       // 根据状态码，得到倒计时整体字符串。 {TS} 时间间隔\r\n       const statusKey: string = this.countDownCode ? this.countDownCode.slice(14) : '';\r\n       if (TiLocale.getLocaleWords().tpCountdown[statusKey]) {\r\n           this.countdownText = TiLocale.getLocaleWords().tpCountdown[statusKey]\r\n               .replace(/{TS}/, timespan);\r\n       }\r\n\r\n       // 如果是按需正常使用，没有倒计时，只提示创建时间，单独处理 {ymdhms} 是 格式为本地化日期时间\r\n       if (this.countDownCode === 'hws_countdown_ondemand_using') {\r\n           this.countdownText = this.countdownText.replace(/{ymdhms}/, new TpDatePipe().transform(this.countDownTips.effTime, 'dateTime'));\r\n       }\r\n\r\n       // 是否展示状态\r\n       if (!this.showStatus) {\r\n           this.countdownText = this.countdownText.split(TiLocale.getLocaleWords().tpCountdown.spliter)\r\n               .pop();\r\n       }\r\n\r\n       // 添加样式类 宽限期，冻结期，违规冻结 提示红色，正常使用，如果小于七天，提示黄色\r\n       if (this.countDownInfos.status > 2) {\r\n           this.nativeElement.classList.add('tp-countdown-alarm');\r\n       } else if ((this.countDownCode === 'hws_countdown_period_using' || this.countDownCode === 'hws_countdown_period_toondemand')\r\n           && this.isDayLess7()) {\r\n           this.nativeElement.classList.add('tp-countdown-warn');\r\n       }\r\n    }\r\n\r\n    // 倒计时是否小于七天\r\n    private isDayLess7(): boolean {\r\n        return !(this.countDownInfos.nextOperationRemainingDay && this.countDownInfos.nextOperationRemainingDay > 7);\r\n    }\r\n\r\n    /**\r\n     * 生成tips 内容\r\n     */\r\n    private generateTipContent(): void {\r\n        switch (this.countDownCode) {\r\n            case 'hws_countdown_period_using':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.create_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.effTime)}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: ` ${TiLocale.getLocaleWords().tpCountdown.expire_time} `,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.expTime)}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_period_gracing':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.expire_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.expTime)}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time} `,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.graceTime)}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_period_frozen':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.frozenTime)}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.release_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.releaseTime)}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_period_illegalfrozen':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time} `,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.frozenTime)}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.release_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.releaseTime)}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_period_policefrozen':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time} `,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.frozenTime)}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_period_toondemand':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.create_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.effTime)}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.toonneed_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.expTime)}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_ondemand_using':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.create_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.effTime)}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_ondemand_gracing':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.arrears_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.expTime)}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.graceTime)}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_ondemand_frozen':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.frozenTime)}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.release_time} `,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.releaseTime)}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_ondemand_illegalfrozen':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.frozenTime)}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_ondemand_illegalfrozen_arrear':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time}`,\r\n                    time: ` ${this.formatLocaleDateTime(this.countDownTips.frozenTime)} `\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.release_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.releaseTime)}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_ondemand_policefrozen':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time}`,\r\n                    time: `${this.formatLocaleDateTime(this.countDownTips.frozenTime)}`\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 日期时间戳转换成带时区的\r\n     */\r\n    private formatLocaleDateTime(req: string): string {\r\n        return CfUtil.formatLocaleDateTime(req);\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TpCountdownComponent } from './TpCountdownComponent';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TiTipModule } from '@cloud/tiny3';\r\n\r\n@NgModule({\r\n  imports:[\r\n    CommonModule,\r\n    TiTipModule\r\n  ],\r\n  exports: [TpCountdownComponent],\r\n  declarations: [TpCountdownComponent]\r\n})\r\n\r\nexport class TpCountdownModule {}\r\nexport { TpCountdownComponent, TpCountDownCode, TpCountDownInfos, TpCountDownTips} from './TpCountdownComponent';\r\n","import { Component, Input, SimpleChanges } from '@angular/core';\r\n// tslint:disable-next-line: no-implicit-dependencies\r\nimport { TiBaseComponent, TiLocale } from '@cloud/tiny3';\r\n\r\nimport { TpDatePipe } from '../../pipes/locale/TpDatePipe';\r\n\r\nimport { TpCountCode, TpCountDownStateLevel, TpCountInfos, TpCountTips } from './TpCountComponent';\r\n\r\n/**\r\n * 表格倒计时组件\r\n *\r\n * <example-url>../tinyplus3demo/#/count/count-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-count-time',\r\n    templateUrl: './count-time.html',\r\n    styleUrls: ['./count-time.less'],\r\n    host: {\r\n        // 标记 tp-count-time 是单独使用还是在tp-count中和tp-count-state一起使用\r\n        '[class.tp-count-time-only]': 'pattern === \"only\" '\r\n    }\r\n})\r\nexport class TpCountTimeComponent extends TiBaseComponent {\r\n    /**\r\n     * 倒计时类别，即倒计时countDownCode字段\r\n     */\r\n    @Input() countDownCode: TpCountCode;\r\n    /**\r\n     * 倒计时数据, 和2.21云服务倒计时信息查询接口返回的countDownInfos一致\r\n     */\r\n    @Input() countDownInfos: TpCountInfos;\r\n    /**\r\n     * tip提示数据，和2.21云服务倒计时信息查询接口返回的TpCountDownTips一致\r\n     */\r\n    @Input() countDownTips: TpCountTips;\r\n    /**\r\n     * @ignore\r\n     * 内部使用，only 单独使用，combine 和tp-count-state 一起使用\r\n     */\r\n    @Input() pattern: 'only' | 'combine' = 'only';\r\n\r\n    /**\r\n     * @ignore\r\n     * 倒计时最后显示的文本\r\n     */\r\n    public countdownText: string = '';\r\n    /**\r\n     * @ignore\r\n     * 文字提示的颜色等级\r\n     */\r\n    public stateLevel: TpCountDownStateLevel;\r\n    /**\r\n     * @ignore\r\n     * tip 的内容\r\n     */\r\n    public tipContext: any = [];\r\n    /**\r\n     * @ignore\r\n     * tip 的最大宽度\r\n     */\r\n    public tipMaxWidth: string = '500px';\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        // 生成倒计时内容\r\n        this.generateContent();\r\n        // 生成tip内容\r\n        if (this.showTip()) {\r\n            this.generateTipContent();\r\n        }\r\n    }\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        super.ngOnChanges(changes);\r\n        // 倒计时内容跟countDownCode和countDownInfos有关\r\n        // 倒计时的颜色提示类别跟countDownCode和countDownInfos有关\r\n        // 倒计时tip提示内容跟 countDownCode和countDownTips有关\r\n        if (changes['countDownCode'] && !changes['countDownCode'].firstChange) {\r\n            this.generateContent();\r\n            this.updateStateLevel();\r\n            this.generateTipContent();\r\n\r\n            return;\r\n        }\r\n        if (changes['countDownInfos'] && !changes['countDownInfos'].firstChange) {\r\n            this.generateContent();\r\n            this.updateStateLevel();\r\n        }\r\n        if (changes['countDownTips'] && !changes['countDownTips'].firstChange) {\r\n            this.generateTipContent();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 是否需要tip\r\n     */\r\n    public showTip(): boolean {\r\n        // tp-count-time 单独使用且资源倒计时不是按需使用状态\r\n        return this.countDownTips && this.countDownCode !== 'hws_countdown_ondemand_using';\r\n    }\r\n\r\n    /**\r\n     * 生成倒计时内容\r\n     */\r\n    private generateContent(): void {\r\n        // 时间间隔\r\n        let timespan: string = '';\r\n        // 时间信息\r\n        let hourInfo: string = '';\r\n        let minuteInfo: string = '';\r\n        //  根据返回时间拼接出时间间隔  {d} 天数 {h} 小时数 {m} 分钟数\r\n        if (this.countDownInfos) {\r\n            if (this.countDownInfos.nextOperationRemainingDay) {\r\n                timespan = this.countDownInfos.nextOperationRemainingDay > 1 ?\r\n                    TiLocale.getLocaleWords().tpCountdown.day\r\n                        .replace(/{d}/, this.countDownInfos.nextOperationRemainingDay) :\r\n                    TiLocale.getLocaleWords().tpCountdown.day\r\n                        .replace(/s/, '')\r\n                        .replace(/{d}/, this.countDownInfos.nextOperationRemainingDay);\r\n            } else if (this.countDownInfos.nextOperationRemainingHour) {\r\n                hourInfo = this.countDownInfos.nextOperationRemainingHour > 1 ?\r\n                    TiLocale.getLocaleWords().tpCountdown.hour\r\n                        .replace(/{h}/, this.countDownInfos.nextOperationRemainingHour) :\r\n                    TiLocale.getLocaleWords().tpCountdown.hour\r\n                        .replace(/s/, '')\r\n                        .replace(/{h}/, this.countDownInfos.nextOperationRemainingHour);\r\n\r\n                minuteInfo = this.countDownInfos.nextOperationRemainingMinute > 1 ?\r\n                    TiLocale.getLocaleWords().tpCountdown.minute\r\n                        .replace(/{m}/, this.countDownInfos.nextOperationRemainingMinute) :\r\n                    TiLocale.getLocaleWords().tpCountdown.minute\r\n                        .replace(/s/, '')\r\n                        .replace(/{m}/, this.countDownInfos.nextOperationRemainingMinute);\r\n\r\n                timespan = `${hourInfo} ${minuteInfo}`;\r\n            } else if (this.countDownInfos.nextOperationRemainingMinute) {\r\n                timespan = this.countDownInfos.nextOperationRemainingMinute > 1 ?\r\n                    TiLocale.getLocaleWords().tpCountdown.minute\r\n                        .replace(/{m}/, this.countDownInfos.nextOperationRemainingMinute) :\r\n                    TiLocale.getLocaleWords().tpCountdown.minute\r\n                        .replace(/s/, '')\r\n                        .replace(/{m}/, this.countDownInfos.nextOperationRemainingMinute);\r\n            } else if (this.countDownInfos.nextOperationRemainingSecond) {\r\n                timespan = TiLocale.getLocaleWords().tpCountdown.second;\r\n            }\r\n        }\r\n\r\n        // 根据状态码，得到倒计时整体字符串。 {TS} 时间间隔\r\n        const statusKey: string = this.countDownCode ? this.countDownCode.slice(14) : '';\r\n        if (TiLocale.getLocaleWords().tpCount[statusKey]) {\r\n            this.countdownText = TiLocale.getLocaleWords().tpCount[statusKey]\r\n                .replace(/{TS}/, timespan);\r\n        }\r\n\r\n        // 如果是按需正常使用，没有倒计时，只提示创建时间，单独处理 {ymdhms} 是 格式为yyyy/mm/dd  hh:mm:ss 日期时间\r\n        if (this.countDownCode === 'hws_countdown_ondemand_using') {\r\n            // tslint:disable-next-line: max-line-length\r\n            this.countdownText = this.countdownText.replace(/{ymdhms}/, new TpDatePipe().transform(this.countDownInfos.createTime, 'dateTimeZone'));\r\n        }\r\n\r\n        // 更新样式提示\r\n        this.updateStateLevel();\r\n    }\r\n    private updateStateLevel(): void {\r\n        // 添加样式类 宽限期，冻结期，违规冻结 提示红色，正常使用，如果小于七天，提示黄色\r\n        if (this.countDownInfos.status > 2) {\r\n            this.stateLevel = 'alarm';\r\n        } else if ((this.countDownCode === 'hws_countdown_period_using' || this.countDownCode === 'hws_countdown_period_toondemand')\r\n            && this.isDayLess7()) {\r\n            this.stateLevel = 'warn';\r\n        }\r\n    }\r\n\r\n    // 倒计时是否小于七天\r\n    private isDayLess7(): boolean {\r\n        return !(this.countDownInfos.nextOperationRemainingDay && this.countDownInfos.nextOperationRemainingDay > 7);\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 生成tips 内容\r\n     */\r\n    public generateTipContent(): void {\r\n        // 当tp-count-time 作为 tp-count 子元素时不传countDownTips\r\n        if (!this.countDownTips) {\r\n            return;\r\n        }\r\n        this.tipContext = [];\r\n        switch (this.countDownCode) {\r\n            case 'hws_countdown_period_using':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.create_time}`,\r\n                    time: `${this.countDownTips.effTime}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: ` ${TiLocale.getLocaleWords().tpCountdown.expire_time} `,\r\n                    time: `${this.countDownTips.expTime}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_period_gracing':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.expire_time}`,\r\n                    time: `${this.countDownTips.expTime}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time} `,\r\n                    time: `${this.countDownTips.graceTime}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_period_frozen':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time}`,\r\n                    time: `${this.countDownTips.frozenTime}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.release_time}`,\r\n                    time: `${this.countDownTips.releaseTime}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_period_illegalfrozen':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time} `,\r\n                    time: `${this.countDownTips.frozenTime}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.release_time}`,\r\n                    time: `${this.countDownTips.releaseTime}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_period_policefrozen':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time} `,\r\n                    time: `${this.countDownTips.frozenTime}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_period_toondemand':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.create_time}`,\r\n                    time: `${this.countDownTips.effTime}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.toonneed_time}`,\r\n                    time: `${this.countDownTips.expTime}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_ondemand_using':\r\n                // 按需正在使用不添加tip\r\n                break;\r\n            case 'hws_countdown_ondemand_gracing':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.arrears_time}`,\r\n                    time: `${this.countDownTips.expTime}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time}`,\r\n                    time: `${this.countDownTips.graceTime}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_ondemand_frozen':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time}`,\r\n                    time: `${this.countDownTips.frozenTime}`\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.release_time} `,\r\n                    time: `${this.countDownTips.releaseTime}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_ondemand_illegalfrozen':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time}`,\r\n                    time: `${this.countDownTips.frozenTime}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_ondemand_illegalfrozen_arrear':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time}`,\r\n                    time: ` ${this.countDownTips.frozenTime} `\r\n                });\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.release_time}`,\r\n                    time: `${this.countDownTips.releaseTime}`\r\n                });\r\n                break;\r\n            case 'hws_countdown_ondemand_policefrozen':\r\n                this.tipContext.push({\r\n                    title: `${TiLocale.getLocaleWords().tpCountdown.frozen_time}`,\r\n                    time: `${this.countDownTips.frozenTime}`\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n}\r\n","// tslint:disable-next-line: no-implicit-dependencies\r\nimport { Component, ElementRef, Input, Renderer2, SimpleChanges, TemplateRef, ViewChild } from '@angular/core';\r\n// tslint:disable-next-line: no-implicit-dependencies\r\nimport { TiLocale, TiTipRef, TiTipService, TiTipShowInfo } from '@cloud/tiny3';\r\n\r\nimport { TpCountTimeComponent } from './TpCountTimeComponent';\r\n\r\n/**\r\n * 倒计时类别, 详情参考“云运营公共接口说明”文档，2.21云服务倒计时信息查询\r\n */\r\nexport type TpCountCode = 'hws_countdown_period_using'\r\n    | 'hws_countdown_period_gracing'\r\n    | 'hws_countdown_period_frozen'\r\n    | 'hws_countdown_period_illegalfrozen'\r\n    | 'hws_countdown_period_policefrozen'\r\n    | 'hws_countdown_period_toondemand'\r\n    | 'hws_countdown_ondemand_using'\r\n    | 'hws_countdown_ondemand_gracing'\r\n    | 'hws_countdown_ondemand_frozen'\r\n    | 'hws_countdown_ondemand_illegalfrozen'\r\n    | 'hws_countdown_ondemand_illegalfrozen_arrear'\r\n    | 'hws_countdown_ondemand_policefrozen';\r\n\r\n/**\r\n * @ignore\r\n * 倒计时不同阶段对应的颜色提示类别\r\n */\r\nexport type TpCountDownStateLevel = 'normal' | 'warn' | 'alarm';\r\n\r\n/**\r\n * 倒计时信息，即countDownInfos对象类型,\r\n * 接口是根据\"云运营公共接口说明\"文档 2.21云服务倒计时信息查询接口返回数据设置，详情参考接口\r\n */\r\nexport interface TpCountInfos {\r\n    /**\r\n     * 资源的当前的状态,1：未生效（开通中，资源还未使用）2：生效中（未到期，可正常使用资源）\r\n     */\r\n    status: number;\r\n    /**\r\n     * 当前状态到下一步操作执行，还剩下的天数（XX>=24小时）\r\n     */\r\n    nextOperationRemainingDay?: number;\r\n    /**\r\n     * 当前状态到下一步操作执行，还剩下的小时数（24小时>XX>=1小时）\r\n     */\r\n    nextOperationRemainingHour?: number;\r\n    /**\r\n     * 当前状态到下一步操作执行，还剩下的分钟数（60分钟>XX>=1分钟）\r\n     */\r\n    nextOperationRemainingMinute?: number;\r\n    /**\r\n     * 当前状态到下一步操作执行，还剩下的秒数（60秒>XX）\r\n     *\r\n     */\r\n    nextOperationRemainingSecond?: number;\r\n    /**\r\n     * 资源创建时间\r\n     */\r\n    createTime?: string;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n * 倒计时信息提示信息，接口是根据\"云运营公共接口说明\"文档 2.21云服务倒计时信息查询接口返回数据设置，详情参考接口\r\n */\r\nexport interface TpCountTips {\r\n    /**\r\n     * 资源生效时间（即资源创建时间）\r\n     */\r\n    effTime?: string;\r\n    /**\r\n     * 资源到期时间，如果已经欠费，则为资源欠费时间。\r\n     */\r\n    expTime?: string;\r\n    /**\r\n     * 宽限期结束时间\r\n     */\r\n    graceTime?: string;\r\n    /**\r\n     * 资源释放时间\r\n     */\r\n    releaseTime?: string;\r\n    /**\r\n     * 资源冻结时间\r\n     */\r\n    frozenTime?: string;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n *  计费模式\r\n *  period-包周期，ondemand-按需\r\n */\r\nexport type TpCountChargingMode = 'period' | 'ondemand';\r\n\r\n/**\r\n * @ignore\r\n * 1行tip内容，内部使用\r\n */\r\nexport interface TpCountTipItem {\r\n    // 标题\r\n    title: string;\r\n    // 日期时间字符串\r\n    time: string;\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n * 表格倒计时组件\r\n *\r\n * tp-countdown 组件升级版，countdown组件的接口和功能保留，添加计费模式和资源状态\r\n *\r\n * 10.0.1 新增\r\n *\r\n * <example-url>../tinyplus3demo/#/count/count-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-count',\r\n    templateUrl: './count.html',\r\n    styleUrls: ['./count.less']\r\n})\r\nexport class TpCountComponent extends TpCountTimeComponent {\r\n    /**\r\n     * 计费模式\r\n     */\r\n    @Input() type: TpCountChargingMode = 'period';\r\n\r\n    /**\r\n     * @ignore\r\n     * 资源状态和倒计时的父容器，为添加tip\r\n     */\r\n    @ViewChild('stateTime', { static: false }) stateTimeRef: ElementRef;\r\n    /**\r\n     * @ignore\r\n     * 倒计时组件\r\n     */\r\n    @ViewChild(TpCountTimeComponent) countTimeCom: TpCountTimeComponent;\r\n    /**\r\n     * @ignore\r\n     * tip内容模板\r\n     */\r\n    @ViewChild('tipContent') tipContentTemplate: TemplateRef<any>;\r\n    /**\r\n     * @ignore\r\n     * tip实例\r\n     */\r\n    private tipInstance: TiTipRef;\r\n    /**\r\n     * @ignore\r\n     * tip 的内容\r\n     */\r\n    public tipContext: Array<TpCountTipItem> = [];\r\n\r\n    constructor(private element: ElementRef, private renderer2: Renderer2, private tipService: TiTipService) {\r\n        super(element, renderer2);\r\n    }\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngAfterViewInit(): void {\r\n        super.ngAfterViewInit();\r\n        if (this.showTip()) {\r\n            this.generateTipContent();\r\n            this.addTip();\r\n        }\r\n    }\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        super.ngOnChanges(changes);\r\n        // 倒计时tip提示内容跟 countDownCode和countDownTips有关\r\n        // 此处是资源状态和倒计时整体添加tip\r\n        if ((changes['countDownCode'] && !changes['countDownCode'].firstChange) ||\r\n            (changes['countDownTips'] && !changes['countDownTips'].firstChange)) {\r\n            // 按需正在使用阶段没有tip实例，处理按需正在使用变化成按需宽限期场景报错\r\n            if (this.tipInstance) {\r\n                this.tipInstance.destroy();\r\n            }\r\n            if (this.showTip()) {\r\n                // 按需正在使用阶段到按需宽限期，模板的ng-if 条件改变导致stateTimeRef是否存在也改变\r\n                // stateTimeRef无法立刻获取到\r\n                setTimeout((): void => {\r\n                    this.addTip();\r\n                }, 0);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     *\r\n     */\r\n    public showState(): boolean {\r\n        return !(this.countDownCode === 'hws_countdown_period_using' ||\r\n            this.countDownCode === 'hws_countdown_period_toondemand' ||\r\n            this.countDownCode === 'hws_countdown_ondemand_using');\r\n    }\r\n\r\n    private addTip(): void {\r\n        //  按需正在使用时因为显示内容和tip内容相同，所有不需要tip\r\n        if (Array.isArray(this.tipContext) && this.tipContext.length > 0\r\n            && this.countDownCode !== 'hws_countdown_ondemand_using' && this.stateTimeRef) {\r\n            this.tipInstance = this.tipService.create(this.stateTimeRef.nativeElement, {\r\n                trigger: 'mouse',\r\n                maxWidth: this.tipMaxWidth,\r\n                showFn: (): TiTipShowInfo => {\r\n                    return {\r\n                        content: this.tipContentTemplate\r\n                    };\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n","// tslint:disable-next-line: no-implicit-dependencies\r\nimport { Component, Input, SimpleChanges } from '@angular/core';\r\n// tslint:disable-next-line: no-implicit-dependencies\r\nimport { TiBaseComponent, TiLocale } from '@cloud/tiny3';\r\n\r\nimport { TpCountCode, TpCountDownStateLevel, TpCountInfos } from './TpCountComponent';\r\n\r\n/**\r\n * 表格倒计时组件\r\n *\r\n * <example-url>../tinyplus3demo/#/count/count-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-count-state',\r\n    template: `\r\n         {{ state }}{{ pattern === 'combine'? spliter:'' }}\r\n      `,\r\n    host: {\r\n        '[class.tp-count-alarm]': 'stateLevel === \"alarm\"',\r\n        '[class.tp-count-warn]': 'stateLevel === \"warn\"'\r\n    }\r\n})\r\nexport class TpCountStateComponent extends TiBaseComponent {\r\n    /**\r\n     * 倒计时类别，即倒计时countDownCode字段\r\n     */\r\n    @Input() countDownCode: TpCountCode;\r\n    /**\r\n     * 倒计时数据, 和2.21云服务倒计时信息查询接口返回的countDownInfos一致\r\n     */\r\n    @Input() countDownInfos: TpCountInfos;\r\n    /**\r\n     * @ignore\r\n     * 是单独使用，还是和tp-count-time一起使用，单独使用没有逗号，一起使用有逗号\r\n     */\r\n    @Input() pattern: 'only' | 'combine' = 'only';\r\n    /**\r\n     * @ignore\r\n     * 资源状态描述文字\r\n     */\r\n    public state: string = '';\r\n    /**\r\n     * @ignore\r\n     * 文字提示的颜色等级\r\n     */\r\n    public stateLevel: TpCountDownStateLevel;\r\n    /**\r\n     * @ignore\r\n     * 分割号，分隔号放在资源状态中，主要解决资源状态和倒计时一起使用，文字中间有空间。\r\n     */\r\n    public spliter: string = '';\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.updateState();\r\n    }\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        super.ngOnChanges(changes);\r\n        // 类型更新或倒计时更新，需要更新一下资源状态\r\n        if ((changes['countDownCode'] && !changes['countDownCode'].firstChange)\r\n            || (changes['countDownInfos'] && !changes['countDownInfos'].firstChange)) {\r\n            this.updateState();\r\n        }\r\n    }\r\n    // 更新状态文字和文字颜色类别\r\n    private updateState(): void {\r\n        switch (this.countDownCode) {\r\n            case 'hws_countdown_period_using':\r\n                this.state = TiLocale.getLocaleWords().tpCount.using;\r\n                // 包周期，资源倒计时小于7天时文字颜色区别显示\r\n                this.stateLevel = this.isDayLess7() ? 'warn' : 'normal';\r\n                break;\r\n            case 'hws_countdown_period_gracing':\r\n                this.state = TiLocale.getLocaleWords().tpCount.overdue;\r\n                // 此种倒计时需要分隔号\r\n                this.spliter = TiLocale.getLocaleWords().tpCountdown.spliter;\r\n                this.stateLevel = 'alarm';\r\n                break;\r\n            case 'hws_countdown_period_frozen':\r\n                this.state = TiLocale.getLocaleWords().tpCount.frozened;\r\n                // 此种倒计时需要分隔号\r\n                this.spliter = TiLocale.getLocaleWords().tpCountdown.spliter;\r\n                this.stateLevel = 'alarm';\r\n                break;\r\n            case 'hws_countdown_period_illegalfrozen':\r\n                this.state = TiLocale.getLocaleWords().tpCount.illegalFrozened;\r\n                // 此种倒计时需要分隔号\r\n                this.spliter = TiLocale.getLocaleWords().tpCountdown.spliter;\r\n                this.stateLevel = 'alarm';\r\n                break;\r\n            case 'hws_countdown_period_policefrozen':\r\n                this.state = TiLocale.getLocaleWords().tpCount.illegalFrozened;\r\n                this.stateLevel = 'alarm';\r\n                break;\r\n            case 'hws_countdown_period_toondemand':\r\n                this.state = TiLocale.getLocaleWords().tpCount.using;\r\n                this.stateLevel = 'warn';\r\n                break;\r\n            case 'hws_countdown_ondemand_using':\r\n                this.state = TiLocale.getLocaleWords().tpCount.using;\r\n                this.stateLevel = 'normal';\r\n                break;\r\n            case 'hws_countdown_ondemand_gracing':\r\n                this.state = TiLocale.getLocaleWords().tpCount.arrear;\r\n                this.stateLevel = 'alarm';\r\n                this.spliter = TiLocale.getLocaleWords().tpCountdown.spliter;\r\n                break;\r\n            case 'hws_countdown_ondemand_frozen':\r\n                this.state = TiLocale.getLocaleWords().tpCount.frozened;\r\n                // 此种倒计时需要分隔号\r\n                this.spliter = TiLocale.getLocaleWords().tpCountdown.spliter;\r\n                this.stateLevel = 'alarm';\r\n                break;\r\n            case 'hws_countdown_ondemand_illegalfrozen':\r\n                this.state = TiLocale.getLocaleWords().tpCount.illegalFrozened;\r\n                this.stateLevel = 'alarm';\r\n                break;\r\n            case 'hws_countdown_ondemand_illegalfrozen_arrear':\r\n                this.state = TiLocale.getLocaleWords().tpCount.illegalFrozened;\r\n                // 此种倒计时需要分隔号\r\n                this.spliter = TiLocale.getLocaleWords().tpCountdown.spliter;\r\n                this.stateLevel = 'alarm';\r\n                break;\r\n            case 'hws_countdown_ondemand_policefrozen':\r\n                this.state = TiLocale.getLocaleWords().tpCount.illegalFrozened;\r\n                this.stateLevel = 'alarm';\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    // 倒计时是否小于七天\r\n    private isDayLess7(): boolean {\r\n        return !(this.countDownInfos.nextOperationRemainingDay && this.countDownInfos.nextOperationRemainingDay > 7);\r\n    }\r\n}\r\n","// tslint:disable-next-line: no-implicit-dependencies\r\nimport { Component, Input, SimpleChanges } from '@angular/core';\r\n// tslint:disable-next-line: no-implicit-dependencies\r\nimport { TiBaseComponent, TiLocale } from '@cloud/tiny3';\r\nimport { TpCountChargingMode } from './TpCountComponent';\r\n\r\n/**\r\n * 表格倒计时组件\r\n *\r\n * <example-url>../tinyplus3demo/#/count/count-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-count-pattern',\r\n    template: `\r\n      {{ text }}\r\n    `\r\n})\r\nexport class TpCountPatternComponent extends TiBaseComponent {\r\n    /**\r\n     * 计费模式\r\n     */\r\n    @Input() type: TpCountChargingMode = 'period';\r\n\r\n    /**\r\n     * @ignore\r\n     * 计费模式显示文本\r\n     */\r\n    public text: string;\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n\r\n        this.updateText();\r\n    }\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        super.ngOnChanges(changes);\r\n\r\n        if (changes['type'] && !changes['type'].firstChange) {\r\n            this.updateText();\r\n        }\r\n    }\r\n\r\n    private updateText(): void {\r\n        this.text = this.type === 'period' ?\r\n            TiLocale.getLocaleWords().tpCount.periodCharging : TiLocale.getLocaleWords().tpCount.ondemandCharging;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TiLocaleModule, TiOverflowModule, TiTipModule } from '@cloud/tiny3';\r\n\r\nimport { TpLocaleModule } from '../../pipes/locale/TpLocaleModule';\r\n\r\nimport { TpCountComponent } from './TpCountComponent';\r\nimport { TpCountTimeComponent } from './TpCountTimeComponent';\r\nimport { TpCountStateComponent } from './TpCountStateComponent';\r\nimport { TpCountPatternComponent } from './TpCountPatternComponent';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        TiTipModule,\r\n        TpLocaleModule,\r\n        TiOverflowModule,\r\n        TiLocaleModule\r\n    ],\r\n    exports: [TpCountComponent, TpCountTimeComponent, TpCountStateComponent, TpCountPatternComponent],\r\n    declarations: [TpCountComponent, TpCountTimeComponent, TpCountStateComponent, TpCountPatternComponent]\r\n})\r\nexport class TpCountModule { }\r\nexport { TpCountComponent, TpCountCode, TpCountInfos, TpCountTips, TpCountChargingMode } from './TpCountComponent';\r\nexport { TpCountPatternComponent } from './TpCountPatternComponent';\r\nexport { TpCountStateComponent } from './TpCountStateComponent';\r\nexport { TpCountTimeComponent } from './TpCountTimeComponent';\r\n","import { Component, Input } from '@angular/core';\r\nimport { TiBaseComponent, TiLocale } from '@cloud/tiny3';\r\nimport { TpCountDownCode, TpCountDownInfos } from '../countdown/TpCountdownModule';\r\n\r\n/**\r\n * 倒计时提示组件\r\n *\r\n * <example-url>../tinyplus3demo/#/countdownalert/countdownalert-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-countdownalert',\r\n    templateUrl: './countdownalert.html',\r\n    styleUrls: ['./countdownalert.less']\r\n})\r\n\r\nexport class TpCountdownalertComponent extends TiBaseComponent {\r\n    /**\r\n     * 告警类型， 默认为error\r\n     */\r\n    @Input() type: 'success' | 'error' | 'warn' | 'prompt' = 'error';\r\n    /**\r\n     * 是否显示左侧提示类型图标\r\n     */\r\n    @Input() typeIcon: boolean = true;\r\n    /**\r\n     * 是否显示关闭按钮\r\n     */\r\n    @Input() closeIcon: boolean = true;\r\n    /**\r\n     * 是否显示countdownalert\r\n     */\r\n    @Input() open: boolean = false;\r\n    /**\r\n     * 显示多长时间后消失，默认不延迟消失，只在点击关闭按钮时消失\r\n     */\r\n    @Input() dismissOnTimeout: number;\r\n    /**\r\n     * 是否触发下拉类组件消失的事件，适用于countdownalert的呈现状态影响页面下拉类组件位置的场景\r\n     */\r\n    @Input() triggerScroll: boolean = false;\r\n    /**\r\n     * 自定义告警内容\r\n     */\r\n    @Input() label: string;\r\n    /**\r\n     * 倒计时时间信息（未配置label时需要定义）\r\n     */\r\n    @Input() infos: TpCountDownInfos;\r\n    /**\r\n     * 资源状态（未配置label时需要定义）\r\n     */\r\n    @Input() status:  TpCountDownCode;\r\n    /**\r\n     * 资源名称\r\n     */\r\n    @Input() resource: string;\r\n    /**\r\n     * 链接地址\r\n     *\r\n     * 包周期为续费时（status = hws_countdown_period_gracing | hws_countdown_period_frozen），服务需要传自定义续费链接；\r\n     */\r\n    @Input() linkHref: string;\r\n    /**\r\n     * 自定义客服联系电话号码\r\n     * 10.1.2 版本新增\r\n     */\r\n    @Input() phoneNumber: string;\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public innerLabel: string = '';\r\n    /**\r\n     * @ignore\r\n     */\r\n    public showBuyLink: boolean;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public linkText: string;\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        if (this.label) { return; }\r\n        // 处理label\r\n        const localeWords: any = TiLocale.getLocaleWords().tpCountdownalert;\r\n        let timespan: string = '';\r\n        if (this.infos) {\r\n            timespan = this.getTimespan(this.infos, localeWords);\r\n        }\r\n\r\n        if (this.status) {\r\n            const statusKey: string = this.status ? this.status.slice(14) : '';\r\n            if (Object.keys(localeWords).indexOf(statusKey) >= 0) {\r\n                this.innerLabel = localeWords[statusKey].replace(/{TS}/, String(timespan))\r\n                    .replace(/{RN}/, this.resource || '');\r\n            } else {\r\n                // 状态正常，不需要显示alert\r\n                this.open = false;\r\n            }\r\n        }\r\n\r\n        // 处理充值续费链接：包周期为续费，服务需要传自定义链接；按需为充值，充值为固定链接\r\n        if (this.status === 'hws_countdown_period_gracing' || this.status === 'hws_countdown_period_frozen') {\r\n            this.showBuyLink = true;\r\n            this.linkText = localeWords.renew;\r\n        } else if (this.status === 'hws_countdown_ondemand_gracing' || this.status === 'hws_countdown_ondemand_frozen') {\r\n            this.showBuyLink = true;\r\n            this.linkText = localeWords.recharge;\r\n            this.linkHref = 'https://account.huaweicloud.com/usercenter/#/userindex/balanceRecharge';\r\n        }\r\n\r\n        // 国际站 联系方式处理\r\n        const intlContactPath: string = '/ticket/?#/ticketindex/createfeedback'; // 国际站联系客服路径\r\n        const url: string = `${window.location.protocol}//${window.location.host}${intlContactPath}`;\r\n        this.innerLabel = this.innerLabel.replace(\r\n            /{contactLink}/,\r\n            `<a class=\"tp-countdownalert-link\" target=\"_blank\" rel=\"noopener noreferrer\"  href=\"${url}\">${localeWords.contact_customer_service}</a>`);\r\n\r\n        // 自定义客服联系电话号码处理\r\n        this.innerLabel = this.innerLabel.replace(/{phoneNumber}/, this.phoneNumber || localeWords.phoneNumber);\r\n    }\r\n\r\n    private getTimespan(infos: TpCountDownInfos, localeWords: any): string {\r\n        // tslint:disable-next-line: typedef\r\n        const { day, hour, minute, second } = localeWords;\r\n        if (infos.nextOperationRemainingDay) {\r\n            return day.replace(/{d}/, infos.nextOperationRemainingDay);\r\n        } else if (infos.nextOperationRemainingHour) {\r\n            return hour.replace(/{h}/, infos.nextOperationRemainingHour)\r\n                .replace(/{m}/, infos.nextOperationRemainingMinute);\r\n        } else if (infos.nextOperationRemainingMinute) {\r\n            return minute.replace(/{m}/, infos.nextOperationRemainingMinute);\r\n        } else if (infos.nextOperationRemainingSecond) {\r\n            return second;\r\n        }\r\n\r\n        return '';\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TiAlertModule, TiLocaleModule } from '@cloud/tiny3';\r\nimport { TpCountdownalertComponent } from './TpCountdownalertComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiAlertModule,\r\n    TiLocaleModule\r\n  ],\r\n  exports: [TpCountdownalertComponent],\r\n  declarations: [TpCountdownalertComponent]\r\n})\r\n\r\nexport class TpCountdownalertModule {}\r\nexport { TpCountdownalertComponent } from './TpCountdownalertComponent';\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { Params } from '@angular/router';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n\r\nexport interface TpLink {\r\n    /* tslint:disable:no-redundant-jsdoc */\r\n    /**\r\n     * 设置链接文本内容;\r\n     */\r\n    label?: string;\r\n    /**\r\n     * 设置链接地址;\r\n     */\r\n    href?: string;\r\n    /**\r\n     * 设置链接打开方式\r\n     * @default '_self'\r\n     */\r\n    target?: '_self' | '_blank' | '_parent' | '_top';\r\n    /**\r\n     * 跳转路由\r\n     * 10.0.4 新增\r\n     */\r\n    routerLink?: string | Array<any>;\r\n    /**\r\n     * 跳转路由参数\r\n     * 10.1.0 新增\r\n     */\r\n    queryParams?: Params\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n *  crumb面包屑组件\r\n *\r\n * 面包屑组件除最后一级外，其余几级一般都为可跳转的链接，链接地址可以通过href属性设置;\r\n * 用户也可通过添加事件，实现业务逻辑。\r\n *\r\n * <example-url>../tinyplus3demo/#/crumb/crumb-all</example-url>\r\n */\r\n\r\n@Component({\r\n    selector: 'tp-crumb',\r\n    templateUrl: './crumb.html',\r\n    styleUrls: ['./crumb.less']\r\n})\r\n\r\nexport class TpCrumbComponent extends TiBaseComponent {\r\n    /**\r\n     * 组件数据\r\n     */\r\n    @Input() items: Array<TpLink>;\r\n    /**\r\n     * 用户设置href属性且不是最后一级时，触发事件\r\n     */\r\n    @Output() readonly select: EventEmitter<TpLink> = new EventEmitter<TpLink>();\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClick(item: TpLink): boolean {\r\n        this.select.emit(item);\r\n        // 不设置链接时，阻止跳转（a标签在click事件返回值为false时，会阻止默认行为）\r\n        if (!item.href) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TiOverflowModule } from '@cloud/tiny3';\r\n\r\nimport { TpCrumbComponent } from './TpCrumbComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    TiOverflowModule\r\n  ],\r\n  exports: [TpCrumbComponent],\r\n  declarations: [TpCrumbComponent]\r\n})\r\n\r\nexport class TpCrumbModule {}\r\nexport { TpCrumbComponent, TpLink } from './TpCrumbComponent';\r\n","import { Component, Input, TemplateRef } from '@angular/core';\r\nimport { TiBaseComponent, TiPositionType } from '@cloud/tiny3';\r\n\r\n/**\r\n * 描述及购买组件，用于解释说明服务，并提供了购买等操作按钮\r\n *\r\n * <example-url>../tinyplus3demo/#/descandbuy/descandbuy-all</example-url>\r\n */\r\n\r\nexport interface TpDescandbuyConfig {\r\n    /**\r\n     * helptip的配置对象\r\n     *\r\n     * 包含label、iconTip、iconTipPosition、iconTipMaxWidth（9.0.4 版本新增）属性，参考[TpHelptip组件]{@link ../components/TpHelptipComponent.html}\r\n     */\r\n    helptip: {\r\n        label?: string;\r\n        iconTip?: string | TemplateRef<any> | any;\r\n        iconTipPosition?: TiPositionType;\r\n        iconTipMaxWidth?: string;\r\n    };\r\n    buttons: Array<Button>;\r\n    /**\r\n     * 价格计算器的配置对象\r\n     *\r\n     * 包含values对象数组、url、detailHref三个属性换和beforeClick()方法，\r\n     * 参考[TpPricecalc组件]{@link ../components/TpPricecalcComponent.html}\r\n     */\r\n    pricecalc?: {\r\n        values?: Array<{\r\n            key: string;\r\n            value: string;\r\n        }>;\r\n        url?: string;\r\n        detailHref?: string;\r\n        beforeClick?(): void;\r\n    };\r\n}\r\n\r\nexport interface Button {\r\n    /**\r\n     * 按钮ID\r\n     */\r\n    id?: string;\r\n    /**\r\n     * 按钮文本\r\n     */\r\n    label: string;\r\n    /**\r\n     * 按钮颜色：默认按钮/强调色按钮/主题色按钮，参考[tiny3Button组件]{@link ../../tiny3doc/components/TiButtonComponent.html}\r\n     */\r\n    color?: string;\r\n    /**\r\n     * tinyPlus图标名称\r\n     */\r\n    iconName?: string;\r\n    /**\r\n     * 按钮禁用 9.0.4版本新增\r\n     */\r\n    disabled?: boolean;\r\n    /**\r\n     * tip内容 9.0.4版本新增\r\n     */\r\n    tip?: string | TemplateRef<any>;\r\n    /**\r\n     * tip方位 9.0.4版本新增\r\n     */\r\n    tipPosition?: TiPositionType;\r\n    /**\r\n     * 按钮是否显示 10.1.3版本新增\r\n     */\r\n    show?: boolean;\r\n    /**\r\n     * 点击事件\r\n     */\r\n    click?(): void;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\n@Component({\r\n    selector: 'tp-descandbuy',\r\n    templateUrl: './descandbuy.html',\r\n    styleUrls: ['./descandbuy.less']\r\n})\r\n\r\nexport class TpDescandbuyComponent extends TiBaseComponent {\r\n    /**\r\n     * 组件的配置对象，详情可以参考TpDescandbuyConfig接口\r\n     */\r\n    @Input() config: TpDescandbuyConfig;\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onButtonClick(button: Button): void {\r\n        if (typeof button.click === 'function') {\r\n            button.click();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onPricecalcClick(): void {\r\n        if (typeof this.config.pricecalc.beforeClick === 'function') {\r\n            this.config.pricecalc.beforeClick();\r\n        }\r\n    }\r\n}\r\n","import { Component, Input, TemplateRef } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n\r\n/**\r\n * 帮助提示组件\r\n *\r\n * 由被提示的文本和一个问号图标构成，鼠标悬浮在图标上可以看到对文本内容的解释说明\r\n *\r\n * <example-url>../tinyplus3demo/#/helptip/helptip-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-helptip',\r\n    templateUrl: './helptip.html',\r\n    styleUrls: ['./helptip.less'],\r\n    // host: {\r\n    //     '[class.tp-helptip-wrapper]': 'true'\r\n    // }\r\n})\r\n\r\nexport class TpHelptipComponent extends TiBaseComponent {\r\n    /**\r\n     * 待解释的的文本内容\r\n     */\r\n    @Input() label: string;\r\n    /**\r\n     * 提示说明文本，可为字符串/ng-template/component\r\n     */\r\n    @Input() iconTip: string | TemplateRef<any> | any;\r\n    /**\r\n     * 提示说明方向\r\n     */\r\n    @Input() iconTipPosition: string;\r\n    /**\r\n     * 提示说明的最大宽度\r\n     *\r\n     * 9.0.4 版本新增\r\n     *\r\n     * @default '276px'\r\n     */\r\n    @Input() iconTipMaxWidth: string;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TpHelptipComponent } from './TpHelptipComponent';\r\n\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\nimport { TiTipModule } from '@cloud/tiny3';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiTipModule,\r\n    TpIconModule\r\n  ],\r\n  exports: [TpHelptipComponent],\r\n  declarations: [TpHelptipComponent]\r\n})\r\n\r\nexport class TpHelptipModule {}\r\nexport { TpHelptipComponent } from './TpHelptipComponent';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TpDescandbuyComponent } from './TpDescandbuyComponent';\r\nimport { TpHelptipModule } from '../helptip/TpHelptipModule';\r\nimport { TpPricecalcModule } from '../pricecalc/TpPricecalcModule';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\nimport { TiButtonModule, TiTipModule } from '@cloud/tiny3';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiButtonModule,\r\n    TiTipModule,\r\n    TpIconModule,\r\n    TpHelptipModule,\r\n    TpPricecalcModule\r\n  ],\r\n  exports: [TpDescandbuyComponent],\r\n  declarations: [TpDescandbuyComponent]\r\n})\r\n\r\nexport class TpDescandbuyModule {}\r\nexport { TpDescandbuyComponent, TpDescandbuyConfig } from './TpDescandbuyComponent';\r\n","import { Component, ElementRef, EventEmitter, Input, Output, Renderer2 } from '@angular/core';\r\nimport { TiBaseComponent, Util, TiKeymap } from '@cloud/tiny3';\r\n/**\r\n * 右侧半屏弹窗组件\r\n *\r\n * 半屏弹窗分为两种，1.不带灰色背景层，点击弹窗外会关闭弹窗；2.带灰色背景层，点击弹窗外不能关闭弹窗。\r\n *\r\n * 两种弹窗都可以通过点击右上角“X”图标或者hide()方法关闭弹窗\r\n *\r\n * 注：第一类弹窗，点击弹窗外关闭的原理是在document上注册点击事件触发`TpHalfmodalComponent.hide()`，如果不想关闭弹窗可以阻止事件冒泡。\r\n *\r\n * <example-url>../tinyplus3demo/#/halfmodal/halfmodal-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-halfmodal',\r\n    templateUrl: './halfmodal.html',\r\n    styleUrls: ['./halfmodal.less'],\r\n    host: {\r\n        '[style.width]': 'width',\r\n        '[style.top]': 'clientRectTop',\r\n        '[style.right]': 'width ? \"-\" + width : \"-600px\"',\r\n        '[hidden]': '!isShow'\r\n    }\r\n})\r\n\r\nexport class TpHalfmodalComponent extends TiBaseComponent {\r\n    constructor(protected elementRef: ElementRef, protected renderer2: Renderer2) {\r\n        super(elementRef, renderer2);\r\n    }\r\n    /**\r\n     * 设置弹窗宽度\r\n     */\r\n    @Input() width: string;\r\n    /**\r\n     * 10.0.2新增\r\n     *\r\n     * 是否含有遮罩层，默认没有遮罩层；\r\n     */\r\n    @Input() backdrop: boolean = false;\r\n    /**\r\n     * 10.1.3新增\r\n     * 弹窗顶部距窗口顶部的距离\r\n     */\r\n    @Input() clientRectTop: string = '50px';\r\n    /**\r\n     * 10.1.3新增\r\n     * 是否显示关闭图标\r\n     */\r\n    @Input() closeIcon: boolean = true;\r\n    /**\r\n     * 10.1.3新增\r\n     * 关闭前的事件接口，如果监听beforeHide，则由业务关闭弹窗\r\n     */\r\n    @Output() readonly beforeHide: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * @ignore\r\n     */\r\n    public isShow: boolean = false;\r\n\r\n    private isWantShow: boolean = false;\r\n\r\n    private unlistenClick: () => void;\r\n    // 背景遮罩层元素\r\n    private backdropEle: Element;\r\n    // 可聚焦元素\r\n    private focusableElementsString: string = `a[href], area[href], input:not([disabled]):not([tabindex=\\'-1\\']),\r\n    button:not([disabled]):not([tabindex=\\'-1\\']),select:not([disabled]):not([tabindex=\\'-1\\']),\r\n    textarea:not([disabled]):not([tabindex=\\'-1\\']),\r\n    iframe, object, embed, *[tabindex]:not([tabindex=\\'-1\\']), *[contenteditable=true]`;\r\n    private unListenDocumentKeydown: () => void;\r\n\r\n    /**\r\n     * @description 向上查找最近的指定祖先元素\r\n     * @param ele 子元素\r\n     * @param parentNode 祖先元素标签名\r\n     * @return 找到的祖先元素或者undefined\r\n     */\r\n    private static findClosest(ele: any, parentNodeName: string): Element | undefined {\r\n        if (ele.nodeName === 'HTML' || Util.isNull(ele.parentNode)) {\r\n            return undefined;\r\n        } else if (ele.parentNode.nodeName === parentNodeName) {\r\n            return ele.parentNode;\r\n        } else {\r\n            return this.findClosest(ele.parentNode, parentNodeName);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 弹窗显示事件\r\n     * @param element 通过事件触发halfModal显示的元素\r\n     *\r\n     * 10.1.3版本前，如果完全是通过JS调用打开半屏弹窗，则不需该参数，点击弹窗外任意位置会关闭弹窗\r\n     * 10.1.3及以上不需要参数\r\n     */\r\n    public show(element?: Element): void {\r\n        this.isShow = true;\r\n        this.isWantShow = true;\r\n        this.renderer2.addClass(this.nativeElement, 'tp-halfmodal-animation');\r\n        if (this.backdrop && !this.backdropEle) {\r\n            this.backdropEle = this.renderer2.createElement('div');\r\n            this.renderer2.addClass(this.backdropEle, 'tp-halfmodal-backdrop');\r\n            this.renderer2.appendChild(document.body, this.backdropEle);\r\n            // 防止多次打开半屏弹窗的时候，事件注册多次。\r\n            if (!this.unListenDocumentKeydown) {\r\n                this.unListenDocumentKeydown = this.renderer2.listen(document, 'keydown', (event: KeyboardEvent): void => {\r\n                    switch (event.which) {\r\n                        case TiKeymap.KEY_TAB: // tab键用于处理在提示框内循环获取焦点\r\n                            this.clickTab(event);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            if (!this.unlistenClick) {\r\n                this.unlistenClick = this.renderer2.listen(document, 'click', ($event: MouseEvent): void => {\r\n                    if (element && element.contains($event.target as Node) || this.isWantShow) {\r\n                        this.isWantShow = false;\r\n\r\n                        return;\r\n                    }\r\n                    if (TpHalfmodalComponent.findClosest($event.target, 'TI-MESSAGE') || TpHalfmodalComponent.findClosest($event.target, 'TI-MODAL-WRAPPER')) {\r\n                        return;\r\n                    }\r\n                    // 判断鼠标是否在弹窗范围内\r\n                    if (document.documentElement.clientWidth - $event.clientX > this.nativeElement.offsetWidth\r\n                        || document.documentElement.clientHeight - $event.clientY > this.nativeElement.offsetHeight) {\r\n                            this.wantHide();\r\n                        }\r\n                });\r\n            }\r\n        }\r\n    }\r\n     private clickTab(event: KeyboardEvent): void {\r\n        const introModal: HTMLElement = document.querySelector('.tp-halfmodal-animation');\r\n        const focusableElements: NodeList = introModal?.querySelectorAll(this.focusableElementsString);\r\n        Util.focusInDialogOnTabchange(event, focusableElements);\r\n     }\r\n    /**\r\n     * @ignore\r\n     * 即将关闭，如果监听beforeHide，则由业务关闭弹窗\r\n     */\r\n    public wantHide(): void {\r\n        if (this.beforeHide.observers.length > 0) {\r\n            this.beforeHide.emit(this);\r\n        } else {\r\n            this.hide();\r\n        }\r\n    }\r\n    /**\r\n     * 10.0.2对外提供\r\n     *\r\n     * 弹窗隐藏事件\r\n     */\r\n    public hide(): void {\r\n        this.hideBackdrop();\r\n\r\n        this.isShow = false;\r\n        if (this.unlistenClick) {\r\n            this.unlistenClick();\r\n            this.unlistenClick = undefined;\r\n        }\r\n    }\r\n\r\n    private hideBackdrop(): void {\r\n        if (this.backdropEle) {\r\n            this.renderer2.removeChild(document.body, this.backdropEle);\r\n            this.backdropEle = undefined;\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.hideBackdrop();\r\n        if (this.unlistenClick) {\r\n            this.unlistenClick();\r\n            this.unlistenClick = undefined;\r\n        }\r\n        if (this.unListenDocumentKeydown) {\r\n            this.unListenDocumentKeydown();\r\n            this.unListenDocumentKeydown = undefined;\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TpHalfmodalComponent } from './TpHalfmodalComponent';\r\nimport { TiOutlineModule } from '@cloud/tiny3';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TpIconModule,\r\n    TiOutlineModule\r\n  ],\r\n  exports: [TpHalfmodalComponent],\r\n  declarations: [TpHalfmodalComponent]\r\n})\r\n\r\nexport class TpHalfmodalModule {}\r\nexport { TpHalfmodalComponent } from './TpHalfmodalComponent';\r\n","import { Component, ElementRef, EventEmitter, Input, Output, Renderer2 } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, ValidationErrors } from '@angular/forms';\r\nimport { TiBaseComponent, TiBrowser, TiLocale, TiValidationConfig, TiValidators, Util } from '@cloud/tiny3';\r\n\r\nimport { CfUtil } from '../../cfutils/CfUtil';\r\n\r\nimport { TpFeedbackOptions, TpQuestionOption } from './TpFeedbackInterface';\r\n\r\n/**\r\n * @ignore\r\n */\r\n@Component({\r\n    selector: 'tp-feedback-content',\r\n    templateUrl: './feedback-content.html',\r\n    styleUrls: ['./feedback-content.less']\r\n})\r\n\r\nexport class TpFeedbackContentComponent extends TiBaseComponent {\r\n    // 类生产测试环境\r\n    private static devConfig: any = {\r\n        backend: 'https://console.ulanqab.huawei.com/nps-api',\r\n        surveyId: 'hwcloudbusurvey_key_fbd25bdbdb87'\r\n    };\r\n    // 现网环境\r\n    private static prodConfig: any = {\r\n        backend: 'https://voc.huaweicloud.com/survey-api',\r\n        surveyId: 'hwcloudbusurvey_key_fbd25bdbdb87'\r\n    };\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public static config: any = TpFeedbackContentComponent.devConfig;\r\n    /**\r\n     * 组件数据\r\n     */\r\n    @Input() options: TpFeedbackOptions;\r\n    /**\r\n     * 10.1.4新增\r\n     * 提交问卷成功后事件\r\n     */\r\n    @Output() readonly submit: EventEmitter<any> = new EventEmitter();\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public showheader: boolean = true;\r\n\r\n    /**\r\n     * @ignore\r\n     * 初始化用来存储答案的数组\r\n     */\r\n    public displayData: any;\r\n\r\n    /**\r\n     * 初始化用来存储答案的数组\r\n     */\r\n    private submitAnswer: Array<any> = [];\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public questions: any;\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public validation: TiValidationConfig;\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public form: FormGroup;\r\n\r\n    private vaildrules: any = {};\r\n\r\n    constructor(protected hostRef: ElementRef, protected renderer2: Renderer2,\r\n                private fb: FormBuilder) {\r\n        super(hostRef, renderer2);\r\n        if (location.hostname.indexOf('huaweicloud.com') > -1) {\r\n            TpFeedbackContentComponent.config = TpFeedbackContentComponent.prodConfig;\r\n        }\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.showQuestions();\r\n    }\r\n\r\n    // 初始化展示题目\r\n    private showQuestions(): void {\r\n        const questionArray: Array<TpQuestionOption> = this.options.customQuestion;\r\n        this.options.customQuestion = Util.isArray(questionArray) ? questionArray : [];\r\n        // 问题的个数必须是3的倍数\r\n        if (questionArray && questionArray.length % 3 !== 0) {\r\n            console.log('自定义题目的格式不符合规范！'); // 供服务查看\r\n            this.showheader = false;\r\n\r\n            return;\r\n        }\r\n\r\n        // 获取Feedback词条\r\n        const tpFeedback: any = TiLocale.getLocaleWords().tpFeedback;\r\n\r\n        // 模板中最终渲染的数据\r\n        this.displayData = {\r\n            title: Util.formatEntry(tpFeedback.title, [this.options.serviceName]),\r\n            startDesc: tpFeedback.title_desc,\r\n            questions: [\r\n                {\r\n                    type: 'radio',\r\n                    show: true,\r\n                    require: true,\r\n                    title: [\r\n                        {\r\n                            title: Util.formatEntry(tpFeedback.question1_title, [this.options.serviceName]),\r\n                            type: 'main'\r\n                        },\r\n                        {\r\n                            title: tpFeedback.question1_title_desc\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    type: 'checkbox',\r\n                    show: false,\r\n                    require: true,\r\n                    title: [\r\n                        {\r\n                            title: tpFeedback.question1_title_unSati\r\n                        }\r\n                    ],\r\n                    hasOtherReason: true,\r\n                    options: [\r\n                        {\r\n                            value: '1',\r\n                            remark: tpFeedback.question_unSati_options1\r\n                        },\r\n                        {\r\n                            value: '2',\r\n                            remark: tpFeedback.question_unSati_options2\r\n                        },\r\n                        {\r\n                            value: '3',\r\n                            remark: tpFeedback.question_unSati_options3\r\n                        },\r\n                        {\r\n                            value: '4',\r\n                            remark: tpFeedback.question_unSati_options4\r\n                        },\r\n                        {\r\n                            value: '5',\r\n                            remark: tpFeedback.question_unSati_options5\r\n                        },\r\n                        {\r\n                            value: '6',\r\n                            remark: tpFeedback.question_unSati_options6\r\n                        },\r\n                        {\r\n                            value: '7',\r\n                            remark: tpFeedback.question_unSati_options7\r\n                        },\r\n                        {\r\n                            value: '8',\r\n                            remark: tpFeedback.question_unSati_options8\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    type: 'checkbox',\r\n                    show: false,\r\n                    require: true,\r\n                    title: [\r\n                        {\r\n                            title: tpFeedback.question1_title_sati\r\n                        }\r\n                    ],\r\n                    hasOtherReason: true,\r\n                    options: [\r\n                        {\r\n                            value: '1',\r\n                            remark: tpFeedback.question_sati_options1\r\n                        },\r\n                        {\r\n                            value: '2',\r\n                            remark: tpFeedback.question_sati_options2\r\n                        },\r\n                        {\r\n                            value: '3',\r\n                            remark: tpFeedback.question_sati_options3\r\n                        },\r\n                        {\r\n                            value: '4',\r\n                            remark: tpFeedback.question_sati_options4\r\n                        },\r\n                        {\r\n                            value: '5',\r\n                            remark: tpFeedback.question_sati_options5\r\n                        },\r\n                        {\r\n                            value: '6',\r\n                            remark: tpFeedback.question_sati_options6\r\n                        },\r\n                        {\r\n                            value: '7',\r\n                            remark: tpFeedback.question_sati_options7\r\n                        },\r\n                        {\r\n                            value: '8',\r\n                            remark: tpFeedback.question_sati_options8\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    type: 'essay',\r\n                    show: true,\r\n                    require: false,\r\n                    title: [\r\n                        {\r\n                            title: Util.formatEntry(TiLocale.getLocaleWords().tpFeedback.questionLast_title, [this.options.serviceName])\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        };\r\n\r\n        // 用户自定义题目\r\n        if (this.options.allQuestion) {\r\n            this.displayData = { ...this.options.allQuestion };\r\n        } else if (this.options.customQuestion.length > 0) {\r\n            const customQuestionCopy: any = { ...this.options.customQuestion };\r\n            const keys: any = Object.keys(customQuestionCopy);\r\n            for (const key of keys) {\r\n                this.displayData.questions.splice(this.displayData.questions.length - 1, 0, customQuestionCopy[key]); // 返回修改后数组\r\n            }\r\n        }\r\n        this.questions = this.displayData.questions;\r\n\r\n        for (let i: number = 0; i < this.questions.length; i++) {\r\n            this.questions[i].questionId = 'question_' + i;\r\n            if (this.questions[i].type === 'checkbox' && this.questions[i].hasOtherReason) {\r\n                this.questions[i].showOtherReason = false;\r\n\r\n                // 为每个otherreason创建表单control\r\n                this.vaildrules[`reasonInput_${i}`] = new FormControl('');\r\n                this.form = this.fb.group(this.vaildrules);\r\n\r\n            }\r\n\r\n            // 存储问题答案\r\n            this.submitAnswer[i] = {\r\n                questionId: this.questions[i].questionId, // 题目Id\r\n                subQuestionId: null, // Nps约束，矩阵题非null\r\n                subName: this.questions[i].title[0].title, // 只存放主标题\r\n                answer: [],\r\n                subRemark: [],\r\n                reason: '0'\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 满意度评分触发事件\r\n     * @param value 选择评分值\r\n     * @param index 题目下标值\r\n     */\r\n    onChangeScore(value: number, index: number): void {\r\n        // 单选的回调函数，每次选择都要清空数组\r\n        this.submitAnswer[index].answer = [];\r\n        this.submitAnswer[index].subRemark = [];\r\n\r\n        // 单选题answer和remark是保持一致的。\r\n        this.submitAnswer[index].answer.push(value);\r\n        this.submitAnswer[index].subRemark.push(value);\r\n\r\n        /**\r\n         * 约束:\r\n         * （1）题目格式：要求的一个母题需要带两个子题的格式\r\n         * （2）题目顺序：母题，第一个子题目（index+1），第二个子题(index+2)\r\n         */\r\n        if (index % 3 === 0) {\r\n            const firstIndex: number = index + 1;\r\n            const secondIndex: number = index + 2;\r\n            const oldFirstShow: boolean = this.questions[firstIndex].show;\r\n            const oldSecondShow: boolean = this.questions[secondIndex].show;\r\n\r\n            this.questions[firstIndex].show = value <= 7 ? true : false;\r\n            this.questions[secondIndex].show = value > 7 ? true : false;\r\n\r\n            /**\r\n             * 多选题目且其它原因输入框显示时，重置对应控件\r\n             * IE下，输入框（titext，titextarea）placeholder为中文时，初始化时表单控件会被标记为dirty，进行校验，\r\n             * 通过markAsPristine方法在输入框显示时，将该表单控件标记为 pristine（原始状态），需进行延迟处理\r\n             * 先在该组件进行处理，后续优化\r\n             */\r\n            if (this.questions[firstIndex].show !== oldFirstShow && this.questions[firstIndex].showOtherReason) {\r\n                if (TiBrowser.isIE()) {\r\n                    setTimeout(() => {\r\n                        this.form.controls[`reasonInput_${firstIndex}`].markAsPristine();\r\n                    }, 0);\r\n                }\r\n                this.form.setControl(`reasonInput_${firstIndex}`, new FormControl('', [TiValidators.required, TiValidators.maxLength(400)]));\r\n            }\r\n\r\n            if (this.questions[secondIndex].show !== oldSecondShow && this.questions[secondIndex].showOtherReason) {\r\n                if (TiBrowser.isIE()) {\r\n                    setTimeout(() => {\r\n                        this.form.controls[`reasonInput_${secondIndex}`].markAsPristine();\r\n                    }, 0);\r\n                }\r\n                this.form.setControl(`reasonInput_${secondIndex}`, new FormControl('', [TiValidators.required, TiValidators.maxLength(400)]));\r\n            }\r\n        }\r\n\r\n        this.questions[index].hasfinshed = true;\r\n\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 选中项超过三项时，其余项不可选中，并设置\"最多选择三项\"的样式。\r\n     */\r\n    onClickItem(event: Event): void {\r\n        // IE下选择选项后触发click事件，会冒泡到父级触发halfmodal点击事件，导致弹窗关闭，此处阻止事件冒泡，防止弹窗关闭\r\n        event.stopPropagation();\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 复选框选中事件，最多选择三项\r\n     * @param item 复选项数据\r\n     * @param question 题目数据\r\n     * @param index 复选项下标\r\n     */\r\n    onChangeCheckbox(item: any, question: any, index: number): void {\r\n        const questionIndex: number = this.getIndexByQuestionId(question.questionId);\r\n        const submitQuestion: any = this.submitAnswer[questionIndex];\r\n\r\n        // 失焦校验，输入不能为空且字符个数最多为400\r\n        this.validation = {\r\n            type: 'blur'\r\n        };\r\n\r\n        if (this.getCheckedNumber(question.options) > 3) {\r\n            question.checkLimit = true;\r\n            /**\r\n             * 此处使用延时处理\r\n             * 原因：在选择第四个选项后，更改checked属性值为false，会再次触发ngModalChange事件，导致再次选择时，该选项会被选中\r\n             */\r\n            setTimeout(() => {\r\n                item.checked = false;\r\n            }, 0);\r\n\r\n            return;\r\n        }\r\n\r\n        question.checkLimit = false;\r\n        // 约束：其它原因是多选项中的最后一项\r\n        if (question.hasOtherReason && index === question.options.length - 1) {\r\n            question.showOtherReason = item.checked;\r\n\r\n            // 其它输入框显示添加校验规则\r\n            if (question.showOtherReason) {\r\n                this.form.setControl(`reasonInput_${questionIndex}`, new FormControl('', [TiValidators.required, TiValidators.maxLength(400)]));\r\n                /**\r\n                 * IE下，输入框（titext，titextarea）placeholder为中文时，初始化时表单控件会被校验，\r\n                 * 通过markAsPristine方法在输入框显示时，将该表单控件标记为 pristine（原始状态），需进行延迟处理\r\n                 * 先在该组件进行处理，后续优化\r\n                 */\r\n                if (TiBrowser.isIE()) {\r\n                    setTimeout(() => {\r\n                        this.form.controls[`reasonInput_${questionIndex}`].markAsPristine();\r\n                    }, 0);\r\n                }\r\n            } else {\r\n                submitQuestion.reason = '0';\r\n            }\r\n        }\r\n\r\n        if (item.checked) {\r\n            this.questions[questionIndex].hasfinshed = true;\r\n            submitQuestion.answer.push(index);\r\n            submitQuestion.subRemark.push(item.remark);\r\n        } else {\r\n            submitQuestion.answer = submitQuestion.answer.filter((answer: any) => answer !== index);\r\n            submitQuestion.subRemark = submitQuestion.subRemark.filter((remark: any) => remark !== item.remark);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 复选项为其它原因，存储用户输入内容\r\n     * @param question 题目数据\r\n     */\r\n    updateOtherReason(question: any): void {\r\n        const questionIndex: number = this.getIndexByQuestionId(question.questionId);\r\n        this.submitAnswer[questionIndex].reason = this.form.controls[`reasonInput_${questionIndex}`].value;\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 题目为essay时，存储用户输入文本域内容\r\n     * @param textareaValue 文本域输入内容\r\n     * @param index 题目下标\r\n     */\r\n    updateTextarea(textareaValue: number, index: number): void {\r\n        this.submitAnswer[index].answer[0] = textareaValue;\r\n        this.submitAnswer[index].subRemark[0] = 'null';\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 提交问卷\r\n     */\r\n    onSubmit(): void {\r\n        CfUtil.getUser().then((user: any) => {\r\n            const root: any = user;\r\n            const camel: any = CfUtil.getHttpService();\r\n            const msgService: any = CfUtil.getMessage();\r\n            if (!camel || !msgService || !root || !Util.isFunction(camel.post) || !Util.isFunction(msgService.showSuccess)) {\r\n                return;\r\n            }\r\n\r\n            // 题目未显示或其它原因不显示时，移除对应控件\r\n            for (let i: number = 0; i < this.questions.length; i++) {\r\n                if (!this.questions[i].show || !this.questions[i].showOtherReason) {\r\n                    this.form.removeControl(`reasonInput_${i}`);\r\n                }\r\n            }\r\n\r\n            const errors: ValidationErrors | null = TiValidators.check(this.form);\r\n\r\n            if (this.isRequiredComplete(this.questions, this.submitAnswer) && !errors) {\r\n\r\n                for (let i: number = 0; i < this.submitAnswer.length; i++) {\r\n                    this.submitAnswer[i].answer = this.submitAnswer[i].answer.join();\r\n                    this.submitAnswer[i].subRemark = this.submitAnswer[i].subRemark.join();\r\n                    this.submitAnswer[i].show = this.questions[i].show; // 过滤不显示的题目\r\n                }\r\n\r\n                // 过滤未显示题目及删除show属性，不需要发送给后台\r\n                this.submitAnswer = this.submitAnswer.filter((answer: any) => answer.show !== false);\r\n                for (const answer of this.submitAnswer) {\r\n                    delete answer.show;\r\n                }\r\n\r\n                const url: string = `${TpFeedbackContentComponent.config.backend}/api/save`;\r\n\r\n                // 发送请求，向后台发送问卷结果\r\n                const sendData: any = {\r\n                    data: {\r\n                        surveyId: TpFeedbackContentComponent.config.surveyId,\r\n                        serviceId: this.options.serviceId,\r\n                        w3account: root.domainId, // 用户ID\r\n                        answers: this.submitAnswer\r\n                    }\r\n                };\r\n\r\n                camel.post({\r\n                    url: {\r\n                        s: url\r\n                    },\r\n                    params: sendData\r\n                })\r\n                    .then(() => { }, () => { });\r\n\r\n                this.submit.emit();\r\n                msgService.showSuccess(TiLocale.getLocaleWords().tpFeedback.submit_success);\r\n            } else {\r\n                // 未完成则显示'选择不能为空'提示\r\n                this.checkQuestion(this.questions, this.submitAnswer);\r\n            }\r\n        });\r\n    }\r\n\r\n    // 通过问题ID得到属于第几道题目\r\n    private getIndexByQuestionId(questionId: string): number {\r\n        for (let i: number = 0; i < this.submitAnswer.length; i++) {\r\n            if (this.submitAnswer[i].questionId === questionId) {\r\n                return i;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    // 得到复选框选中项的个数\r\n    private getCheckedNumber: (itemArray: any) => number = (itemArray: any) => {\r\n        let checkedNum: number = 0;\r\n        for (const item of itemArray) {\r\n            if (item.checked) {\r\n                checkedNum++;\r\n            }\r\n        }\r\n\r\n        return checkedNum;\r\n    }\r\n\r\n    // 检查每个题目的完成情况，返回一个数组\r\n    private checkQuestion: (questionArray: any, answerArray: any) => any = (questionArray: any, answerArray: any) => {\r\n        const resultArray: Array<boolean> = [];\r\n        for (let i: number = 0; i < questionArray.length - 1; i++) {\r\n            // 判断问题是否已正确填写. （1）必填 （2）show=true (3)有填写问卷\r\n            if (questionArray[i].show === true && questionArray[i].require === true && answerArray[i].answer.length === 0) {\r\n                questionArray[i].hasfinshed = false;\r\n                resultArray[i] = false;\r\n            }\r\n        }\r\n\r\n        return resultArray;\r\n\r\n    }\r\n\r\n    // 题目是否已完成\r\n    private isRequiredComplete(questionArray: any, answerArray: any): boolean {\r\n        const resultArray: any = this.checkQuestion(questionArray, answerArray);\r\n        for (const result of resultArray) {\r\n            if (result === false) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n}\r\n","import { Component, Input, ViewChild } from '@angular/core';\r\nimport { TiBaseComponent, TiLocale, Util } from '@cloud/tiny3';\r\n\r\nimport { CfUtil } from '../../cfutils/CfUtil';\r\nimport { TpHalfmodalComponent } from '../halfmodal/TpHalfmodalModule';\r\n\r\nimport { TpFeedbackContentComponent } from './TpFeedbackContentComponent';\r\nimport { TpFeedbackOptions } from './TpFeedbackInterface';\r\nimport { TpUtil } from './../../utils/TpUtil';\r\n/**\r\n * 问卷调查组件 feedback\r\n *\r\n * 该组件支持服务去自定义题目，但是题目的类型要求是单选题目，并且会关联出两个多选题目。如果多选题目中有其它原因这个选项，要求这个选项放在最后。\r\n *\r\n * 使用该组件需注意以下几点：\r\n *\r\n * 1.该组件与console相关，需要使用到@cloud/cfdata;<br>\r\n * 2.options.allQuestion和options.customQuestion两个接口互斥。customQuestion是在默认的题目中去新增题目，allQuestion是由服务去定制所有的问卷内容（适用于CBC、客服、IAM等服务）；<br>\r\n * 3.本地调试确保端口是<b>8888</b>，目前NPS后台已经将http://localhost:8888 放开；<br>\r\n * 4.同一个用户数据提交之后，90（10.1.0 版本规范变更，由31变更为90）天内组件不显示。如果调测需要，可自行修改源码中阈值MILLISECONDS_PER_MONTH(含义：N毫秒之后可以显示)；<br>\r\n * 5.用户提交的数据下发到NPS后台，如需查看数据，请联系NPS后台同事孙正东 30009929\"；<br>\r\n * 6.华为云各服务可根据http://csbi.huawei.com/#/home 查找对应编号或英文简称设置<b>serviceId</b>；\r\n *\r\n * <example-url>../tinyplus3demo/#/feedback/feedback-all</example-url>\r\n */\r\n\r\n@Component({\r\n    selector: 'tp-feedback',\r\n    templateUrl: './feedback.html',\r\n    styleUrls: ['./feedback.less'],\r\n    host: {\r\n        '[hidden]': '!showFeedBack'\r\n    }\r\n})\r\n\r\nexport class TpFeedbackComponent extends TiBaseComponent {\r\n    /**\r\n     * 组件数据\r\n     */\r\n    @Input() options: TpFeedbackOptions;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('halfModal', { static: true }) halfmodalCom: TpHalfmodalComponent;\r\n\r\n    // 常量配置\r\n    private CONST_ANT: any = {\r\n        MILLISECONDS_PER_MONTH: 90 * 24 * 60 * 60 * 1000 // 90天对应的毫秒数\r\n    };\r\n\r\n    /**\r\n     * @ignore\r\n     * 是否显示问卷入口\r\n     */\r\n    public showFeedBack: boolean = false;\r\n\r\n    /**\r\n     * @ignore\r\n     * 是否显示弹出框\r\n     */\r\n    public openModalAlert: boolean = false;\r\n\r\n    /**\r\n     * @ignore\r\n     * 打开弹窗链接文本\r\n     */\r\n    public alertLinkText: string;\r\n    private useId: string = '';\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        CfUtil.getUser()\r\n            .then((user: any) => {\r\n                const root: any = user;\r\n                const camel: any = CfUtil.getHttpService();\r\n                const msgService: any = CfUtil.getMessage();\r\n\r\n                if (!camel || !Util.isFunction(camel.get) || !root || !msgService || !Util.isFunction(msgService.showSuccess)) {\r\n                    return;\r\n                }\r\n\r\n                this.alertLinkText = Util.formatEntry(\r\n                    TiLocale.getLocaleWords().tpFeedback.open_halfModal.click, [this.options.serviceName]);\r\n\r\n                const useId: string = root.domainId;\r\n                const url: string = `${TpFeedbackContentComponent.config.backend}/api/get/commit/date?surveyId={survey_id}&userId={user_id}&serviceId={service_id}`;\r\n                this.useId = useId;\r\n                if (this.useId) {\r\n                    camel.get({\r\n                        url: {\r\n                            s: url,\r\n                            o: {\r\n                                survey_id: TpFeedbackContentComponent.config.surveyId,\r\n                                user_id: this.useId, // 此处取值实际是domainId而不是userId\r\n                                service_id: this.options.serviceId\r\n                            }\r\n                        }\r\n                    })\r\n                        .then((response: any) => {\r\n                            // 后台返回的日期格式yyyy-MM-dd，在IE下Date.parse为NaN，需要转成yyyy/mm/dd\r\n                            const submitDate: number = Date.parse(response.data.replace(/-/g, '/'));\r\n\r\n                            // 如果是非法日期，或者没有提交为''，则重新赋值为0.否则会出现NaN，组件展示不出来。\r\n                            const milliSeconds: number = isNaN(submitDate) ? 0 : submitDate;\r\n\r\n                            // 查询上次提交的日期，如果小于90天则不显示。否则，看之前用户是否点击关闭按钮\r\n                            if (new Date().getTime() - milliSeconds > this.CONST_ANT.MILLISECONDS_PER_MONTH) {\r\n                                const tinyVocValue: string = Util.isUndefined(TpUtil.getCookie('tinyVoc')) ? '' : TpUtil.getCookie('tinyVoc');\r\n                                if (tinyVocValue.indexOf(`${this.options.serviceId}${this.useId}`) === -1) {\r\n                                    this.showFeedBack = true;\r\n                                    this.openModalAlert = true;\r\n                                }\r\n                            }\r\n                        }, () => {\r\n                            // 数据请求失败，不出现该组件。如果出现错误提示，会给用户带来困扰。\r\n                        });\r\n                }\r\n            });\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 关闭弹出框\r\n     */\r\n    closeModalAlert(): void {\r\n        const serverlist: string = Util.isUndefined(TpUtil.getCookie('tinyVoc')) ? '' : TpUtil.getCookie('tinyVoc');\r\n        TpUtil.setCookie('tinyVoc', `${serverlist}${this.options.serviceId}${this.useId},`);\r\n        this.showFeedBack = false;\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 提交问卷\r\n     */\r\n    onSubmit(): void {\r\n        this.halfmodalCom.hide(); // 弹窗关闭\r\n        this.openModalAlert = false; // 入口关闭\r\n        this.showFeedBack = false;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport {\r\n  TiAlertModule,\r\n  TiButtonModule,\r\n  TiCheckboxModule,\r\n  TiIconModule,\r\n  TiLocaleModule,\r\n  TiOutlineModule,\r\n  TiTextareaModule,\r\n  TiTextModule,\r\n  TiValidationModule\r\n} from '@cloud/tiny3';\r\n\r\nimport { TpHalfmodalModule } from '../halfmodal/TpHalfmodalModule';\r\nimport { TpScoreModule } from '../score/TpScoreModule';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\nimport { TpFeedbackComponent } from './TpFeedbackComponent';\r\nimport { TpFeedbackContentComponent } from './TpFeedbackContentComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TiLocaleModule,\r\n    TiAlertModule,\r\n    TiButtonModule,\r\n    TiCheckboxModule,\r\n    TiIconModule,\r\n    TiTextareaModule,\r\n    TiTextModule,\r\n    TiValidationModule,\r\n    TiOutlineModule,\r\n    TpHalfmodalModule,\r\n    TpScoreModule,\r\n    TpIconModule\r\n  ],\r\n  exports: [TpFeedbackComponent, TpFeedbackContentComponent],\r\n  declarations: [TpFeedbackComponent, TpFeedbackContentComponent ],\r\n})\r\n\r\nexport class TpFeedbackModule { }\r\nexport { TpFeedbackComponent } from './TpFeedbackComponent';\r\nexport { TpFeedbackContentComponent } from './TpFeedbackContentComponent';\r\nexport { TpFeedbackOptions, TpQuestionOption, TpAllquestionOption } from './TpFeedbackInterface';\r\n","import { Component, Input, SimpleChanges } from '@angular/core';\r\nimport { TiBaseComponent, TiLocale } from '@cloud/tiny3';\r\n\r\n/**\r\n * 折叠文本\r\n *\r\n * 10.0.1 新增\r\n *\r\n * <example-url>../tinyplus3demo/#/foldtext/foldtext-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-foldtext',\r\n    templateUrl: './foldtext.html',\r\n    styleUrls: ['./foldtext.less']\r\n})\r\nexport class TpFoldtextComponent extends TiBaseComponent {\r\n    /**\r\n     * 文本内容\r\n     */\r\n    @Input() texts: Array<string> = [];\r\n    /**\r\n     * 折叠时显示几行\r\n     */\r\n    @Input() line: number = 2;\r\n    /**\r\n     * @ignore\r\n     * “查看全部” 词条\r\n     */\r\n    public showMore: string = TiLocale.getLocaleWords().tpFoldtext.showMore;\r\n    /**\r\n     * @ignore\r\n     * “收起” 词条\r\n     */\r\n    public showLess: string = TiLocale.getLocaleWords().tpFoldtext.showLess;\r\n\r\n    /**\r\n     * @ignore\r\n     * 显示文本内容的高度\r\n     */\r\n    public height: string;\r\n    /**\r\n     * @ignore\r\n     * 是否折叠\r\n     */\r\n    public folded: boolean = true;\r\n    // 表格中的默认font-size:12px, 默认line-height:1.5, 所以默认值取18px\r\n    private lineHeight: string = '18px';\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngAfterViewInit(): void {\r\n        super.ngAfterViewInit();\r\n\r\n        const CSSStyles: CSSStyleDeclaration = getComputedStyle(this.nativeElement);\r\n        const lineHeight: string = CSSStyles.getPropertyValue('line-height');\r\n\r\n        if (!Number.isNaN(parseFloat(lineHeight))) {\r\n            this.lineHeight = lineHeight;\r\n        }\r\n        // 修改了页面的数据height，消除ExpressionChangedAfterItHasBeenCheckedError报错使用setTimeout\r\n        setTimeout(() => {\r\n            this.height = (this.line * parseFloat(this.lineHeight)) + 'px';\r\n        }, 0);\r\n    }\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        super.ngOnChanges(changes);\r\n\r\n        if (changes['texts'] && !changes['texts'].firstChange || changes['line'] && !changes['line'].firstChange) {\r\n            this.height = (this.line * parseFloat(this.lineHeight)) + 'px';\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 切换文本的点击事件\r\n     */\r\n    public onClick(event: Event): void {\r\n        this.folded = !this.folded;\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpFoldtextComponent } from './TpFoldtextComponent';\r\nimport { TiLocaleModule, TiOverflowModule, TiOutlineModule } from '@cloud/tiny3';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        TiOverflowModule,\r\n        TiLocaleModule,\r\n        TiOutlineModule\r\n    ],\r\n  exports: [TpFoldtextComponent],\r\n  declarations: [TpFoldtextComponent]\r\n})\r\n\r\nexport class TpFoldtextModule {}\r\nexport { TpFoldtextComponent } from './TpFoldtextComponent';\r\n","import {\r\n    Component, ElementRef, EventEmitter, Input, Output, Renderer2, TemplateRef, ViewChild\r\n    // tslint:disable-next-line: no-implicit-dependencies\r\n} from '@angular/core';\r\n// tslint:disable-next-line: no-implicit-dependencies\r\nimport { TiBaseComponent, TiTipRef, TiTipService, TiTipShowInfo, Util } from '@cloud/tiny3';\r\n// tslint:disable-next-line: no-implicit-dependencies\r\nimport { CfUtil } from '../../cfutils/CfUtil';\r\n\r\n/**\r\n * @ignore\r\n * 每条受限信息\r\n */\r\nexport interface TpFrozenInfo {\r\n    /**\r\n     * 1 冻结，2 解冻结\r\n     */\r\n    status: number;\r\n    /**\r\n     * 1-表示公安冻结, 2表示未实名认证冻结,3-表示欠费冻结,4-合作伙伴冻结,5-账号销户前冻结,6-违规冻结\r\n     */\r\n    type: number;\r\n    /**\r\n     * json 字符串，可以解析为一个数组，包含两个冻结信息\r\n     * 详情参考 云运营公共接口文档 4.10 查询账号冻结场景\r\n     */\r\n    statusMsg: string;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n * 消息类型，'POP' 为提示块中的消息，'TIP' 为tip 提示消息\r\n */\r\ntype TpFrozenMessageType = 'POP' | 'TIP';\r\n\r\n/**\r\n * @ignore\r\n *\r\n */\r\nexport interface TpFrozenStatusMsg {\r\n    /**\r\n     * 消息类型，'POP' 为提示块中的消息，'TIP' 为tip 提示消息\r\n     */\r\n    msgType: TpFrozenMessageType;\r\n    /**\r\n     * 消息字符串\r\n     */\r\n    msgContent: string;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n\r\n}\r\n/**\r\n * @ignore\r\n * 4.10\t查询账号冻结场景 http 返回数据类型\r\n */\r\nexport interface TpFrozenResponse {\r\n    /**\r\n     * 接口返回值设置\r\n     */\r\n    frozenInfos: Array<TpFrozenInfo>;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n * 账号冻结组件，组件查询CBC查询账号冻结场景接口，获取冻结信息，展示块提示，给目标元素添加tip提示。\r\n *\r\n * 9.0.3版本新增\r\n *\r\n * <example-url>../tinyplus3demo/#/frozen/frozen-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-frozen',\r\n    templateUrl: './frozen.html',\r\n    styleUrls: ['./frozen.less']\r\n})\r\nexport class TpFrozenComponent extends TiBaseComponent {\r\n    /**\r\n     * 添加tip的按钮元素\r\n     */\r\n    @Input() buttonElem: HTMLElement;\r\n    /**\r\n     * 获取数据成功事件\r\n     */\r\n    @Output() readonly response: EventEmitter<TpFrozenResponse | Error> = new EventEmitter<TpFrozenResponse | Error>();\r\n    /**\r\n     * @ignore\r\n     * tip 内容template\r\n     */\r\n    @ViewChild('tipContentTemplate', { static: false }) tipContentTemplate: TemplateRef<any>;\r\n    /**\r\n     * @ignore\r\n     * 内部alert 打开关闭\r\n     */\r\n    public open: boolean = false;\r\n    /**\r\n     * @ignore\r\n     * alert 类型\r\n     */\r\n    public alertType: string = 'error';\r\n    /**\r\n     * @ignore\r\n     * 内部alert类型图标\r\n     */\r\n    public typeIcon: boolean = true;\r\n    /**\r\n     * @ignore\r\n     * 内部alert关闭图标\r\n     */\r\n    public closeIcon: boolean = false;\r\n    /**\r\n     * @ignore\r\n     * alert 内容\r\n     */\r\n    public label: string = '';\r\n    /**\r\n     * @ignore\r\n     * tip 提示内容\r\n     */\r\n    public tipContent: string;\r\n    /**\r\n     * @ignore\r\n     * tip实例，销毁tip作用\r\n     */\r\n    private tipInstance: TiTipRef;\r\n    /**\r\n     * @ignore\r\n     * 从http返回数据中获取内容字符串\r\n     */\r\n    public static getMsgContent(data: TpFrozenResponse, msgType: TpFrozenMessageType): string {\r\n        if (data && Array.isArray(data.frozenInfos) && data.frozenInfos.length > 0) {\r\n            // 返回数据中 frozenInfos按优先级排序，所以取第一个\r\n            const frozenInfo: TpFrozenInfo = data.frozenInfos[0] as TpFrozenInfo;\r\n            // status 1 冻结 2 解冻\r\n            if (frozenInfo.status !== 1 || !Util.isString(frozenInfo.statusMsg)) {\r\n                return;\r\n            }\r\n            try {\r\n                frozenInfo.statusMsgs = JSON.parse(frozenInfo.statusMsg) as Array<TpFrozenStatusMsg>;\r\n            } catch (error) {\r\n                console.warn(error);\r\n\r\n                return;\r\n            }\r\n            const msg: TpFrozenStatusMsg = frozenInfo.statusMsgs.find((item: TpFrozenStatusMsg) => {\r\n                return item.msgType === msgType;\r\n            });\r\n            if (msg && Util.isString(msg.msgContent)) {\r\n                return msg.msgContent;\r\n            }\r\n        }\r\n    }\r\n\r\n    private static getUserInfo(config?: any): Promise<string> {\r\n        // config 本地测试使用，实际使用时请忽略此参数\r\n        if (config) {\r\n            return new Promise((resolve, reject) => {\r\n                resolve(config.domainId);\r\n            });\r\n        } else {\r\n            return CfUtil.getUser().then((user: any) => user.domainId);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 请求账号冻结场景接口\r\n     * config 本地测试使用，实际使用时请忽略此参数\r\n     */\r\n    public static queryFrozenInfo(config?: any): Promise<TpFrozenResponse> {\r\n        const queryFrozenInfoPromise: Promise<TpFrozenResponse> = TpFrozenComponent.getUserInfo(config)\r\n            .then((domainId: string) => {\r\n                const camel: any = config ? config.camel : CfUtil.getHttpService();\r\n                const customerId: string = domainId;\r\n                if (customerId && camel) {\r\n                    let url: string = '/rest/cbc/cbccustmgrservice/v1/customer/frozen';\r\n                    // AppWebPath 为console.home框架的设置,例如'/console'路径\r\n                    const appWebPath: string = CfUtil.getAppWebPath();\r\n                    if (Util.isString(appWebPath)) {\r\n                        url = appWebPath + url;\r\n                    }\r\n\r\n                    return camel.get({\r\n                        url: {\r\n                            s: url\r\n                        },\r\n                        params: { customerId }\r\n                    });\r\n                } else {\r\n                    return Promise.reject(new Error('frozen 依赖camel服务，使用前请先注入'));\r\n                }\r\n            });\r\n\r\n        return queryFrozenInfoPromise;\r\n    }\r\n\r\n    constructor(\r\n        protected hostRef: ElementRef,\r\n        protected renderer2: Renderer2,\r\n        private tipService: TiTipService\r\n    ) {\r\n        super(hostRef, renderer2);\r\n    }\r\n\r\n    /**\r\n     * 查询冻结\r\n     * config 为方便测试设置，实际使用时请忽略\r\n     */\r\n    public queryFrozen(config?: any): void {\r\n        TpFrozenComponent.queryFrozenInfo(config)\r\n            .then((response: any) => {\r\n                this.label = TpFrozenComponent.getMsgContent(response, 'POP');\r\n                // 是字符串显示\r\n                this.open = Util.isString(this.label);\r\n\r\n                // 给按钮添加tip\r\n                this.tipContent = TpFrozenComponent.getMsgContent(response, 'TIP');\r\n                if (Util.isString(this.tipContent) && this.buttonElem) {\r\n                    this.addTip(this.buttonElem);\r\n                }\r\n\r\n                if (!this.label && !this.tipContent) {\r\n                    this.unfrozen();\r\n                }\r\n                // 获取数据成功，触发response事件，将后台原始响应数据传递出去，方便使用者自行处理相关逻辑\r\n                this.response.emit(response);\r\n            }, (error: Error) => {\r\n                this.response.emit(error);\r\n                this.open = false;\r\n            });\r\n    }\r\n\r\n    /**\r\n     * 隐藏提示块,销毁tip\r\n     */\r\n    private unfrozen(): void {\r\n        this.open = false;\r\n        // @ts-ignore:忽略destroy检查\r\n        if (this.tipInstance && Util.isFunction(this.tipInstance.destroy)) {\r\n            // @ts-ignore:外层有判断\r\n            this.tipInstance.destroy();\r\n            this.tipInstance = undefined;\r\n        }\r\n    }\r\n    /**\r\n     *  给目标元素添加tip\r\n     *  v9.0.4 版本添加\r\n     */\r\n    public addTip(...targets: Array<HTMLElement>): void {\r\n        if (this.tipContentTemplate && this.tipContent) {\r\n            targets.forEach((element: HTMLElement) => {\r\n                this.tipInstance = this.tipService.create(element, {\r\n                    trigger: 'mouse',\r\n                    showFn: (): TiTipShowInfo => {\r\n                        return {\r\n                            content: this.tipContentTemplate\r\n                        };\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n}\r\n","// tslint:disable-next-line: no-implicit-dependencies\r\nimport { NgModule } from '@angular/core';\r\n// tslint:disable-next-line: no-implicit-dependencies\r\nimport { CommonModule } from '@angular/common';\r\n// tslint:disable-next-line: no-implicit-dependencies\r\nimport { TiAlertModule, TiTipServiceModule } from '@cloud/tiny3';\r\n\r\nimport { TpFrozenComponent } from './TpFrozenComponent';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        TiAlertModule,\r\n        TiTipServiceModule\r\n    ],\r\n    exports: [TpFrozenComponent],\r\n    declarations: [TpFrozenComponent]\r\n})\r\nexport class TpFrozenModule { }\r\nexport { TpFrozenComponent, TpFrozenResponse } from './TpFrozenComponent';\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { TiLocale, Util, TiBaseComponent } from '@cloud/tiny3';\r\nimport { TpFrozenComponent } from '../frozen/TpFrozenModule';\r\n/**\r\n * 冻结页面组件\r\n *\r\n * <example-url>../tinyplus3demo/#/frozenpage/frozenpage-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-frozenpage',\r\n    templateUrl: './frozenpage.html',\r\n    styleUrls: ['./frozenpage.less']\r\n})\r\n\r\nexport class TpFrozenpageComponent extends TiBaseComponent {\r\n    /**\r\n     * 服务名称\r\n     */\r\n    @Input() serviceName: string;\r\n    /**\r\n     * 触发返回服务列表事件\r\n     */\r\n    @Output() readonly backServiceList: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * @ignore\r\n     */\r\n    public backService: string;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public content: string = '';\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.backService = Util.formatEntry(TiLocale.getLocaleWords().tpFrozenpage.back_service, [this.serviceName]);\r\n        TpFrozenComponent.queryFrozenInfo()\r\n            .then((response: any) => {\r\n                this.content = TpFrozenComponent.getMsgContent(response, 'POP');\r\n            }, () => { });\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClick(): void {\r\n        this.backServiceList.emit();\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TpFrozenpageComponent } from './TpFrozenpageComponent';\r\nimport { TiLocaleModule } from '@cloud/tiny3'\r\n\r\n@NgModule({\r\n  imports: [TiLocaleModule],\r\n  exports: [TpFrozenpageComponent],\r\n  declarations: [TpFrozenpageComponent]\r\n})\r\n\r\nexport class TpFrozenpageModule {}\r\nexport { TpFrozenpageComponent } from './TpFrozenpageComponent';\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\n\r\n/**\r\n *  @ignore\r\n *\r\n *  栅格样式组件\r\n *\r\n *  10.0.4及之前的版本grid.less是全局的。10.1.0版本为了实现样式按需加载，将grid.less封装在一个组件模块，所以该组件实际只提供了样式。\r\n *\r\n * 使用示例在 card 组件示例中\r\n *\r\n */\r\n@Component({\r\n    selector: '.tp-row', // 兼容延用栅格样式选择器\r\n    template: '<ng-content></ng-content>',\r\n    styleUrls: ['./grid.less'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class TpGridComponent { }\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { TpGridComponent } from './TpGridComponent';\r\n\r\n/**\r\n *  @ignore\r\n *\r\n */\r\n@NgModule({\r\n  exports: [TpGridComponent],\r\n  declarations: [TpGridComponent]\r\n})\r\nexport class TpGridModule {}\r\nexport { TpGridComponent } from './TpGridComponent';\r\n","import { Component, Input } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n/**\r\n * 情景引导组件\r\n *\r\n * <example-url>../tinyplus3demo/#/guides/guides-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-guides',\r\n    template: `<ng-content></ng-content>`,\r\n    styleUrls: ['./guides.less'],\r\n    // host: {\r\n    //     '[class.tp-guides-container]': 'true'\r\n    // }\r\n})\r\n\r\nexport class TpGuidesComponent extends TiBaseComponent {\r\n    /**\r\n     * 设置activeIndex属性，指定当前激活项，默认值为-1，表示无激活状态；激活状态从0开始，在设置值之前的guide为完成项，之后则为待办项。\r\n     */\r\n    @Input() activeIndex: number = -1;\r\n}\r\n","import { Component, ElementRef, Renderer2 } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n\r\nimport { TpGuidesComponent } from './TpGuidesComponent';\r\n/**\r\n * TiGuideComponent 是单个引导模块组件\r\n */\r\n@Component({\r\n    selector: 'tp-guide',\r\n    templateUrl: './guide.html',\r\n    styleUrls: ['./guide.less'],\r\n    host: {\r\n        '[class.tp-guide-card-container]': 'true',\r\n        '[class.tp-guide-card-undo]': 'isUndo(cardIndex)',\r\n        '[class.tp-guide-card-active]': 'isActive(cardIndex)',\r\n        '[class.tp-guide-card-done]': 'isDone(cardIndex)'\r\n    }\r\n})\r\n\r\nexport class TpGuideComponent extends TiBaseComponent {\r\n    constructor(protected elementRef: ElementRef, protected renderer2: Renderer2, private guidesComp: TpGuidesComponent) {\r\n        super(elementRef, renderer2);\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 下标值\r\n     */\r\n    public cardIndex: number = -1;\r\n    /**\r\n     * @ignore\r\n     * 是否含有body\r\n     */\r\n    public hasBody: boolean = false;\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngAfterContentInit(): void {\r\n        super.ngAfterContentInit();\r\n        this.setCardIndex();\r\n        this.cardIndex = this.nativeElement.cardIndex;\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 设置步骤标志\r\n     */\r\n    private setCardIndex(): void {\r\n        const cardNum: number = this.guidesComp.nativeElement.children.length;\r\n        for (let i: number = 0; i < cardNum; i++) {\r\n            this.guidesComp.nativeElement.children[i].cardIndex = i;\r\n            if (cardNum <= 2) {\r\n                this.renderer.setStyle(this.guidesComp.nativeElement.children[i], 'max-width', '445px');\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 是否待办项\r\n     */\r\n    public isUndo(index: number): boolean {\r\n        return this.guidesComp.activeIndex >= 0 && index > this.guidesComp.activeIndex;\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 是否当前项\r\n     */\r\n    public isActive(index: number): boolean {\r\n        return this.guidesComp.activeIndex >= 0 && index === this.guidesComp.activeIndex;\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 是否已完成\r\n     */\r\n    public isDone(index: number): boolean {\r\n        return this.guidesComp.activeIndex >= 0 && index < this.guidesComp.activeIndex;\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 是否含有间距\r\n     */\r\n    public hasSpace(index: number): boolean {\r\n        return this.isActive(index) && this.hasBody;\r\n    }\r\n}\r\n","import { Component } from '@angular/core';\r\n/**\r\n * TiGuideHeaderComponent 是单个引导模块组件的标题头\r\n */\r\n@Component({\r\n    selector: 'tp-guide-header',\r\n    template: `<span><ng-content></ng-content></span>`,\r\n    styleUrls: ['./guide-header.less'],\r\n})\r\n\r\nexport class TpGuideHeaderComponent {}\r\n","import { Component } from '@angular/core';\r\n/**\r\n * TiGuideContentComponent 是单个引导模块组件的content区域\r\n */\r\n@Component({\r\n    selector: 'tp-guide-content',\r\n    template: `<ng-content></ng-content>`,\r\n    styleUrls: ['./guide-content.less'],\r\n})\r\n\r\nexport class TpGuideContentComponent {}\r\n","import { Component, ElementRef, Renderer2 } from '@angular/core';\r\nimport { TiBaseComponent, TiRenderer } from '@cloud/tiny3';\r\n\r\nimport { TpGuideComponent } from './TpGuideComponent';\r\nimport { TpGuidesComponent } from './TpGuidesComponent';\r\n/**\r\n * TiGuideBodyComponent 是单个引导模块的body区域\r\n */\r\n@Component({\r\n    selector: 'tp-guide-body',\r\n    templateUrl: './guide-body.html',\r\n    styleUrls: ['./guide-body.less']\r\n})\r\n\r\nexport class TpGuideBodyComponent extends TiBaseComponent {\r\n    constructor(private elementRef: ElementRef, private renderer2: Renderer2, private tiRenderer: TiRenderer,\r\n                private guideComp: TpGuideComponent, private guidesComp: TpGuidesComponent) {\r\n        super(elementRef, renderer2);\r\n    }\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.guideComp.hasBody = true;\r\n        this.tiRenderer.insertAfter(this.nativeElement, this.guidesComp.nativeElement);\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 展示激活项body\r\n     */\r\n    public showActiveBody(): boolean {\r\n        return this.guidesComp.activeIndex === this.guideComp.cardIndex;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\nimport { TpGuidesComponent } from './TpGuidesComponent';\r\nimport { TpGuideComponent } from './TpGuideComponent';\r\nimport { TpGuideHeaderComponent } from './TpGuideHeaderComponent';\r\nimport { TpGuideContentComponent } from './TpGuideContentComponent';\r\nimport { TpGuideBodyComponent } from './TpGuideBodyComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TpIconModule\r\n  ],\r\n  exports: [TpGuidesComponent, TpGuideComponent, TpGuideHeaderComponent, TpGuideContentComponent, TpGuideBodyComponent],\r\n  declarations: [TpGuidesComponent, TpGuideComponent, TpGuideHeaderComponent, TpGuideContentComponent, TpGuideBodyComponent]\r\n})\r\n\r\nexport class TpGuidesModule {}\r\nexport { TpGuidesComponent } from './TpGuidesComponent';\r\nexport { TpGuideComponent } from './TpGuideComponent';\r\nexport { TpGuideHeaderComponent } from './TpGuideHeaderComponent';\r\nexport { TpGuideContentComponent } from './TpGuideContentComponent';\r\nexport { TpGuideBodyComponent } from './TpGuideBodyComponent';\r\n","import { Component } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n/**\r\n * 小步骤引导组件\r\n *\r\n * <example-url>../tinyplus3demo/#/guidesteps/guidesteps-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-guidesteps',\r\n    template: `<ng-content></ng-content>`,\r\n    styleUrls: ['./guidesteps.less']\r\n})\r\n\r\nexport class TpGuidestepsComponent extends TiBaseComponent {}\r\n","import { Component, Input } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n\r\n/**\r\n * TiGuidestepComponent 是单个小步骤模块组件\r\n */\r\n@Component({\r\n    selector: 'tp-guidestep',\r\n    template: `<ng-content></ng-content>`,\r\n    styleUrls: ['./guidestep.less']\r\n})\r\n\r\nexport class TpGuidestepComponent extends TiBaseComponent {\r\n    /**\r\n     * 当前步骤是否已经完成\r\n     */\r\n    @Input() isComplete: boolean = false;\r\n}","import { Component, ElementRef, Renderer2 } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\nimport { TpGuidestepComponent } from './TpGuidestepComponent';\r\n\r\n/**\r\n * TpGuidestepHeaderComponent 是单个小步骤模块组件的标题头\r\n */\r\n@Component({\r\n    selector: 'tp-guidestep-header',\r\n    template: `<span><ng-content></ng-content></span>`,\r\n    styleUrls: ['./guidestep-header.less'],\r\n    host: {\r\n        '[class.tp-guidestep-dot-complete]': 'guidestepComp.isComplete'\r\n    }\r\n})\r\n\r\nexport class TpGuidestepHeaderComponent extends TiBaseComponent {\r\n    constructor(private elementRef: ElementRef, private renderer2: Renderer2, public guidestepComp: TpGuidestepComponent) {\r\n        super(elementRef, renderer2);\r\n    }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n/**\r\n * TpGuidestepContentComponent 是单个小步骤模块组件的content区域\r\n */\r\n@Component({\r\n    selector: 'tp-guidestep-content',\r\n    template: `<ng-content></ng-content>`,\r\n    styleUrls: ['./guidestep-content.less']\r\n})\r\n\r\nexport class TpGuidestepContentComponent extends TiBaseComponent {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TpGuidestepsComponent } from './TpGuidestepsComponent';\r\nimport { TpGuidestepComponent } from './TpGuidestepComponent';\r\nimport { TpGuidestepHeaderComponent } from './TpGuidestepHeaderComponent';\r\nimport { TpGuidestepContentComponent } from './TpGuidestepContentComponent';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: [TpGuidestepsComponent, TpGuidestepComponent, TpGuidestepHeaderComponent, TpGuidestepContentComponent],\r\n  declarations: [TpGuidestepsComponent, TpGuidestepComponent, TpGuidestepHeaderComponent, TpGuidestepContentComponent]\r\n})\r\n\r\nexport class TpGuidestepsModule {}\r\nexport { TpGuidestepsComponent } from './TpGuidestepsComponent';\r\nexport { TpGuidestepComponent } from './TpGuidestepComponent';\r\nexport { TpGuidestepHeaderComponent } from './TpGuidestepHeaderComponent';\r\nexport { TpGuidestepContentComponent } from './TpGuidestepContentComponent';\r\n","import { Component, ElementRef, Input, ViewChild } from '@angular/core';\r\nimport { TiFormComponent } from '@cloud/tiny3';\r\n\r\n/**\r\n *  Icon组件\r\n *\r\n *  Icon组件可以设置显示Icon。\r\n *\r\n * <example-url>../tinyplus3demo/#/iconaction/iconaction-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-iconaction',\r\n    templateUrl: './iconaction.html',\r\n    styleUrls: ['./iconaction.less']\r\n})\r\nexport class TpIconactionComponent extends TiFormComponent {\r\n  // TODO: add explicit constructor\r\n\r\n  // TODO: add explicit constructor\r\n\r\n    /**\r\n     * icon名称\r\n     */\r\n    @Input() iconName: string = 'cloud-action-add2';\r\n    /**\r\n     * icon名称\r\n     */\r\n    @Input() label: string;\r\n    /**\r\n     * 跳转链接\r\n     *\r\n     * 10.1.2新增\r\n     */\r\n    @Input() href: string;\r\n    /**\r\n     * 跳转方式\r\n     *\r\n     * 10.1.2新增\r\n     */\r\n    @Input() target: string = '_blank';\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('a', { static: true }) aRef: ElementRef;\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnInit(): void {\r\n        // 基类中做了设置宿主id的操作\r\n        super.ngOnInit();\r\n        this.setFocusableElems([this.aRef.nativeElement]);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClickFn(event: Event): void {\r\n        if(!this.href) {\r\n            event.preventDefault();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 不传href时，禁用右键打开新窗口功能\r\n     */\r\n    public oncontextmenu(): boolean {\r\n        return !!this.href;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TpIconactionComponent } from './TpIconactionComponent';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, TpIconModule],\r\n  exports: [TpIconactionComponent],\r\n  declarations: [TpIconactionComponent]\r\n})\r\nexport class TpIconactionModule {}\r\nexport { TpIconactionComponent } from './TpIconactionComponent';\r\n","import { FormControl, ValidatorFn } from '@angular/forms';\r\nimport {\r\n    ChangeDetectorRef,\r\n    Component,\r\n    ElementRef,\r\n    EventEmitter,\r\n    Input,\r\n    Output,\r\n    Renderer2,\r\n    ViewChild,\r\n    NgZone,\r\n    AfterViewChecked\r\n} from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { TiFormComponent, TiTextareaComponent, TiTextComponent, TiValidationConfig, Util } from '@cloud/tiny3';\r\n\r\n/**\r\n * 可编辑文本组件，主要实现了编辑文本的功能。组件有两种状态：编辑状态和非编辑状态。\r\n * 在非编辑状态:点击右侧笔图标时，切换到编辑状态。\r\n * 在编辑状态:点击右侧对号图标时，切换到非编辑状态，\r\n * 并且将输入框中内容显示在非编辑状态的文本中;\r\n * 点击右侧叉图标时，切换到非编辑状态，非编辑状态的文本保持之前的不变，用户输入不生效。\r\n *\r\n * <example-url>../tinyplus3demo/#/labeleditor/labeleditor-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-labeleditor',\r\n    templateUrl: 'labeleditor.html',\r\n    styleUrls: ['./labeleditor.less'],\r\n    providers: [TiFormComponent.getValueAccessor(TpLabeleditorComponent)]\r\n})\r\n// extends TiFormComponent\r\nexport class TpLabeleditorComponent extends TiFormComponent {\r\n    constructor(\r\n        protected elementRef: ElementRef,\r\n        private changeDetectorRef: ChangeDetectorRef,\r\n        protected renderer2: Renderer2,\r\n        private zone: NgZone) {\r\n        super(elementRef, renderer2);\r\n    }\r\n    /**\r\n     * 是否超出显示TIP\r\n     */\r\n    @Input() autoTip: boolean = true;\r\n    /**\r\n     * 是否为多行文本编辑\r\n     */\r\n    @Input() multiline: boolean;\r\n    /**\r\n     * 用来调整文本框大小，该属性提供了四个属性值:\r\n     *\r\n     * none(不可调整组件大小):\r\n     *\r\n     * vertical(仅可调整垂直方向的大小，即调整组件的高度)\r\n     *\r\n     * horizontal(仅可调节水平方向的大小，即调整组件的宽度)\r\n     *\r\n     * both(水平和垂直方向均可调节，宽高都可调节)\r\n     */\r\n    @Input() resize: 'none' | 'vertical' | 'horizontal' | 'both' = 'both';\r\n    /**\r\n     * 显示文本length\r\n     */\r\n    @Input() maxlength: number;\r\n    /**\r\n     * 编辑图标Tip内容\r\n     */\r\n    @Input() iconTip: string;\r\n    /**\r\n     * 配置校验相关信息，详见接口TiValidationConfig\r\n     */\r\n    @Input() validation: TiValidationConfig;\r\n    /**\r\n     * 用户自定义校验规则\r\n     *\r\n     * 接口值被当作new FormControl()的第二个参数\r\n     *\r\n     * 接口类型与new FormControl()的第二个参数格式一致，详情参考angular表单部分\r\n     */\r\n    @Input() validationRules: Array<ValidatorFn>;\r\n    /**\r\n     * 新增10.1.2\r\n     * 用来配置文本框的宽\r\n     */\r\n    @Input() width: string;\r\n    /**\r\n     * 新增10.1.2\r\n     * 用来配置文本框的高\r\n     */\r\n    @Input() height: string;\r\n    /**\r\n     * 编辑事件接口\r\n     */\r\n    @Output() readonly editor: EventEmitter<any> = new EventEmitter();\r\n    /**\r\n     * 确认事件接口\r\n     */\r\n    @Output() readonly confirm: EventEmitter<any> = new EventEmitter();\r\n    /**\r\n     * 取消事件接口\r\n     */\r\n    @Output() readonly cancel: EventEmitter<any> = new EventEmitter();\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('textarea', {static: false}) textareaComp: TiTextareaComponent;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('text', {static: false}) textComp: TiTextComponent;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('confirmIcon') confirmIconEle: ElementRef;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('edit', {static: false}) editEle: ElementRef;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public isEditing: boolean = false; // 是否处于编辑状态\r\n    /**\r\n     * @ignore\r\n     */\r\n    public value: string; // value内容\r\n    /**\r\n     * @ignore\r\n     */\r\n    public oldValue: string; // value内容\r\n    /**\r\n     * @ignore\r\n     */\r\n    public emptyValue: string = '--'; // 内容为空时显示‘--’\r\n    /**\r\n     * @ignore\r\n     */\r\n    public control: FormControl;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public valueInvalid: boolean = false;\r\n    private subscription: Subscription;\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.control = new FormControl(this.model, this.validationRules);\r\n        // 校验提示tip默认top方向展开\r\n        if (this.validation) {\r\n            this.validation.tipPosition = Util.isUndefined(this.validation.tipPosition) ? 'top' :\r\n            this.validation.tipPosition;\r\n        }\r\n        this.subscription = this.control.statusChanges.subscribe((status: string) => {\r\n            this.valueInvalid = status === 'INVALID';\r\n            this.changeDetectorRef.detectChanges();\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    // tslint:disable-next-line:typedef\r\n    ngOnModelChange() {\r\n        if (this.model) {\r\n            this.control.setValue(this.model.slice(0, this.maxlength));\r\n        } else {\r\n            this.control.setValue('');\r\n        }\r\n    }\r\n\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngOnDestroy(): void {\r\n        if (this.subscription) {\r\n            this.subscription.unsubscribe();\r\n          }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 点击编辑图标事件\r\n     */\r\n    public onClickEdit(): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n\r\n        this.isEditing = true;\r\n        this.oldValue = this.model;\r\n        this.editor.emit(this.model);\r\n        if (this.model) {\r\n            this.control.setValue(this.model.slice(0, this.maxlength));\r\n        }\r\n        setTimeout((): void => {\r\n            if (this.multiline) {\r\n                this.textareaComp.nativeElement.focus();\r\n                if (Util.isUndefined(this.maxlength)) {\r\n                    this.renderer2.removeAttribute(this.textareaComp.nativeElement, 'maxlength');\r\n                } else {\r\n                    this.renderer2.setAttribute(this.textareaComp.nativeElement, 'maxlength', String(this.maxlength));\r\n                }\r\n            } else {\r\n                this.textComp.nativeElement.focus();\r\n            }\r\n        }, 0);\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 点击确认图标事件\r\n     */\r\n    public onClickConfirm(): void {\r\n        if (this.valueInvalid) {\r\n            return;\r\n        }\r\n        this.isEditing = false;\r\n        this.model = this.control.value;\r\n        this.confirm.emit(this.model);\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 点击取消图标事件\r\n     */\r\n    public onClickCancel(): void {\r\n        this.isEditing = false;\r\n        this.cancel.emit(this.model);\r\n        this.control.setValue(this.oldValue);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpLabeleditorComponent } from './TpLabeleditorComponent';\r\nimport { TiOutlineModule, TiIconModule, TiOverflowModule, TiTextareaModule, TiTextModule, TiTipModule, TiValidationModule } from '@cloud/tiny3';\r\n\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TiOutlineModule,\r\n    TiIconModule,\r\n    TiOverflowModule,\r\n    TpIconModule,\r\n    TiTextareaModule,\r\n    TiTipModule,\r\n    TiTextModule,\r\n    TiValidationModule\r\n  ],\r\n  exports: [TpLabeleditorComponent],\r\n  declarations: [TpLabeleditorComponent]\r\n})\r\n\r\nexport class TpLabeleditorModule {}\r\nexport { TpLabeleditorComponent } from './TpLabeleditorComponent';\r\n","import { Component } from '@angular/core';\r\n\r\n/**\r\n * 布局组件，提供整个页面内容区域的布局\r\n *\r\n * 头部\r\n *\r\n * <example-url>../tinyplus3demo/#/layout/layout-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-layout-header',\r\n    template: '<div class=\"tp-layout-header-content\"><ng-content></ng-content></div>',\r\n    styleUrls: ['./layout-header.less'],\r\n    host: {\r\n        '[class.tp-layout-header]': 'true'\r\n    }\r\n})\r\nexport class TpLayoutHeaderComponent {\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n/**\r\n * 布局组件，提供整个页面内容区域的布局\r\n *\r\n * 内容容器\r\n *\r\n * <example-url>../tinyplus3demo/#/layout/layout-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-layout-content',\r\n    template: '<ng-content></ng-content>',\r\n    styleUrls: ['./layout-content.less'],\r\n    host: {\r\n        '[class.tp-layout-content]': 'true'\r\n    }\r\n})\r\nexport class TpLayoutContentComponent {\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n/**\r\n * 布局组件，提供整个页面内容区域的布局\r\n *\r\n * 内部分区\r\n *\r\n * <example-url>../tinyplus3demo/#/layout/layout-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-layout-section',\r\n    template: '<ng-content></ng-content>',\r\n    styleUrls: ['./layout-section.less'],\r\n    host: {\r\n        '[class.tp-layout-section]': 'true'\r\n    }\r\n})\r\nexport class TpLayoutSectionComponent {\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n/**\r\n * 布局组件，提供整个页面内容区域的布局\r\n *\r\n * 内容主体\r\n *\r\n * <example-url>../tinyplus3demo/#/layout/layout-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-layout-content-body',\r\n    template: '<ng-content></ng-content>',\r\n    styleUrls: ['./layout-content-body.less']\r\n})\r\nexport class TpLayoutContentBodyComponent {\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n/**\r\n * 布局组件，提供整个页面内容区域的布局\r\n *\r\n * 内容头部\r\n *\r\n * <example-url>../tinyplus3demo/#/layout/layout-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-layout-content-header',\r\n    template: '<ng-content></ng-content>',\r\n    styleUrls: ['./layout-content-header.less']\r\n})\r\nexport class TpLayoutContentHeaderComponent {\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n/**\r\n * 布局组件，提供整个页面内容区域的布局\r\n *\r\n * 内容容器\r\n *\r\n * <example-url>../tinyplus3demo/#/layout/layout-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-layout-column',\r\n    template: '<ng-content></ng-content>',\r\n    styleUrls: ['./layout-column.less']\r\n})\r\nexport class TpLayoutColumnComponent {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpLayoutHeaderComponent } from './TpLayoutHeaderComponent';\r\nimport { TpLayoutContentComponent } from './TpLayoutContentComponent';\r\nimport { TpLayoutSectionComponent } from './TpLayoutSectionComponent';\r\nimport { TpLayoutContentBodyComponent } from './TpLayoutContentBodyComponent';\r\nimport { TpLayoutContentHeaderComponent } from './TpLayoutContentHeaderComponent';\r\nimport { TpLayoutColumnComponent } from './TpLayoutColumnComponent';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: [ TpLayoutContentComponent,\r\n             TpLayoutContentBodyComponent,\r\n             TpLayoutHeaderComponent,\r\n             TpLayoutSectionComponent,\r\n             TpLayoutContentHeaderComponent,\r\n             TpLayoutColumnComponent],\r\n  declarations: [TpLayoutContentComponent,\r\n                 TpLayoutContentBodyComponent,\r\n                 TpLayoutHeaderComponent,\r\n                 TpLayoutSectionComponent,\r\n                 TpLayoutContentHeaderComponent,\r\n                 TpLayoutColumnComponent]\r\n})\r\nexport class TpLayoutModule {}\r\nexport { TpLayoutContentComponent } from './TpLayoutContentComponent';\r\nexport { TpLayoutContentBodyComponent } from './TpLayoutContentBodyComponent';\r\nexport { TpLayoutHeaderComponent } from './TpLayoutHeaderComponent';\r\nexport { TpLayoutSectionComponent } from './TpLayoutSectionComponent';\r\nexport { TpLayoutContentHeaderComponent } from './TpLayoutContentHeaderComponent';\r\nexport { TpLayoutColumnComponent } from './TpLayoutColumnComponent';\r\n","import { Component, ContentChild, ElementRef, EventEmitter, Input, Output } from \"@angular/core\";\r\nimport { TiBaseComponent, TiLeftmenuItem } from '@cloud/tiny3';\r\n\r\nexport interface TpLeftmenuConfig {\r\n    /**\r\n     * 设置服务名称\r\n     */\r\n    serviceName: string;\r\n    /**\r\n     * 控制右侧内容区的刷新\r\n     *\r\n     * 注意：当重复点击当前激活菜单项时，需要刷新右侧内容区，为了实现此功能设置了该接口；\r\n     * 该接口是双向绑定的，当重复点击当前激活菜单项时，reloadState的值会经历 true(上次的值) -> false -> true\r\n     * 的变化过程，开发者给改接口与其右侧区域容器上ngIf接口绑定的是同一个变量，所以ngIf的值也会经历同样的变化，\r\n     * 从而做到右侧内容区的刷新。\r\n     */\r\n    reloadState: boolean;\r\n    /**\r\n     * 是否开启左侧菜单面板可折叠功能，默认开启。\r\n     */\r\n    toggleable?: boolean;\r\n    /**\r\n     * 左侧菜单面板是否为收起状态，用于设置面板收起/展开状态，默认展开。\r\n     */\r\n    collapsed?: boolean;\r\n    /**\r\n     * 左侧菜单面板收起/展开状态改变时向外通知\r\n     */\r\n    collapsedChangeFn?: (collapsed: boolean) => void;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\nexport interface TpLeftmenuItem extends TiLeftmenuItem {\r\n    /**\r\n     * 菜单项文本内容\r\n     */\r\n    label: string;\r\n    /**\r\n     * 分组或一级菜单项可设置该属性\r\n     */\r\n    children?: Array<TpLeftmenuItem>;\r\n    /**\r\n     * 是否隐藏菜单项\r\n     */\r\n    hide?: boolean;\r\n    /**\r\n     * 是否为分组项\r\n     */\r\n    isGroup?: boolean;\r\n    /**\r\n     * 如果是分组项，是否展开该组\r\n     */\r\n    expanded?: boolean;\r\n    // click: () => {}; TODO:\r\n    // hyperlink: string; TODO:\r\n}\r\n\r\n/**\r\n * TpLeftmenu组件主要用于左侧导航，是基于Tiny3中的TiLeftmenu组件进行封装的，详细的数据接口说明可参照Tiny3中的TiLeftmenu。\r\n *\r\n * <example-url>../tinyplus3demo/#/leftmenu/leftmenu-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-leftmenu',\r\n    templateUrl: './leftmenu.html',\r\n    styleUrls: ['./leftmenu.less']\r\n})\r\nexport class TpLeftmenuComponent extends TiBaseComponent {\r\n    private static readonly CHINESE_REG: RegExp = new RegExp('[\\u4e00-\\u9fa5]'); // 汉字\r\n    /**\r\n     * 左侧菜单配置项\r\n     */\r\n    @Input() config: TpLeftmenuConfig;\r\n    /**\r\n     * 左侧菜单数据\r\n     *\r\n     * 其中的 href 属性 在v10.0.1 ~ v10.1.3版本存在XSS攻击(url类型)风险，v10.1.4 版本做了安全处理，已不存在安全问题，建议业务尽快升级版本。\r\n     *\r\n     */\r\n    @Input() items: Array<TpLeftmenuItem>;\r\n    /**\r\n     * 设置激活菜单项。这个值应该是 TiLeftmenuLevel1 和 TiLeftmenuLevel2 组件的 item 接口传入的值的集合中的一个(item)\r\n     *\r\n     * 此接口是双向绑定的，设置时中括号“[]”和圆括号“()”要同时使用\r\n     */\r\n    @Input() active: TpLeftmenuItem;\r\n    /**\r\n     * 激活菜单项改变时向外通知\r\n     */\r\n    @Output() readonly activeChange: EventEmitter<TpLeftmenuItem> = new EventEmitter();\r\n    /**\r\n     * @ignore\r\n     * 底部元素\r\n     */\r\n    @ContentChild('foot') leftmenuFoot: ElementRef;\r\n    /**\r\n     * @ignore\r\n     * 模板中使用\r\n     */\r\n    public getHeaderTextClass(): string {\r\n        return this.config && TpLeftmenuComponent.CHINESE_REG.test(this.config.serviceName) && this.config.serviceName.length > 8 ?\r\n            'tp-leftmenu-title-long' : 'tp-leftmenu-title';\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 激活菜单项改变时向外通知\r\n     */\r\n    onActiveChange(item: TpLeftmenuItem): void {\r\n        this.activeChange.emit(item);\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 触发点击事件\r\n     */\r\n    triggerClick(item: TpLeftmenuItem): void { // TODO: 暂未开放click事件\r\n        if (typeof(item.click) === 'function') {\r\n            item.click(item);\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TiIconModule, TiLeftmenuModule } from '@cloud/tiny3';\r\nimport { TpLeftmenuComponent } from './TpLeftmenuComponent';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiIconModule,\r\n    TiLeftmenuModule\r\n  ],\r\n  exports: [TpLeftmenuComponent],\r\n  declarations: [TpLeftmenuComponent]\r\n})\r\n\r\nexport class TpLeftmenuModule {}\r\nexport { TpLeftmenuComponent, TpLeftmenuItem, TpLeftmenuConfig } from './TpLeftmenuComponent';\r\n","import {\r\n    AfterViewInit,\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    OnChanges,\r\n    OnDestroy,\r\n    OnInit,\r\n    Output,\r\n    SimpleChange,\r\n    SimpleChanges,\r\n    ElementRef,\r\n    Renderer2,\r\n    TemplateRef\r\n} from '@angular/core';\r\nimport { Util, TiBaseComponent } from '@cloud/tiny3';\r\nimport { ActivatedRoute, NavigationEnd, NavigationExtras, Router, UrlTree } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\n\r\nexport interface TpLeftmenuthinItem {\r\n    /**\r\n     * 设置当前菜单项对应的路由，与 Router.navigate方法的第一个参数一样\r\n     */\r\n    router: Array<any>;\r\n    // routerExtras?: { relativeTo?: string, queryParams?: Object, fragment?: string };\r\n    /**\r\n     * 设置当前菜单项对应路由的配置信息，与 Router.navigate方法的第二个参数一样\r\n     */\r\n    routerExtras?: NavigationExtras;\r\n    /**\r\n     * 设置一个router路由列表，当该列表中的路由被激活时，其对应的菜单项被激活处于高亮状态。\r\n     * 其使用场景为多个路由对应同一个左侧菜单项。\r\n     *\r\n     * routerList 数组中每一个元素与 Router.navigate方法的第一个参数一样\r\n     */\r\n    routerList?: Array<Array<any>>; // 数组中元素也为数组\r\n    /**\r\n     * 选项label\r\n     */\r\n    label: string;\r\n    /**\r\n     * 选项图标名称\r\n     */\r\n    iconName?: string;\r\n    /**\r\n     * 非云服务或非入库图标使用展示\r\n     *\r\n     * 10.1.0 新增\r\n     */\r\n    customizeIcon?: TemplateRef<any>;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n/**\r\n * 组件功能与leftMenu组件相似。\r\n *\r\n * <example-url>../tinyplus3demo/#/leftmenuthin/leftmenuthin-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-leftmenuthin',\r\n    templateUrl: './leftmenuthin.html',\r\n    styleUrls: ['./leftmenuthin.less']\r\n})\r\n\r\nexport class TpLeftmenuthinComponent extends TiBaseComponent {\r\n    /**\r\n     * 设置激活菜单项。接口传入的值的集合中的一个(item)\r\n     *\r\n     * 此接口是双向绑定的，设置时中括号“[]”和圆括号“()”要同时使用\r\n     */\r\n    @Input() active: TpLeftmenuthinItem;\r\n    /**\r\n     * 激活菜单项改变时向外通知\r\n     */\r\n    @Output() readonly activeChange: EventEmitter<TpLeftmenuthinItem> = new EventEmitter();\r\n    /**\r\n     * 点击菜单项触发此事件\r\n     */\r\n    @Output() readonly select: EventEmitter<TpLeftmenuthinItem> = new EventEmitter();\r\n    /**\r\n     * 控制右侧内容区的刷新\r\n     *\r\n     * 注意：当重复点击当前激活菜单项时，需要刷新右侧内容区，为了实现此功能设置了该接口；\r\n     * 该接口是双向绑定的，当重复点击当前激活菜单项时，reloadState的值会经历 true(上次的值) -> false -> true\r\n     * 的变化过程，开发者给改接口与其右侧区域容器上ngIf接口绑定的是同一个变量，所以ngIf的值也会经历同样的变化，\r\n     * 从而做到右侧内容区的刷新。\r\n     */\r\n    @Input() reloadState: boolean = true;\r\n    /**\r\n     * 菜单数据列表\r\n     */\r\n    @Input() items: Array<TpLeftmenuthinItem>;\r\n    /**\r\n     * 右侧内容区是否需要刷新的状态值改变时向外通知\r\n     */\r\n    @Output() readonly reloadStateChange: EventEmitter<boolean> = new EventEmitter();\r\n    /**\r\n     * @ignore\r\n     */\r\n    public readonly resolvedPromise: Promise<any> = Promise.resolve(null);\r\n    /**\r\n     * 标志量，是否为url改变(需要去改变active)\r\n     */\r\n    private isUrlChange: boolean = false;\r\n    private navigationSubscription: Subscription;\r\n    constructor(\r\n        private router: Router,\r\n        private activeRoute: ActivatedRoute,\r\n        protected hostRef: ElementRef, protected renderer: Renderer2 ) {\r\n            super(hostRef, renderer)\r\n    }\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        // 初始时右侧内容区默认显示，需使外部用户的reloadState值为true。\r\n        // 双向绑定数据时，对初始传入的值立即修改并传出时会报错，\r\n        // 此处参考ngModel源码setValue的处理，使用promise延后执行时序\r\n        this.resolvedPromise.then(() => {\r\n            this.reloadStateChange.emit(true);\r\n        });\r\n    }\r\n    ngAfterViewInit(): void {\r\n        // 直接输入url(刷新页面)改变状态时，leftmenu能同步修改激活状态\r\n        const urlActiveItem: TpLeftmenuthinItem = this.getActiveItemByUrl(this.items);\r\n        if (urlActiveItem) {\r\n            // 双向绑定数据时，对初始传入的值立即修改并传出时会报错，\r\n            // 此处参考ngModel源码setValue的处理，使用promise延后执行时序\r\n            this.resolvedPromise.then(() => {\r\n                if (urlActiveItem !== this.active) {\r\n                    this.isUrlChange = true;\r\n                    this.active = urlActiveItem;\r\n                    this.activeChange.emit(this.active);\r\n                }\r\n            });\r\n        } else {\r\n            this.link();\r\n        }\r\n        // 从非leftMenu处跳转改变状态时，leftmenu能同步修改激活状态\r\n        this.navigationSubscription = this.router.events.subscribe((evt: any) => {\r\n            if (evt instanceof NavigationEnd) {\r\n                const newActiveItem: TpLeftmenuthinItem = this.getActiveItemByUrl(this.items);\r\n                if (newActiveItem && newActiveItem !== this.active) {\r\n                    this.active = newActiveItem;\r\n                    this.activeChange.emit(this.active);\r\n                    this.isUrlChange = true;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        const activeObj: SimpleChange = changes['active'];\r\n        if (activeObj && !activeObj.firstChange) {\r\n            if (!this.isUrlChange) {\r\n                this.link();\r\n                this.isUrlChange = false;\r\n            } else {\r\n                this.navigate(activeObj.currentValue);\r\n            }\r\n        }\r\n    }\r\n    ngOnDestroy(): void {\r\n        if (this.navigationSubscription) {\r\n            this.navigationSubscription.unsubscribe();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 模板中使用\r\n     */\r\n    public selectFn(item: any): void {\r\n        const oldactive: TpLeftmenuthinItem = this.active;\r\n        const newactive: TpLeftmenuthinItem = item;\r\n        // 点击当前已经激活的item时，刷新对应路由\r\n        if (newactive === oldactive) {\r\n            this.triggerReload(item);\r\n        } else if (newactive !== oldactive) {\r\n            this.active = newactive;\r\n            this.navigate(item);\r\n            this.activeChange.emit(this.active);\r\n        }\r\n        this.select.emit(item);\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 点击当前选中项时，触发内容区重载\r\n     * @param item 当前点击项\r\n     */\r\n    public triggerReload(item: TpLeftmenuthinItem): void {\r\n        // 使reloadState由false变为true,配合内容区的ngIf做到内容区的重载\r\n        this.reloadStateChange.emit(false);\r\n        setTimeout(() => {\r\n            this.reloadStateChange.emit(true);\r\n            this.navigate(item);\r\n        }, 0);\r\n    }\r\n    private navigate(item: TpLeftmenuthinItem): void {\r\n        this.router.navigate(item.router, this.getNavigationExtras(item.routerExtras));\r\n    }\r\n    private getNavigationExtras(routerExtras: Object): Object {\r\n        return { relativeTo: this.activeRoute, ...routerExtras };\r\n    }\r\n    private getActiveItemByUrl(arr: Array<any>): TpLeftmenuthinItem {\r\n        let resultItem: TpLeftmenuthinItem;\r\n        for (const item of arr) {\r\n            if (this.isActived(item)) {\r\n                resultItem = item;\r\n\r\n                return resultItem;\r\n            }\r\n        }\r\n\r\n        return resultItem;\r\n    }\r\n    private isActived(item: TpLeftmenuthinItem): boolean {\r\n        const relativeRoute: NavigationExtras = this.getRelativeRoute(item.routerExtras);\r\n        if (this.isMatchCurrentUrl(item.router, relativeRoute)) {\r\n            return true;\r\n        }\r\n\r\n        if (Util.isArray(item.routerList) && item.routerList.length > 0) {\r\n            for (const router of item.routerList) {\r\n                if (this.isMatchCurrentUrl(router, relativeRoute)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n    private getRelativeRoute(routerExtras: Object): NavigationExtras {\r\n        if (!routerExtras || !routerExtras['relativeTo']) {\r\n            return { relativeTo: this.activeRoute };\r\n        }\r\n\r\n        return { relativeTo: routerExtras['relativeTo'] };\r\n    }\r\n    private isMatchCurrentUrl(router: Array<any>, relativeRoute: NavigationExtras): boolean {\r\n        if (!Util.isArray(router)) {\r\n            return false;\r\n        }\r\n        const itemUrlTree: UrlTree = this.router.createUrlTree(router, relativeRoute);\r\n\r\n        return this.router.isActive(itemUrlTree, false);\r\n    }\r\n    private link(): void {\r\n        if (this.active) {\r\n            this.navigate(this.active);\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpLeftmenuthinComponent } from './TpLeftmenuthinComponent';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\nimport { TiOutlineModule } from '@cloud/tiny3';\r\n\r\n\r\n@NgModule({\r\n  imports: [CommonModule, RouterModule, TpIconModule, TiOutlineModule],\r\n  exports: [TpLeftmenuthinComponent],\r\n  declarations: [TpLeftmenuthinComponent]\r\n})\r\n\r\nexport class TpLeftmenuthinModule {}\r\nexport { TpLeftmenuthinComponent, TpLeftmenuthinItem } from './TpLeftmenuthinComponent';\r\n","import { Component, Input } from '@angular/core';\r\nimport { TiFormComponent } from '@cloud/tiny3';\r\n\r\n/**\r\n * 链接按钮组件 linkbutton\r\n *\r\n * 该属性指令需要结合a标签使用，实现链接按钮样式\r\n *\r\n * <example-url>../tinyplus3demo/#/linkbutton/linkbutton-all</example-url>\r\n */\r\n@Component({\r\n    // tslint:disable-next-line: component-selector\r\n    selector: '[tpLinkbutton]',\r\n    templateUrl: './linkbutton.html',\r\n    styleUrls: ['./linkbutton.less']\r\n})\r\n\r\nexport class TpLinkbuttonComponent extends TiFormComponent {\r\n  // TODO: add explicit constructor\r\n\r\n  // TODO: add explicit constructor\r\n\r\n    /**\r\n     * icon名称\r\n     */\r\n    @Input() iconName: string;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpLinkbuttonComponent } from './TpLinkbuttonComponent';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, TpIconModule],\r\n  exports: [TpLinkbuttonComponent],\r\n  declarations: [TpLinkbuttonComponent]\r\n})\r\n\r\nexport class TpLinkbuttonModule {}\r\nexport { TpLinkbuttonComponent } from './TpLinkbuttonComponent';\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\nimport { TpLink } from '../crumb/TpCrumbModule';\r\n\r\nexport interface TpLinkOption {\r\n    /* tslint:disable:no-redundant-jsdoc */\r\n    /**\r\n     * 链接块的标题;\r\n     */\r\n    title?: string;\r\n    /**\r\n     * 设置链接是否为导航链接的默认样式（导航链接默认显示为蓝色）;\r\n     * @default false\r\n     */\r\n    isNavigation?: boolean;\r\n    /**\r\n     * 设置链接块是否隐藏;\r\n     * @default false\r\n     */\r\n    hide?: boolean;\r\n    /**\r\n     * 链接块的链接列表数据;\r\n     */\r\n    items?: Array<TpLinkItem>;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\nexport interface TpLinkItem extends TpLink {\r\n    /**\r\n     * 设置链接是否隐藏;\r\n     * @default false\r\n     */\r\n    hide?: boolean;\r\n}\r\n/**\r\n * 链接列表组件 linklist\r\n *\r\n * <example-url>../tinyplus3demo/#/linklist/linklist-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-linklist',\r\n    templateUrl: './linklist.html',\r\n    styleUrls: ['./linklist.less']\r\n})\r\n\r\nexport class TpLinklistComponent extends TiBaseComponent {\r\n    /**\r\n     * 组件数据\r\n     */\r\n    @Input() options: Array<TpLinkOption>;\r\n    /**\r\n     * 点击某个链接文本触发此事件\r\n     */\r\n    @Output() readonly select: EventEmitter<TpLinkItem> = new EventEmitter<TpLinkItem>();\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClick(item: TpLinkItem): boolean {\r\n        this.select.emit(item);\r\n        // 不设置链接时，阻止跳转（a标签在click事件返回值为false时，会阻止默认行为）\r\n        if (!item.href) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpLinklistComponent } from './TpLinklistComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [TpLinklistComponent],\r\n  declarations: [TpLinklistComponent]\r\n})\r\n\r\nexport class TpLinklistModule { }\r\nexport { TpLinklistComponent, TpLinkOption, TpLinkItem } from './TpLinklistComponent';\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\nimport { TiModalBodyComponent } from '@cloud/tiny3'\r\n\r\n/**\r\n *\r\n *  业务典型场景用到的弹窗组件\r\n *\r\n *  10.1.0新增\r\n *\r\n *  提供了UI规范推荐的四种尺寸的弹窗样式，还有带alert提示的弹窗和典型confirm弹窗的样式\r\n *\r\n *  10.0.4及之前的版本是以模板的形式提供(相关的样式是全局的）；10.1.0版本为了实现样式按需加载，去掉了之前的模板，将其封装在一个组件模块，所以该组件实际只提供了样式。\r\n *\r\n *  <example-url>../tinyplus3demo/#/modalbody/modalbody-all</example-url>\r\n *\r\n */\r\n@Component({\r\n    selector: 'tp-modal-body', // 兼容延用之前的样式选择器\r\n    template: '<ng-content></ng-content>',\r\n    styleUrls: ['./modalbody.less'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    host: {\r\n        '[class.ti3-modal-body]': 'true' // 1. tiny3中的 .ti3-modal-body 有些样式；2. TiModalComponent 中有通过该样式类获取dom的逻辑\r\n    }\r\n})\r\nexport class TpModalBodyComponent extends TiModalBodyComponent { }\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { TpModalBodyComponent } from './TpModalBodyComponent';\r\n\r\n@NgModule({\r\n  exports: [TpModalBodyComponent],\r\n  declarations: [TpModalBodyComponent]\r\n})\r\nexport class TpModalBodyModule {}\r\nexport { TpModalBodyComponent } from './TpModalBodyComponent';\r\n","import { ChangeDetectorRef, Component, ElementRef, Input, Renderer2, SimpleChange, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { TiBaseComponent, TiLocale, Util } from '@cloud/tiny3';\r\nimport { Subscription } from 'rxjs';\r\n\r\n/**\r\n * 该接口定义与console框架数据结构保持一致\r\n *\r\n * 10.1.0/9.1.0新增\r\n */\r\nexport interface TpRegionData {\r\n    /**\r\n     * 当前region数据，对象类型\r\n     */\r\n    region?: any;\r\n    /**\r\n     * 当前服务自行处理后支持的region列表，数组对象类型\r\n     */\r\n    supportRegions?: Array<any>;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n * 区域服务不支持页面组件\r\n *\r\n * 该组件与console框架相关，框架处理数据，组件获取数据显示；\r\n * 有些服务无法在servicecm配置支持的region列表，可通过regionData接口配置\r\n *\r\n * <b>注</b>：支持列表中的region区域是服务已配置的可支持的区域。\r\n *\r\n * <example-url>../tinyplus3demo/#/nonsupportregion/nonsupportregion-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-nonsupportregion',\r\n    templateUrl: './nonsupportregion.html',\r\n    styleUrls: ['./nonsupportregion.less']\r\n})\r\n\r\nexport class TpNonsupportregionComponent extends TiBaseComponent {\r\n    /**\r\n     * 配置当前区域数据和当前服务下支持的区域列表数据，默认数据来源于console框架getRegionData()中提供的region及supportRegions\r\n     *\r\n     * 业务侧可自行处理console框架getRegionData()中提供的区域数据后传入\r\n     *\r\n     * 10.1.0/9.1.0新增\r\n     */\r\n    @Input() regionData: TpRegionData;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('container') containerEle: ElementRef;\r\n    /**\r\n     * @ignore\r\n     */\r\n    label: string;\r\n    /**\r\n     * @ignore\r\n     */\r\n    supportRegions: Array<any>;\r\n    private regionsDataSub: Subscription;\r\n\r\n    constructor(\r\n        private elementRef: ElementRef,\r\n        private renderer2: Renderer2,\r\n        private changeDetector: ChangeDetectorRef) {\r\n        super(elementRef, renderer2);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        if (this.regionData) {\r\n            this.setViewInfo(this.regionData);\r\n\r\n            return;\r\n        }\r\n\r\n        this.setRegionsData();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        super.ngOnChanges(changes);\r\n        const regionsObj: SimpleChange = changes['regionData'];\r\n        if (regionsObj && regionsObj.currentValue && !regionsObj.isFirstChange()) {\r\n            this.setViewInfo(regionsObj.currentValue);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        super.ngOnDestroy();\r\n        if (this.regionsDataSub) {\r\n            this.regionsDataSub.unsubscribe();\r\n        }\r\n    }\r\n\r\n    private setRegionsData(): void {\r\n        if (!(window as any).cfRegionSubject) {\r\n            return;\r\n        }\r\n        this.regionsDataSub = (window as any).cfRegionSubject.subscribe({\r\n            next: (items: TpRegionData): void => {\r\n                this.setViewInfo(items);\r\n            }\r\n        });\r\n    }\r\n\r\n    private setViewInfo(items: any): void {\r\n        if (items.region && items.region.displayName) {\r\n            const displayName: any = `<span>${items.region.displayName}</span>`;\r\n            this.label = Util.formatEntry(TiLocale.getLocaleWords().tpNonsupportregion.label, [displayName]);\r\n        }\r\n        this.supportRegions = items.supportRegions;\r\n        this.changeDetector.detectChanges();\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TpNonsupportregionComponent } from './TpNonsupportregionComponent';\r\nimport { TpSupportregionlistModule } from '../supportregionlist/TpSupportregionlistModule';\r\n\r\n@NgModule({\r\n  imports: [TpSupportregionlistModule],\r\n  exports: [TpNonsupportregionComponent],\r\n  declarations: [TpNonsupportregionComponent]\r\n})\r\n\r\nexport class TpNonsupportregionModule { }\r\nexport { TpNonsupportregionComponent, TpRegionData} from './TpNonsupportregionComponent';","// tslint:disable-next-line: no-implicit-dependencies\r\nimport { Component, ElementRef, Input, Renderer2, SimpleChange, SimpleChanges, ViewChild } from '@angular/core';\r\n// tslint:disable-next-line: no-implicit-dependencies\r\nimport { TiButtongroupComponent, TiButtonItem, TiFormComponent, TiLocale, Util } from '@cloud/tiny3';\r\n\r\n/**\r\n * @ignore\r\n * 内部使用\r\n */\r\nexport interface TpPricelineRect {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n    active: boolean;\r\n    text: string;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n\r\n}\r\n/**\r\n * 价格曲线每个按钮选项数据\r\n */\r\nexport interface TpPricelineItem extends TiButtonItem {\r\n    /**\r\n     * 每个选项对应的价格\r\n     */\r\n    price: number;\r\n}\r\n\r\n/**\r\n *  价格曲线组件, 对应tiny2中btnSlider组件price-option接口配置后的功能\r\n *\r\n *  9.0.4版本新增\r\n *\r\n * <example-url>../tinyplus3demo/#/priceline/priceline-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-priceline',\r\n    templateUrl: './priceline.html',\r\n    styleUrls: ['./priceline.less'],\r\n    providers: [TiFormComponent.getValueAccessor(TpPricelineComponent)]\r\n})\r\nexport class TpPricelineComponent extends TiFormComponent {\r\n\r\n    /**\r\n     * 按钮配置数据\r\n     */\r\n    @Input() items: Array<TpPricelineItem> = [];\r\n    /**\r\n     * 设置单选按钮组是否可以取消选中\r\n     */\r\n    @Input() deselectable: boolean = false;\r\n    /**\r\n     * @ignore\r\n     * canvas 元素引用\r\n     */\r\n    @ViewChild('canvas') canvasRef: ElementRef;\r\n    /**\r\n     * @ignore\r\n     * canvas 包裹元素，\r\n     */\r\n    @ViewChild('canvasWrap') canvasWrapRef: ElementRef;\r\n    /**\r\n     * @ignore\r\n     * 按钮组\r\n     */\r\n    @ViewChild(TiButtongroupComponent) buttonGroupCom: TiButtongroupComponent;\r\n\r\n    // 当前画笔\r\n    private ctx: CanvasRenderingContext2D;\r\n    // canvas 画板的配置\r\n    private canvasOption: any;\r\n    private canvasWidth: number;\r\n    // 动画当前第几步，动画使用，\r\n    private step: number;\r\n    // 上一次的items 数据，用于动画\r\n    private previousItems: Array<any>;\r\n    // 每个背景柱子和\r\n    private rects: Array<TpPricelineRect>;\r\n    // 统计点的坐标\r\n    private x: number;\r\n    private y: number;\r\n    private lastX: number;\r\n    private lastButton: DOMRect;\r\n    // 最大价格，价格曲线可以升，最大值不是items[0].price\r\n    private maxPrice: number;\r\n    // IE11 CSSVar 补丁初始化样式的生效有延迟，initCanvas函数中获取不到主题相关的样式，所以需要定时器多次获取\r\n    private timer: any;\r\n\r\n    constructor(hostRef: ElementRef, renderer: Renderer2) {\r\n        super(hostRef, renderer);\r\n    }\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngAfterViewInit(): void {\r\n        super.ngAfterViewInit();\r\n        this.initCanvas();\r\n        if (this.canvasOption) {\r\n            // 视图渲染后修改了视图相关数据，所以使用setTimeout\r\n            setTimeout(() => {\r\n                this.draw(this.items);\r\n            }, 0);\r\n        } else {\r\n            this.timer = setInterval(() => {\r\n                this.initCanvas();\r\n                if (this.canvasOption) {\r\n                    this.draw(this.items);\r\n                    clearInterval(this.timer);\r\n                }\r\n               // 测试IE11刷新需要40ms左右完成，URL访问需要80ms左右完成，真实业务场景比较复杂取100\r\n            }, 100);\r\n        }\r\n\r\n        // tslint:disable-next-line: newline-per-chained-call\r\n        this.setFocusableElems(this.buttonGroupCom.getFocusableElems().concat(this.nativeElement));\r\n    }\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        // 价格变化\r\n        const items: SimpleChange = changes['items'];\r\n        if (items && !items.firstChange) {\r\n            this.step = 10;\r\n            this.previousItems = items.previousValue;\r\n            this.changeDraw();\r\n        }\r\n    }\r\n\r\n    onNgModelChange(data: TiButtonItem): void {\r\n        // 选中项变化，折线的标题会变化，重新绘制\r\n        if (this.model) {\r\n            this.draw(this.items);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        super.ngOnDestroy();\r\n        clearInterval(this.timer);\r\n    }\r\n    // 价格变动时重绘动画\r\n    // 实现思路，动画时间是200ms，每一次绘制间隔设置20ms，分10步绘制，\r\n    // todo 1.绘制间隔设置为16.66接近 60帧动效，2.使用 requestAnimationFrame 代替 setTimeout\r\n    private changeDraw(): void {\r\n        // 动画过程中变化的items\r\n        const currentItems: Array<TiButtonItem> = this.items.map((item: any, index: number) => {\r\n            // 重新生成一个新对象，避免修改原始数据\r\n            const newItem: TiButtonItem = { ...item };\r\n            newItem.price = newItem.price - (newItem.price - this.previousItems[index].price) * (this.step / 10);\r\n\r\n            return newItem;\r\n        });\r\n\r\n        this.draw(currentItems);\r\n        this.step--;\r\n        // 20 每一帧间隔时间20ms\r\n        setTimeout(() => {\r\n            if (this.step > -1) {\r\n                this.changeDraw();\r\n            }\r\n        }, 20);\r\n\r\n    }\r\n\r\n    // 初始化价格曲线 canvas\r\n    private initCanvas(): void {\r\n\r\n        let lineColor: string;\r\n        let color: string;\r\n        let activeColor: string;\r\n        let startColor: string;\r\n        let endColor: string;\r\n\r\n        if (Util.supportsCssVars()) {\r\n            // Chrome等支持CSSVar的浏览器，正常操作,  从CSSVar变量中取出颜色。\r\n            const cSSStyleDeclaration: CSSStyleDeclaration = getComputedStyle(document.documentElement);\r\n            lineColor = cSSStyleDeclaration.getPropertyValue('--ti-common-color-line-active');\r\n            color = cSSStyleDeclaration.getPropertyValue('--ti-common-color-text-weaken');\r\n            activeColor = cSSStyleDeclaration.getPropertyValue('--ti-common-color-text-primary');\r\n            startColor = cSSStyleDeclaration.getPropertyValue('--ti-common-color-bg-emphasize');\r\n            endColor = startColor;\r\n        } else {\r\n            // IE和低版Edge不支持CSSVar的浏览器，从一个CSS样式中取出颜色。\r\n            const cSSStyleDeclaration: CSSStyleDeclaration = getComputedStyle(this.canvasRef.nativeElement);\r\n            color = cSSStyleDeclaration.getPropertyValue('flood-color');\r\n            activeColor = cSSStyleDeclaration.getPropertyValue('lighting-color');\r\n\r\n            const cSSStyleDeclaration2: CSSStyleDeclaration = getComputedStyle(this.canvasWrapRef.nativeElement);\r\n            lineColor = cSSStyleDeclaration2.getPropertyValue('flood-color');\r\n            startColor = cSSStyleDeclaration2.getPropertyValue('lighting-color');\r\n            endColor = cSSStyleDeclaration2.getPropertyValue('stop-color');\r\n            // tslint:disable-next-line: max-line-length\r\n        }\r\n\r\n        if (!lineColor || !color || !activeColor || !startColor || !endColor) {\r\n\r\n            return;\r\n        }\r\n\r\n        // canvas曲线配置项\r\n        this.canvasOption = {\r\n            // 整个画板的高度\r\n            height: 60,\r\n            carveHeight: 40,\r\n            // 经验值，设置为1折线不平滑\r\n            lineWidth: 1.4,\r\n            // chrome  拿到的颜色有前后空格\r\n            lineColor: lineColor.trim(),\r\n            title: TiLocale.getLocaleWords().tpPriceline.carveTitle,\r\n            color: color.trim(),\r\n            titleX: 0,\r\n            titleY: 14,\r\n            fontSize: '12px',\r\n            fontFamily: 'Roboto,Microsoft YaHei,微软雅黑,Sans-serif',\r\n            activeColor: activeColor.trim(),\r\n            tagOffset: 6,\r\n            tagUnit: '/' + TiLocale.getLocaleWords().tpPriceline.tagUnit,\r\n            tagPrefix: TiLocale.getLocaleWords().tpPriceline.tagPrefix,\r\n            currency: TiLocale.getLocaleWords().tpPriceline.tagCurrency,\r\n            startColor: this.color2rgba(startColor.trim(), 0.26),\r\n            endColor: this.color2rgba(endColor.trim(), 0)\r\n        };\r\n\r\n        // 设置canvas的高度\r\n        this.renderer.setAttribute(this.canvasRef.nativeElement, 'height', this.canvasOption.height);\r\n\r\n        // 设置canvas 宽度和canvas上下文，在IE11环境 ngAfterViewInit中设置，获取宽度有误差，所以放在此处\r\n        const wrapStyles: CSSStyleDeclaration = getComputedStyle(this.canvasWrapRef.nativeElement);\r\n        this.canvasWidth = parseInt(wrapStyles.width, 10);\r\n        this.renderer.setAttribute(this.canvasRef.nativeElement, 'width', String(this.canvasWidth));\r\n\r\n        this.ctx = (this.canvasRef.nativeElement as HTMLCanvasElement).getContext('2d');\r\n    }\r\n\r\n    // ie11 canvas 渐变透明不支持# 开头的八位颜色写法，所有需要转化成rgba表示形式\r\n    // tslint:disable-next-line: prefer-function-over-method\r\n    private color2rgba(hex: string, alpha?: number): string {\r\n        const colorRegex: RegExp = /^#?[a-fA-F0-9]+$/;\r\n        if (!colorRegex.test(hex) || hex.length !== 7) {\r\n            return hex;\r\n        }\r\n        const values: Array<number> = [\r\n            parseInt(hex.slice(1, 3), 16),\r\n            parseInt(hex.slice(3, 5), 16),\r\n            parseInt(hex.slice(5), 16)\r\n        ];\r\n        if (alpha >= 0 && alpha <= 1) {\r\n            values.push(alpha);\r\n        } else {\r\n            values.push(1);\r\n        }\r\n\r\n        return `rgba(${values.join(',')})`;\r\n    }\r\n    // 画图实现思路：1 获取按钮的位置和宽度，2.根据按钮的位置宽度和items中的price数据，在每个价格变化时生成一个记录对象放在rects中，\r\n    // 3. 根据记录的对象数组rects, 先画矩形背景和价格标签，4. 再根据rects画折线\r\n    private draw(items: Array<any>): void {\r\n        if (!items || items.length < 2 || !this.canvasOption) {\r\n            return;\r\n        }\r\n        // 每次重绘前清空画板\r\n        this.ctx.clearRect(0, 0, this.canvasWidth, this.canvasOption.height);\r\n        this.rects = [];\r\n        this.x = 0;\r\n        this.lastX = 0;\r\n        this.maxPrice = items[0].price;\r\n        // tslint:disable-next-line: prefer-for-of\r\n        for (let index: number = 1; index < this.items.length; index++) {\r\n            if (items[index].price > this.maxPrice) {\r\n                this.maxPrice = items[index].price;\r\n            }\r\n        }\r\n        this.y = this.canvasOption.height - this.canvasOption.carveHeight * items[0].price / this.maxPrice;\r\n\r\n        const buttons: NodeListOf<Element> = (this.nativeElement as HTMLElement).querySelectorAll('.ti3-btn-item-radio');\r\n        //  曲线图的背景和选择按钮的的\r\n        this.lastButton = buttons[0].getBoundingClientRect();\r\n\r\n        // 画标题\r\n        this.drawText({\r\n            x: this.canvasOption.titleX,\r\n            y: this.canvasOption.titleY,\r\n            text: this.canvasOption.title\r\n        });\r\n\r\n        // 遍历按钮数据\r\n        const len: number = this.items.length;\r\n        for (let index: number = 1; index < len; index++) {\r\n\r\n            // 不是最后一条并且价格没有变化，不需要处理\r\n            if (index !== len - 1 && this.items[index].price === this.items[index - 1].price) {\r\n                continue;\r\n            }\r\n\r\n            const button: DOMRect = buttons[index].getBoundingClientRect();\r\n            // 最后一条数据，有价格变化，需要画2次\r\n            if (index === len - 1 && items[index].price !== items[index - 1].price) {\r\n                this.x = this.x + (button.left - this.lastButton.left);\r\n                this.record(items, index);\r\n                // 最后一次\r\n                this.lastX = this.x;\r\n                this.y = this.canvasOption.height - this.getCurrentHeight(items[index].price, items);\r\n                this.lastButton = button;\r\n                this.x = this.x + button.width;\r\n                this.record(items, index, true);\r\n                // 最后一个数据没有价格变化\r\n            } else if (index === len - 1 && items[index].price === items[index - 1].price) {\r\n                this.x = this.x + ((button.left + button.width) - this.lastButton.left);\r\n                this.record(items, index, true);\r\n                // 中间的按钮数据\r\n            } else {\r\n                this.x = this.x + button.left - this.lastButton.left;\r\n                this.record(items, index);\r\n                this.lastX = this.x;\r\n                this.y = this.canvasOption.height - this.getCurrentHeight(items[index].price, items);\r\n                this.lastButton = button;\r\n            }\r\n\r\n        }\r\n\r\n        // 画柱状背景和标题\r\n        this.rects.forEach((rect: TpPricelineRect) => {\r\n            this.drawRect(rect);\r\n        });\r\n\r\n        // 画折线\r\n        this.drawLine(this.ctx, { width: this.canvasOption.lineWidth, color: this.canvasOption.lineColor });\r\n    }\r\n\r\n    // 根据第一个按钮数据的价格计算当前价格柱状高度\r\n    private getCurrentHeight(curPrice: number, items: Array<any>): number {\r\n        return this.canvasOption.carveHeight * curPrice / this.maxPrice;\r\n    }\r\n\r\n    // 每一步遍历数据，记录一个配置点\r\n    private record(items: Array<any>, currrentIndex: number, isEnd?: boolean): void {\r\n        const price: number = this.items[isEnd ? currrentIndex : currrentIndex - 1].price;\r\n        // 柱状背景\r\n        const rectOption: TpPricelineRect = {\r\n            x: this.lastX,\r\n            y: this.y,\r\n            width: isEnd ? (this.x - this.lastX) : (this.x - this.lastX - 2),\r\n            height: this.canvasOption.height - this.y,\r\n            // tslint:disable-next-line: max-line-length\r\n            text: `${this.rects.length === 0 ? this.canvasOption.tagPrefix : ''}${this.canvasOption.currency}${price.toFixed(2)}${this.canvasOption.tagUnit}`,\r\n            active: price === this.model.price\r\n        };\r\n        this.rects.push(rectOption);\r\n    }\r\n\r\n    // canvas 画文字\r\n    private drawText(config: any): void {\r\n        const option: any = {\r\n            offset: this.canvasOption.tagOffset,\r\n            color: this.canvasOption.color,\r\n            fontSize: this.canvasOption.fontSize,\r\n            fontFamily: this.canvasOption.fontFamily,\r\n            ...config\r\n        };\r\n\r\n        this.ctx.fillStyle = option.active ? this.canvasOption.activeColor : this.canvasOption.color;\r\n        // font 同时设置字体大小和字体时，需用空格隔开\r\n        this.ctx.font = `${option.fontSize} ${option.fontFamily}`;\r\n\r\n        if (option.alignRight) {\r\n            const textMetrics: TextMetrics = this.ctx.measureText(option.text);\r\n            option.x = (option.x + option.width) - textMetrics.width;\r\n            option.y = option.y - 6;\r\n        }\r\n        this.ctx.fillText(option.text, option.x, option.y);\r\n    }\r\n    // 画线\r\n    private drawLine(ctx: CanvasRenderingContext2D, option: { width: number, color: string }): void {\r\n        ctx.lineJoin = 'round';\r\n        ctx.lineWidth = option.width;\r\n        ctx.strokeStyle = option.color;\r\n        ctx.beginPath();\r\n\r\n        for (let index: number = 0; index < this.rects.length; index++) {\r\n            const rect: TpPricelineRect = this.rects[index];\r\n\r\n            // 第一个矩形，从起点开始\r\n            if (index === 0) {\r\n                ctx.moveTo(Math.round(rect.x), Math.round(rect.y));\r\n            } else {\r\n                // 非第一个，竖线部分\r\n                ctx.lineTo(Math.round(rect.x - 1), Math.round(rect.y));\r\n            }\r\n            // 矩形的左边到右边\r\n            ctx.lineTo(Math.round(rect.x + rect.width + 1), Math.round(rect.y));\r\n        }\r\n\r\n        ctx.stroke();\r\n    }\r\n    // 画背景和文字\r\n    private drawRect(option: TpPricelineRect): void {\r\n        // tslint:disable-next-line: max-line-length\r\n        const canvasGradient: CanvasGradient = this.ctx.createLinearGradient(0, this.canvasOption.height - this.canvasOption.carveHeight, 0, this.canvasOption.height);\r\n        canvasGradient.addColorStop(0, this.canvasOption.startColor);\r\n        canvasGradient.addColorStop(1, this.canvasOption.endColor);\r\n        this.ctx.fillStyle = canvasGradient;\r\n        this.ctx.fillRect(option.x, option.y, option.width, option.height);\r\n        this.drawText({ ...option, alignRight: true });\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TpPricelineComponent } from './TpPricelineComponent';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TiButtongroupModule } from '@cloud/tiny3';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  imports:[\r\n    CommonModule,\r\n    FormsModule,\r\n    TiButtongroupModule\r\n  ],\r\n  exports: [TpPricelineComponent],\r\n  declarations: [TpPricelineComponent]\r\n})\r\n\r\nexport class TpPricelineModule {}\r\nexport { TpPricelineComponent, TpPricelineItem } from './TpPricelineComponent';\r\n","import { AfterViewInit, Component, ElementRef, Input, OnChanges, OnInit, Renderer2, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { TiFilePreviewInfo, TiImagepreviewComponent, TiModalService , TiBaseComponent} from '@cloud/tiny3';\r\n\r\n/**\r\n * 商品预览组件\r\n *\r\n * 该组件用来展示商品的预览内容，包括上方的主预览图和下方的缩略图\r\n *\r\n * 10.0.3 增加\r\n *\r\n * <example-url>../tinyplus3demo/#/productpreview/productpreview-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-productpreview',\r\n    templateUrl: './productpreview.html',\r\n    styleUrls: ['./productpreview.less']\r\n})\r\nexport class TpProductpreviewComponent extends TiBaseComponent implements OnInit, OnChanges, AfterViewInit {\r\n    /**\r\n     * 每页显示的小图个数\r\n     */\r\n    private static readonly ITEM_PER_PAGE: number = 4;\r\n\r\n    /**\r\n     * 预览文件列表\r\n     */\r\n    @Input() files: Array<TiFilePreviewInfo> = [];\r\n\r\n    /**\r\n     * @ignore\r\n     * 缩略图列表，翻页时重新设置\r\n     */\r\n    public thumbList: Array<TiFilePreviewInfo> = [];\r\n\r\n    /**\r\n     * @ignore 记录当前预览的商品索引\r\n     */\r\n    public currentPreviewIndex: number = -1;\r\n\r\n    /**\r\n     * @ignore 缩略图当前页\r\n     */\r\n    public currentThumbPage: number = 1;\r\n\r\n    /**\r\n     * @ignore 缩略图总页数\r\n     *\r\n     */\r\n    public totalThumbPage: number = 1;\r\n\r\n    /**\r\n     * @ignore 内部变量\r\n     */\r\n    @ViewChild('productThumb') productThumbEle: ElementRef;\r\n\r\n    constructor(private tiModal: TiModalService, private render: Renderer2, private hostEleRef: ElementRef) {\r\n        super(hostEleRef, render);\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        this.render.addClass(this.productThumbEle.nativeElement.children[0], 'tp-product-preview-thumb-item-active');\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.files && changes.files.firstChange === false) {\r\n            this.files = changes.files.currentValue;\r\n            this.initThumb();\r\n            if (this.productThumbEle) {\r\n                this.setThumbList();\r\n            }\r\n            // 确保files接口变化时，第一个缩略图的选中样式生效\r\n            setTimeout((): void => {\r\n                if (this.productThumbEle) {\r\n                    this.render.addClass(this.productThumbEle.nativeElement.children[0], 'tp-product-preview-thumb-item-active');\r\n                }\r\n            }, 0);\r\n        }\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.initThumb();\r\n    }\r\n\r\n    /**\r\n     * 初始化缩略图相关变量\r\n     */\r\n    private initThumb(): void {\r\n        if (this.files && this.files.length > 0) {\r\n            this.currentPreviewIndex = 0;\r\n            // 计算总页数\r\n            this.totalThumbPage = Math.ceil(this.files.length / TpProductpreviewComponent.ITEM_PER_PAGE);\r\n            this.currentThumbPage = 1;\r\n            this.files.length >= TpProductpreviewComponent.ITEM_PER_PAGE ?\r\n                this.thumbList = this.files.slice(0, TpProductpreviewComponent.ITEM_PER_PAGE) : this.thumbList = this.files;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore 主图查看\r\n     * @param event: 事件\r\n     * @param index: 当前选中项在this.thumbList中的索引,this.thumbList中始终只有4项\r\n     */\r\n    onMouseenterThumb(event: any, index: number): void {\r\n        this.currentPreviewIndex = (this.currentThumbPage - 1) * TpProductpreviewComponent.ITEM_PER_PAGE + index ;\r\n        // 计算最后一页的缩略图个数\r\n        const thumbItemNumber: number = this.files.length % TpProductpreviewComponent.ITEM_PER_PAGE;\r\n        // 如果是最后一页，且最后一页不满4个\r\n        if (this.totalThumbPage > 1 && this.currentThumbPage === this.totalThumbPage && thumbItemNumber !== 0) {\r\n            this.currentPreviewIndex -= (TpProductpreviewComponent.ITEM_PER_PAGE - thumbItemNumber);\r\n        }\r\n\r\n        // 设置选中样式\r\n        const thumbItemEles: any = this.productThumbEle.nativeElement.children;\r\n        for (const item of thumbItemEles) {\r\n            this.render.removeClass(item, 'tp-product-preview-thumb-item-active');\r\n        }\r\n        this.render.addClass(event.target.parentElement, 'tp-product-preview-thumb-item-active');\r\n    }\r\n\r\n    /**\r\n     * @ignore 弹框中预览大图\r\n     */\r\n    onClickMain(event: any): void {\r\n        this.tiModal.open(TiImagepreviewComponent, {\r\n            id: this.id + '_productPreviewModal',\r\n            modalClass: 'tp-product-preview-modal',\r\n            context: {\r\n                index: this.currentPreviewIndex, // 当前文件索引\r\n                fileList: this.files, // 预览列表\r\n                id: this.id // 传递id\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @ignore 缩略图上一页\r\n     */\r\n    prev(): void {\r\n        if (this.currentThumbPage === 1) {\r\n            return;\r\n        }\r\n        this.currentThumbPage--;\r\n        this.setThumbList();\r\n    }\r\n\r\n    /**\r\n     * @ignore 缩略图下一页\r\n     */\r\n    next(): void {\r\n        if (this.currentThumbPage === this.totalThumbPage) {\r\n            return;\r\n        }\r\n        this.currentThumbPage++;\r\n        this.setThumbList();\r\n    }\r\n\r\n    /**\r\n     * 设置缩略图列表\r\n     */\r\n    private setThumbList(): void {\r\n        // undefined、null、false、string情况下，不处理\r\n        if (!this.files || typeof this.files === 'string' || (this.files && this.files.slice === undefined)) {\r\n            return;\r\n        }\r\n        // tslint:disable-next-line: max-line-length\r\n        this.thumbList = this.files.slice((this.currentThumbPage - 1) * TpProductpreviewComponent.ITEM_PER_PAGE, this.currentThumbPage * TpProductpreviewComponent.ITEM_PER_PAGE);\r\n\r\n        // 计算最后一页的缩略图个数\r\n        const thumbItemNumber: number = this.files.length % TpProductpreviewComponent.ITEM_PER_PAGE;\r\n        if (this.totalThumbPage > 1 && this.currentThumbPage === this.totalThumbPage && thumbItemNumber !== 0) {\r\n            this.thumbList = this.files.slice(this.files.length - TpProductpreviewComponent.ITEM_PER_PAGE, this.files.length);\r\n        }\r\n\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TiIconModule, TiImagepreviewModule, TiModalModule, TiZoomModule, TiOutlineModule } from '@cloud/tiny3';\r\n\r\nimport { TpProductpreviewComponent } from './TpProductpreviewComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiImagepreviewModule,\r\n    TiIconModule,\r\n    TiModalModule,\r\n    TiZoomModule,\r\n    TiOutlineModule\r\n  ],\r\n  exports: [TpProductpreviewComponent],\r\n  declarations: [TpProductpreviewComponent]\r\n})\r\nexport class TpProductpreviewModule {}\r\nexport { TpProductpreviewComponent } from './TpProductpreviewComponent';\r\n","import { Component, Input, SimpleChanges } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n\r\n/**\r\n * 进度条提示类型，percent-百分数 fraction-分数\r\n */\r\nexport type TpProgressbarLabelType = 'percent' | 'fraction';\r\n\r\n/**\r\n * @ignore\r\n * 内部使用\r\n */\r\nexport type TpProgressbarWarnLevel = 'normal' | 'warn' | 'alarm';\r\n\r\n/**\r\n *  进度条组件\r\n *\r\n *  本组件是ti-progressbar 的业务封装，有2种使用场景：\r\n *\r\n *  1.无预警：进度条[必选]+百分比或分数[必选]\r\n *\r\n *  2.有预警：进度条[必选]+百分比或分数[必选]\r\n *\r\n *  场景2设置了warn 和 alarm 接口后生效\r\n *\r\n *  10.0.1 新增\r\n *\r\n * <example-url>../tinyplus3demo/#/progressbar/progressbar-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-progressbar',\r\n    templateUrl: './progressbar.html',\r\n    styleUrls: ['./progressbar.less']\r\n})\r\nexport class TpProgressbarComponent extends TiBaseComponent {\r\n    /**\r\n     * label 显示类型，\r\n     */\r\n    @Input() labelType: TpProgressbarLabelType = 'percent';\r\n    /**\r\n     * 当前值\r\n     */\r\n    @Input() value: number;\r\n    /**\r\n     * 最大值\r\n     */\r\n    @Input() max: number;\r\n    /**\r\n     * 橙色（告警）的临界值,\r\n     */\r\n    @Input() warn: number;\r\n    /**\r\n     * 红色（告警）的临界值\r\n     */\r\n    @Input() alarm: number;\r\n    /**\r\n     * label单位\r\n     */\r\n    @Input() unit: string;\r\n    /**\r\n     * @ignore\r\n     * 预警类型样式类别\r\n     */\r\n    public warnLevel: TpProgressbarWarnLevel;\r\n\r\n    /**\r\n     * @ignore\r\n     * 显示文字内容\r\n     */\r\n    public label: string;\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.updateLabel();\r\n        this.updateWarnLevel();\r\n    }\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        super.ngOnChanges(changes);\r\n\r\n        if (changes['value'] && !changes['value'].firstChange ||\r\n            (changes['warn'] && !changes['warn'].firstChange) ||\r\n            changes['alarm'] && !changes['alarm'].firstChange) {\r\n            this.updateLabel();\r\n            this.updateWarnLevel();\r\n        }\r\n        if (changes['labelType'] && !changes['labelType'].firstChange) {\r\n            this.updateLabel();\r\n        }\r\n    }\r\n\r\n    private updateWarnLevel(): void {\r\n        if (this.warn && this.alarm) {\r\n            if (this.value > this.alarm) {\r\n                this.warnLevel = 'alarm';\r\n            } else if (this.value > this.warn) {\r\n                this.warnLevel = 'warn';\r\n            } else {\r\n                this.warnLevel = 'normal';\r\n            }\r\n        }\r\n    }\r\n\r\n    private updateLabel(): void {\r\n        // 百分比保留两位小数\r\n        this.label = this.labelType === 'percent' ? `${Math.round(this.value / this.max * 10000) / 100}%` : `${this.value}/${this.max}`;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpProgressbarComponent } from './TpProgressbarComponent';\r\nimport { TiProgressbarModule } from '@cloud/tiny3';\r\n\r\n@NgModule({\r\n  imports: [\r\n      CommonModule,\r\n      TiProgressbarModule\r\n  ],\r\n  exports: [TpProgressbarComponent],\r\n  declarations: [TpProgressbarComponent]\r\n})\r\nexport class TpProgressbarModule {}\r\nexport { TpProgressbarComponent, TpProgressbarLabelType } from './TpProgressbarComponent';\r\n","import { Component, EventEmitter, Input, Output, SimpleChanges } from '@angular/core';\r\nimport { TiBaseComponent, Util } from '@cloud/tiny3';\r\nimport { TpDiscoutsConfig } from '../discounts/TpDiscountsModule';\r\n\r\nexport interface TpHelpOptions {\r\n    /**\r\n     * 提示说明文本\r\n     */\r\n    iconTip: string;\r\n    /**\r\n     * 提示框最大宽度\r\n     */\r\n    iconTipMaxWidth?: string;\r\n    /**\r\n     * 提示语方向\r\n     */\r\n    iconTipPosition?: string;\r\n}\r\n\r\n/**\r\n * 购买清单组件\r\n * <example-url>../tinyplus3demo/#/purchaselist/purchaselist-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-purchaselist',\r\n    templateUrl: './purchaselist.html',\r\n    styleUrls: ['./purchaselist.less']\r\n})\r\n\r\nexport class TpPurchaselistComponent extends TiBaseComponent {\r\n    /**\r\n     * 购物清单名称\r\n     */\r\n    @Input() purchaseTitle: string;\r\n    /**\r\n     * 是否存在一键清空功能\r\n     */\r\n    @Input() enableClear: boolean = true;\r\n    /**\r\n     * 费用总金额\r\n     */\r\n    @Input() totalPrice: number = 0;\r\n    /**\r\n     * 优惠金额\r\n     */\r\n    @Input() discountPrice: number = 0;\r\n    /**\r\n     * 货币精度设置接口\r\n     * 自定义保留位数，例如：1.2-4，表示整数部分最少保留1位，小数部分最小保留2位，小数部分最大保留4位。\r\n     * 默认值取自各局点\r\n     */\r\n    @Input() numFormat: string;\r\n    /**\r\n     * 优惠详情配置接口。参考discounts组件\r\n     */\r\n    @Input() purchaseDiscoutsConfig: TpDiscoutsConfig;\r\n    /**\r\n     * @ignore\r\n     * 清单是否没有商品\r\n     */\r\n    @Input() hasNodata: boolean;\r\n    /**\r\n     * tip配置\r\n     */\r\n    @Input() helpOptions: TpHelpOptions;\r\n    /**\r\n     * 底部协议部分\r\n     */\r\n    @Input() footerProtocol: string;\r\n    /**\r\n     * 底部温馨提示语部分\r\n     */\r\n    @Input() footerPrompt: string;\r\n    /**\r\n     * 订单确认按钮文本\r\n     */\r\n    @Input() buttonText: string;\r\n    /**\r\n     * 用户可根据实际场景决定确认按钮是否禁用（比如未实名认证等）\r\n     *\r\n     * 10.1.1新增接口\r\n     */\r\n    @Input() buttonDisabled: boolean = true;\r\n    /**\r\n     * 采购产品数量统计\r\n     */\r\n    @Input() total: number = 0;\r\n    /**\r\n     * 订单确认按钮点击事件\r\n     */\r\n    @Output() readonly confirm: EventEmitter<any> = new EventEmitter();\r\n    /**\r\n     * 头部一键清空按钮点击事件\r\n     */\r\n    @Output() readonly clear: EventEmitter<any> = new EventEmitter();\r\n    /**\r\n     * 可选优惠项切换选择项时触发\r\n     *\r\n     * 10.1.2 新增接口\r\n     */\r\n    @Output() readonly discountChange: EventEmitter<any> = new EventEmitter();\r\n    /**\r\n     * @ignore\r\n     */\r\n    public emptyText: string = '--';\r\n    /**\r\n     * @ignore\r\n     * 协议是否勾选\r\n     */\r\n    public checked: boolean = false;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public discountsChange($event: any) {\r\n        this.discountChange.emit($event);\r\n    }\r\n    onCheckboxNgModelChange(model: boolean) {\r\n        // Todo 禁用tip\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 确认按钮点击触发\r\n     */\r\n    public clickFn(): void {\r\n        this.confirm.emit();\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 一键清空\r\n     */\r\n    public clearFn(): void {\r\n        this.clear.emit();\r\n    }\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n/**\r\n * <example-url>../tinyplus3demo/#/purchaselist/purchaselist-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-purchaseheader-item',\r\n    templateUrl: './purchaseitem.html',\r\n    styleUrls: ['./purchaselist-item.less']\r\n})\r\n\r\nexport class TpPurchaseitemComponent extends TiBaseComponent {\r\n    /**\r\n     * 商品信息是否带有region\r\n     */\r\n    @Input() hasArea: boolean = false;\r\n    /**\r\n     * 单个产品右侧叉号点击事件\r\n     */\r\n    @Output() readonly close: EventEmitter<any> = new EventEmitter();\r\n    /**\r\n     * @ignore\r\n     */\r\n    public closeFn(): void {\r\n        this.close.emit();\r\n    }\r\n}\r\n","import { Component } from '@angular/core';\r\n/**\r\n * <example-url>../tinyplus3demo/#/purchaselist/purchaselist-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-purchase-nodata',\r\n    templateUrl: './purchase-nodata.html',\r\n    styleUrls: ['./purchaselist-nodata.less']\r\n})\r\n\r\nexport class TpPurchaseNodataComponent {\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TiLocaleModule, TiCheckboxModule, TiButtonModule, TiOutlineModule } from '@cloud/tiny3';\r\nimport { TpLocaleModule } from '../../pipes/locale/TpLocaleModule';\r\nimport { TpPurchaselistComponent } from './TpPurchaselistComponent';\r\nimport { TpPurchaseitemComponent } from './TpPurchaseitemComponent';\r\nimport { TpPurchaseNodataComponent } from './TpPurchaseNodataComponent';\r\nimport { TpDiscountsModule } from '../discounts/TpDiscountsModule';\r\nimport { TpHelptipModule } from '../helptip/TpHelptipModule';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\n@NgModule({\r\n  imports: [TiButtonModule,\r\n            CommonModule,\r\n            FormsModule,\r\n            TpIconModule,\r\n            TpLocaleModule,\r\n            TiLocaleModule,\r\n            TpDiscountsModule,\r\n            TpHelptipModule,\r\n            TiOutlineModule,\r\n            TiCheckboxModule],\r\n  exports: [TpPurchaselistComponent, TpPurchaseitemComponent, TpPurchaseNodataComponent],\r\n  declarations: [TpPurchaselistComponent, TpPurchaseitemComponent, TpPurchaseNodataComponent]\r\n})\r\n\r\nexport class TpPurchaselistModule {}\r\nexport { TpHelpOptions, TpPurchaselistComponent } from './TpPurchaselistComponent';\r\nexport { TpPurchaseitemComponent } from './TpPurchaseitemComponent';\r\nexport { TpPurchaseNodataComponent } from './TpPurchaseNodataComponent';\r\n","import { Component, ContentChild, EventEmitter, Input, Output, TemplateRef } from '@angular/core';\r\n\r\nimport { TiBaseComponent, TiLocale, TiPositionType } from '@cloud/tiny3';\r\n\r\nexport interface TpRecommendItem {\r\n    /**\r\n     * 显示的区域名称\r\n     */\r\n    displayName: string;\r\n    /**\r\n     * 资源数量\r\n     */\r\n    num?: number;\r\n    /**\r\n     * tip提示的内容\r\n     */\r\n    tip?: string | TemplateRef<any>;\r\n    /**\r\n     * tip提示方位\r\n     */\r\n    tipPosition?: TiPositionType;\r\n    /**\r\n     * 是否显示资源数量，默认显示\r\n     */\r\n    showNum?: boolean;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n * 推荐组件，优先向用户推荐可用区中的某些区域\r\n *\r\n * <example-url>../tinyplus3demo/#/recommend/recommend-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-recommend',\r\n    templateUrl: './recommend.html',\r\n    styleUrls: ['./recommend.less'],\r\n    // host: {\r\n    //     '[class.tp-recommend-wrapper]': 'true'\r\n    // }\r\n})\r\n\r\nexport class TpRecommendComponent extends TiBaseComponent {\r\n    /**\r\n     * 供选择的数据\r\n     */\r\n    @Input() items: Array<TpRecommendItem>;\r\n    /**\r\n     * 组件左侧的文本\r\n     */\r\n    @Input() label: string;\r\n    /**\r\n     * 选中事件，点击某项时向外通知该选中项\r\n     */\r\n    @Output() readonly select: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * @ignore\r\n     * 自定义item左侧的DOM\r\n     */\r\n    @ContentChild('beforeItem', { static: true }) beforeItemTemplate: TemplateRef<any>;\r\n\r\n    /**\r\n     * @ignore 处理资源数量\r\n     */\r\n    public getNum(num: number): string {\r\n        return num > 99 ? '99+' : String(num);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public clickFn(item: any): void {\r\n        this.select.emit(item);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.label = this.label || TiLocale.getLocaleWords().tpRecommend.label;\r\n    }\r\n}\r\n","import { Component, ContentChild, Input, TemplateRef } from \"@angular/core\";\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n/**\r\n * @ignore\r\n * 规范提出，云业务通用场景不会使用该组件，10.1.3起，在官网隐藏该组件。\r\n *\r\n * 智能提示组件\r\n *\r\n * <example-url>../tinyplus3demo/#/smartalert/smartalert-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-smartalert',\r\n    templateUrl: 'smartalert.html',\r\n    styleUrls: ['./smartalert.less']\r\n})\r\n\r\nexport class TpSmartalertComponent extends TiBaseComponent {\r\n    /**\r\n     * 提示类型\r\n     */\r\n    @Input() type: 'prompt' | 'warn' | 'error' = 'prompt';\r\n    /**\r\n     * 样式大小\r\n     */\r\n    @Input() size: 'normal' | 'small' = 'normal';\r\n    /**\r\n     * 边框一直显示或是悬浮显示\r\n     */\r\n    @Input() border: 'always' | 'hover' = 'always';\r\n    /**\r\n     * @ignore 自定义左侧图标\r\n     */\r\n    @ContentChild('leftIcon', { static: true }) leftIconTemplate: TemplateRef<any>;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TpSmartalertComponent } from './TpSmartalertComponent';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TiIconModule } from '@cloud/tiny3';\r\n/**\r\n * @ignore\r\n * 规范提出，云业务通用场景不会使用该组件，10.1.3起，在官网隐藏该组件。\r\n */\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiIconModule\r\n  ],\r\n  exports: [TpSmartalertComponent],\r\n  declarations: [TpSmartalertComponent]\r\n})\r\n\r\nexport class TpSmartalertModule {}\r\nexport { TpSmartalertComponent } from './TpSmartalertComponent';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TpRecommendComponent } from './TpRecommendComponent';\r\n\r\nimport { TpSmartalertModule } from '../smartalert/TpSmartalertModule';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\nimport { TiOverflowModule, TiTipModule, TiOutlineModule } from '@cloud/tiny3';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TpSmartalertModule,\r\n    TiTipModule,\r\n    TiOverflowModule,\r\n    TpIconModule,\r\n    TiOutlineModule\r\n  ],\r\n  exports: [TpRecommendComponent],\r\n  declarations: [TpRecommendComponent]\r\n})\r\n\r\nexport class TpRecommendModule {}\r\nexport { TpRecommendComponent, TpRecommendItem } from './TpRecommendComponent';\r\n","import { Component, ContentChild, EventEmitter, Input, Output, SimpleChanges, TemplateRef, ViewChild } from '@angular/core';\r\nimport { TiDominatorComponent, TiDropComponent, TiDroplistComponent, TiFormComponent, TiLocale } from '@cloud/tiny3';\r\n\r\nexport interface TpRegionItem {\r\n    /**\r\n     * 当前大区的名称文本\r\n     */\r\n    displayName: string;\r\n    /**\r\n     * 大区的一组地区\r\n     */\r\n    regions?: Array<TpRegion>;\r\n    /**\r\n     * 大区的另一组地区，亚太区下某些需要特殊处理的区域\r\n     */\r\n    special?: Array<TpRegion>;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\nexport interface TpRegion {\r\n    /**\r\n     * 当前区域的名称\r\n     */\r\n    displayName: string;\r\n    disabled?: boolean;\r\n    tipContent?: string;\r\n    tipPosition?: string;\r\n    /**\r\n     * 灰化的原因\r\n     */\r\n    title?: string;\r\n    /**\r\n     * 设置选项的标志块\r\n     *\r\n     * 对象类型，包含两个属性:1.text: 显示的文本；2.class:标志的样式；eg:{text: string; class: string}\r\n     */\r\n    sup?: {\r\n        text?: string;\r\n        class?: string;\r\n        /**\r\n         * 允许有多余的属性字段\r\n         */\r\n        [propName: string]: any;\r\n    };\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n * 区域选择组件\r\n *\r\n * 组件提供了[TpRegionUtil]{@link ../classes/TpRegionUtil.html}供某些业务处理数据。\r\n *\r\n * <example-url>../tinyplus3demo/#/region/region-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-region',\r\n    templateUrl: './region.html',\r\n    styleUrls: ['./region.less'],\r\n    providers: [TiFormComponent.getValueAccessor(TpRegionComponent)],\r\n    host: {\r\n        '(blur)': 'onBlur()'\r\n    }\r\n})\r\n// TODO：和Select有重复代码，未来设法消除。\r\nexport class TpRegionComponent extends TiFormComponent {\r\n  // TODO: add explicit constructor\r\n\r\n  // TODO: add explicit constructor\r\n\r\n    /**\r\n     * 下拉面板展示的数据列表\r\n     */\r\n    @Input() items: Array<TpRegionItem>;\r\n    /**\r\n     * 预留文本\r\n     */\r\n    // tslint:disable-next-line: no-input-rename\r\n    @Input('placeholder') placeholderText: string;\r\n    /**\r\n     * 选中事件，选中项没有变化\r\n     */\r\n    @Output() readonly select: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * 选中事件，选中项变化\r\n     */\r\n    // @Output() readonly change: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild(TiDominatorComponent, { static: true }) TiDominatorCom: TiDominatorComponent;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild(TiDropComponent, {static: false}) dropCom: TiDropComponent;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild(TiDroplistComponent, {static: false}) droplistCom: TiDroplistComponent;\r\n    /**\r\n     * @ignore\r\n     * 获取到用户自定义的按钮标志模板\r\n     */\r\n    @ContentChild('sup', { static: true }) public supTemplate: TemplateRef<any>;\r\n   /**\r\n    * @ignore\r\n    * 灰化时默认提示文本\r\n    */\r\n    public dafaultDisableReason: string = TiLocale.getLocaleWords().tpRegion.unSupport;\r\n    /**\r\n     * @ignore\r\n     * 是否为ctc局点，面板结构类似于hws，选块较小\r\n     */\r\n    public isSmallItem: boolean = TiLocale.getLocaleWords().tpRegionSmallItem;\r\n    /**\r\n     * @ignore\r\n     * 是否为非hws非ctc局点，面板使用droplist，以select形式呈现\r\n     */\r\n    public isUseDroplist: boolean = TiLocale.getLocaleWords().tpRegionSelectStyle;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public selectedItem: TpRegionItem;\r\n    // ngOnInit(): void {\r\n    //     // TODO：兼容disable和disabled\r\n    // }\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes['items']?.currentValue?.length > 0 && this.model) {\r\n            this.loopItemsFindSelectedItem();\r\n        }\r\n    }\r\n    ngAfterViewInit(): void {\r\n        super.ngAfterViewInit();\r\n        if (this.isUseDroplist) {\r\n            this.setFocusableElems(this.TiDominatorCom.getFocusableElems());\r\n        } else {\r\n            this.setFocusableElems(this.TiDominatorCom.getFocusableElems()\r\n            .concat(this.dropCom.nativeElement));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    ngOnModelChange(): void {\r\n        if (this.model && this.items?.length > 0) {\r\n            this.loopItemsFindSelectedItem();\r\n        } else {\r\n            this.selectedItem = undefined;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onMousedown(event: MouseEvent): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        this.togglePanel();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClick(item: any, event: MouseEvent): void {\r\n        if (item.disabled) {\r\n            // 防止dominator 失焦blur\r\n            event.preventDefault();\r\n\r\n            return;\r\n        }\r\n        if (!this.model || this.model !== item) {\r\n            this.model = item;\r\n        } else {\r\n            this.select.emit(item);\r\n        }\r\n        this.dropCom.hide();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onBlur(): void {\r\n        this.dropCom && this.dropCom.hide();\r\n        this.droplistCom && this.droplistCom.hide();\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 记录下拉面板展开状态\r\n     */\r\n    public get dropshow(): boolean {\r\n        if (this.isUseDroplist) {\r\n            return this.droplistCom ? this.droplistCom.isShow : false;\r\n        } else {\r\n            return  this.dropCom ? this.dropCom.isShow : false;\r\n        }\r\n    }\r\n    /**\r\n     * 面板的打开或关闭，统一处理drop和droplist\r\n     */\r\n    private togglePanel(): void {\r\n        if (this.dropshow) {\r\n            this.dropCom && this.dropCom.hide();\r\n            this.droplistCom && this.droplistCom.hide();\r\n        } else {\r\n            this.dropCom && this.dropCom.show();\r\n            this.droplistCom && this.droplistCom.show();\r\n        }\r\n    }\r\n    private loopItemsFindSelectedItem(): void {\r\n        this.items.some((item: TpRegionItem): boolean => {\r\n            if (item.regions && this.findSelectedItem(item.regions, item)) {\r\n                return true;\r\n            } else if (item.special) {\r\n                return this.findSelectedItem(item.special, item);\r\n            }\r\n\r\n            return false;\r\n        });\r\n    }\r\n\r\n    private findSelectedItem(data: Array<TpRegion>, item: TpRegionItem): boolean {\r\n        const flag: boolean =  data.some((region: TpRegion): boolean => {\r\n            if (region === this.model) {\r\n                this.selectedItem = item;\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        });\r\n\r\n        return flag;\r\n    }\r\n}\r\n","import { TiLocale, Util } from '@cloud/tiny3';\r\n\r\nimport { CfUtil } from '../../cfutils/CfUtil';\r\n\r\nimport { TpRegionItem } from './TpRegionComponent';\r\n/**\r\n * 提供了转化数据的方法，可以将特定的不可用的数据转化为[TpRegionComponent]{@link ../components/TpRegionComponent.html}的可用数据\r\n */\r\nexport class TpRegionUtil {\r\n    public static getRegionList(regionArr: Array<any>): Array<TpRegionItem> {\r\n        let result: Array<TpRegionItem> = [];\r\n        if (!Util.isArray(regionArr)) {\r\n            return result;\r\n        }\r\n        const isSmallItem: boolean = TiLocale.getLocaleWords().tpRegionSmallItem;\r\n        result = isSmallItem ? this.processCTCData(regionArr) : TpRegionUtil.processHWSData(regionArr);\r\n\r\n        return result;\r\n    }\r\n    /**\r\n     * 在对象数组中，查找某一个对象，可以模糊匹配，返回其索引\r\n     */\r\n    private static findIndex(arr: Array<any>, target: any): number {\r\n        if (!Util.isArray(arr)) {\r\n            return -1;\r\n        }\r\n        let result: any;\r\n        for (const item of arr) {\r\n            const itemKey: Array<string> = Object.keys(item);\r\n            const targetKey: Array<string> = Object.keys(target);\r\n            let flag: boolean = true;\r\n            for (const key of targetKey) {\r\n                if (itemKey.indexOf(key) === -1 || target[key] !== item[key]) {\r\n                    flag = false;\r\n                }\r\n            }\r\n            if (flag) {\r\n                result = arr.indexOf(item);\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (result === undefined) {\r\n            result = -1;\r\n        }\r\n\r\n        return result;\r\n    }\r\n    /**\r\n     * 类似于findIndex，返回最后一个模糊匹配元素的索引\r\n     */\r\n    private static findLastIndex(arr: any, item: any) {\r\n        if (!Util.isArray(arr)) {\r\n            return -1;\r\n        }\r\n        const originalArr: Array<any> = arr;\r\n        const reservedArr: Array<any> = arr.reverse();\r\n        const index: number = TpRegionUtil.findIndex(reservedArr, item);\r\n        if (index === -1) {\r\n            return -1;\r\n        } else {\r\n            return originalArr.indexOf(reservedArr[index]);\r\n        }\r\n\r\n    }\r\n    private static processHWSData(regionArr): Array<TpRegionItem> {\r\n        let result: Array<TpRegionItem> = [];\r\n\r\n        for (let region of regionArr) {\r\n            // 过滤掉属性isAlliance 或 isSelfDevelop为true的region\r\n            if (region.isAlliance || region.isSelfDevelop) {\r\n                continue;\r\n            }\r\n            const index: number = TpRegionUtil.findLastIndex(result, {displayName: region.geoCategory}); // 判断已处理数据中有无该大区\r\n            const key: string = region.geoArea === '31' ? 'special' : 'regions'; // 当geoArea为31时，则表示当前项属于亚太区下需要做特殊处理\r\n\r\n            // result中没有该大区时：大区名称和id都取geoCategory；存放各区域的属性为special/regions，为数组类型，直接将当前项push到该数组中\r\n            if (index === -1) {\r\n                let itemObj: TpRegionItem = {\r\n                    displayName: region.geoCategory\r\n                };\r\n                itemObj[key] = [];\r\n                itemObj[key].push(region);\r\n                result.push(itemObj);\r\n                continue;\r\n            }\r\n\r\n            // result中有该大区时：判断存放当前项的属性为special/regions是否存在，如果不存在则令该属性为空数组，存在直接将当前项push到该数组中\r\n            if (Util.isUndefined(result[index][key])) {\r\n                result[index][key] = [];\r\n            }\r\n\r\n            result[index][key].push(region);\r\n\r\n            CfUtil.getUser()\r\n                .then((user: any) => {\r\n                const isNonsupportRegionFn: (nonsupportRegions: any, regionId: any,\r\n                                             supportRegions: any) => boolean = CfUtil.isNonsupportRegion();\r\n                if (typeof isNonsupportRegionFn === 'function') {\r\n                    region.disabled = isNonsupportRegionFn(user.nonsupportRegions, region.regionId, user.supportRegions);\r\n                }\r\n            });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private static processCTCData(regionArr): Array<TpRegionItem> {\r\n        // ctc下的数据，由组件装配成A-G, H-K, L-S, T-Z四个大区，先定义四个大区对象，循环传入参数，装入四个对象\r\n        let result: Array<TpRegionItem> = [\r\n            {displayName: 'A-G', regions: []},\r\n            {displayName: 'H-K', regions: []},\r\n            {displayName: 'L-S', regions: []},\r\n            {displayName: 'T-Z', regions: []}\r\n        ];\r\n\r\n        regionArr.forEach((region: {shortName: string}): void => {\r\n            if (!region.shortName) {\r\n                return;\r\n            }\r\n            if (region.shortName.charCodeAt(0) >= 65 && region.shortName.charCodeAt(0) <= 71\r\n                || region.shortName.charCodeAt(0) >= 97 && region.shortName.charCodeAt(0) <= 103) {\r\n                    TpRegionUtil.pushRegion(result[0].regions, region);\r\n            } else if (region.shortName.charCodeAt(0) >= 72 && region.shortName.charCodeAt(0) <= 75\r\n                || region.shortName.charCodeAt(0) >= 104 && region.shortName.charCodeAt(0) <= 107) {\r\n                TpRegionUtil.pushRegion(result[1].regions, region);\r\n            } else if (region.shortName.charCodeAt(0) >= 76 && region.shortName.charCodeAt(0) <= 83\r\n                || region.shortName.charCodeAt(0) >= 108 && region.shortName.charCodeAt(0) <= 115) {\r\n                TpRegionUtil.pushRegion(result[2].regions, region);\r\n            } else if (region.shortName.charCodeAt(0) >= 84 && region.shortName.charCodeAt(0) <= 90\r\n                || region.shortName.charCodeAt(0) >= 116 && region.shortName.charCodeAt(0) <= 122) {\r\n                TpRegionUtil.pushRegion(result[3].regions, region);\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    private static pushRegion(regions: Array<TpRegionItem>, region: any): void {\r\n        const index: number = regions.findIndex((item: TpRegionItem): boolean => item.displayName === region.ascription);\r\n        if (index > -1) {\r\n            regions[index].project.push(region);\r\n        } else {\r\n            const regionObj: TpRegionItem = {\r\n                displayName: region.ascription,\r\n                project: [region]\r\n            };\r\n            regions.push(regionObj);\r\n        }\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TiDominatorModule, TiDroplistModule, TiDropModule, TiIconModule, TiListModule, TiTipModule } from '@cloud/tiny3';\r\n\r\nimport { TpRegionComponent } from './TpRegionComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    TiDroplistModule,\r\n    TiDominatorModule,\r\n    TiListModule,\r\n    TiDropModule,\r\n    TiIconModule,\r\n    TiTipModule\r\n  ],\r\n  exports: [TpRegionComponent],\r\n  declarations: [TpRegionComponent]\r\n})\r\n\r\nexport class TpRegionModule {}\r\nexport { TpRegionComponent, TpRegionItem } from './TpRegionComponent';\r\nexport { TpRegionUtil } from './TpRegionUtil';\r\n","import { Component, ElementRef, EventEmitter, Input, Output, Renderer2, ViewChild } from '@angular/core';\r\nimport { TiLocale, TiFormComponent, Util, TiDominatorComponent, TiDropsearchComponent, TiButtongroupComponent } from '@cloud/tiny3';\r\n/**\r\n * @ignore\r\n * 规范提出，云业务通用场景不会使用该组件，10.1.3起，在官网隐藏该组件。\r\n */\r\nexport interface TpRegionselectOption {\r\n    /**\r\n     * 地区名称\r\n     */\r\n    label: string;\r\n    /**\r\n     * 地区对应序列ID\r\n     */\r\n    id: string;\r\n    /**\r\n     * 当前地区的下级地区列表\r\n     */\r\n    nextLevel?: Array<TpRegionselectOption>;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n/**\r\n * @ignore\r\n * 规范提出，云业务通用场景不会使用该组件，10.1.3起，在官网隐藏该组件。\r\n *\r\n * regionselect组件提供省、市、县三级区域的选择\r\n *\r\n * <example-url>../tinyplus3demo/#/regionselect/regionselect-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-regionselect',\r\n    templateUrl: './regionselect.html',\r\n    styleUrls: ['./regionselect.less'],\r\n    providers: [TiFormComponent.getValueAccessor(TpRegionselectComponent)],\r\n    host: {\r\n        '(blur)': 'onBlur()'\r\n    }\r\n})\r\n\r\nexport class TpRegionselectComponent extends TiFormComponent {\r\n    constructor(protected hostRef: ElementRef, protected renderer: Renderer2) {\r\n        super(hostRef, renderer);\r\n    }\r\n    /**\r\n     * 区域选择总数据\r\n     */\r\n    @Input() regionselectOption: Array<TpRegionselectOption>; // 下拉总数据\r\n    /**\r\n     * 无数据时组件下展显示，需服务自行配置\r\n     */\r\n    @Input() noDataText: string = '...';\r\n    /**\r\n     * 是否支持搜索\r\n     */\r\n    @Input() searchable: boolean = false;\r\n    /**\r\n     * 区域点击选择之后触发该事件\r\n     */\r\n    @Output() readonly change: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild(TiDominatorComponent, { static: true }) TiDominatorCom: TiDominatorComponent;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild(TiDropsearchComponent, { static: true }) dropCom: TiDropsearchComponent;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild(TiButtongroupComponent, { static: true }) btnGroupCom: TiButtongroupComponent;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('wrapper', { static: false }) wrapperEle: ElementRef;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('buttongroup', { static: false }) buttongroupEle: ElementRef;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public labelKey: string = 'label';\r\n    /**\r\n     * @ignore\r\n     */\r\n    public showText: string;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public btnItems: Array<any>;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public btnSelected: any;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public options: Array<TpRegionselectOption> = []; // 下拉实际数据,默认空数组\r\n    /**\r\n     * @ignore\r\n     */\r\n    public currentmodel: any;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public dropshow: boolean; // 记录下拉面板展开状态\r\n    private regionArr: Array<any> = [];\r\n    private hasFoundId: boolean; // 标志量 是否根据id找到匹配项\r\n    private isSpecialZone: boolean; // 标志量 是否为直辖市\r\n    private isNotLastOne: boolean = true; // 标志量 是否为最后一级\r\n    private classifications: Array<any>;\r\n    private classificationLevel: number = 0; // 当前正在选择区域项的等级，省为0，市为1，区为2\r\n    private currentClassificationsLength: number = 0; // 当前已选择区域项的等级，省为0，市为1，区为2\r\n    private cfRegionSelectSeparativeSign: string = '-';\r\n    private originSuggestions: Array<TpRegionselectOption>;\r\n    private hasadjustWidth: boolean;\r\n    private oldSearchable: boolean = undefined;\r\n    /**\r\n     * @ignore\r\n     */\r\n    writeValue(val: any): void {\r\n        if (!val) {\r\n            return;\r\n        } else {\r\n            this.model = val;\r\n        }\r\n        this.initSelectedData();\r\n    }\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.classifications = [\r\n            {\r\n                id: 'province',\r\n                text: TiLocale.getLocaleWords().tpRegionselect.regionSelect_province_label\r\n            }, {\r\n                id: 'city',\r\n                text: TiLocale.getLocaleWords().tpRegionselect.regionSelect_city_label\r\n            }, {\r\n                id: 'country',\r\n                text: TiLocale.getLocaleWords().tpRegionselect.regionSelect_county_label\r\n            }\r\n        ];\r\n        this.model = Util.isUndefined(this.model) ? {} : this.model;\r\n        this.hasadjustWidth = false;\r\n        this.options = this.regionselectOption;\r\n        this.getBtnItems();\r\n        this.changePlaceholder();\r\n        this.changeBtnRight();\r\n        this.changeSelectedData();\r\n    }\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngAfterViewInit(): void {\r\n        super.ngAfterViewInit();\r\n        this.setFocusableElems(this.TiDominatorCom.getFocusableElems());\r\n    }\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngAfterViewChecked(): void {\r\n        super.ngAfterViewChecked();\r\n        if (this.searchable !== this.oldSearchable) {\r\n            this.oldSearchable = this.searchable;\r\n            if (this.searchable) {\r\n                this.setFocusableElems(this.TiDominatorCom.getFocusableElems()\r\n                    .concat(this.dropCom.getFocusableElems()));\r\n            } else {\r\n                this.setFocusableElems(this.TiDominatorCom.getFocusableElems());\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onMousedownFn(event: MouseEvent): void {\r\n        event.preventDefault();  // 防止按钮聚焦\r\n        event.stopPropagation();  // 阻止事件冒泡到document\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onBlur(): void {\r\n        this.dropCom.hideWithoutFocus();\r\n        this.dropshow = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 点击关闭或隐藏下拉面板\r\n     */\r\n    public onClickFn(event: MouseEvent): void {\r\n        if (this.dropCom.isShow) {\r\n            this.dropCom.hide();\r\n            this.dropshow = false;\r\n        } else {\r\n            this.dropCom.show();\r\n            this.dropshow = true;\r\n            if (!this.hasadjustWidth) {\r\n                const btns: NodeListOf<Element> = document.querySelectorAll('.ti3-btn-item');\r\n                const extraWidth: number = this.getExtraWidth();\r\n                const width: number = extraWidth / btns.length;\r\n                btns.forEach((btn: any) => {\r\n                    const oriWidth: number = btn.offsetWidth;\r\n                    this.renderer.setStyle(btn, 'width', oriWidth + width + 'px');\r\n                });\r\n                this.hasadjustWidth = true;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 选择数据之后触发事件\r\n     */\r\n    public onSelect(option: any): void {\r\n        this.onSelectFn(option);\r\n        this.change.emit(option);\r\n        const event: any = window.event;\r\n    }\r\n\r\n    private onSelectFn(selectedRegion: TpRegionselectOption): void {\r\n        const currentBtn: any = this.btnItems[this.classificationLevel]; // 当前准备选择的按钮等级\r\n        currentBtn.selectedText = selectedRegion.label; // 等级名称获取\r\n        // 判断选择项是否是曾经已选择项\r\n        const isChosenOption: boolean = this.btnItems.some((btnItem: any) => {\r\n            return btnItem.selectedId === selectedRegion.id;\r\n        });\r\n        if (!isChosenOption) {\r\n            this.currentClassificationsLength = this.btnItems.findIndex((btnItem: any) =>\r\n                btnItem.id === this.btnSelected.id); // 获取当前已选择的级别（0、1、2）\r\n            this.btnItems.forEach((item: any, index: number) => {\r\n                if (index > this.currentClassificationsLength) {\r\n                    item.selectedText = item.text;\r\n                    item.originId = '';\r\n                    item.selectedId = '';\r\n                }\r\n            });\r\n        }\r\n\r\n        this.btnItems[this.classificationLevel].selectedId = selectedRegion.id;\r\n        this.changeSelectedData();\r\n        this.isNotLastOne = this.classificationLevel < this.btnItems.length - 1;\r\n        if (this.isNotLastOne) {\r\n            this.classificationLevel++;\r\n            this.currentClassificationsLength++;\r\n            this.btnItems[this.classificationLevel].originId = this.btnItems[this.classificationLevel].originId || selectedRegion.id;\r\n            this.handleOriginSuggestions();\r\n            this.changeDropdownSuggestions();\r\n\r\n            /**\r\n             * 1、当子选项只有一项，且子选项id与当前项id相同，证明为同一区域级别\r\n             * 2、同一区域级别情况下，如果子选项不是最后一级，证明为直辖市，需要自动跳过子选项的选择\r\n             * 3、同一区域级别情况下，如果子选项是最后一级，证明为直辖县，则正常显示\r\n             */\r\n            if (this.originSuggestions.length === 1 &&\r\n                (this.originSuggestions[0].id === selectedRegion.id\r\n                    && this.classificationLevel < this.btnItems.length - 1)) {\r\n                this.btnItems[this.classificationLevel].noDataDisable = true;\r\n                this.onSelectFn(this.originSuggestions[0]);\r\n            } else {\r\n                this.btnItems[this.classificationLevel].noDataDisable = false;\r\n                this.btnSelected = this.btnItems[this.classificationLevel];\r\n                this.btnChangeFn();\r\n            }\r\n        } else {\r\n            // 点击最低级别地区之后，面板会收起\r\n            this.dropshow = false;\r\n        }\r\n        this.changePlaceholder();\r\n        this.changeBtnRight();\r\n    }\r\n\r\n    // 当选择区域后，会更改selectedData数据\r\n    private changeSelectedData(): void {\r\n        const selectedTextArr: Array<any> = [];\r\n        this.btnItems.forEach((item: any, index: number) => {\r\n            const hasChosen: boolean = item.selectedText !== item.text;\r\n            if (hasChosen) {\r\n                if (index === this.classificationLevel) {\r\n                    this.model[item.id] = {\r\n                        id: item.selectedId,\r\n                        label: item.selectedText\r\n                    };\r\n                }\r\n                if (item.selectedText && !item.noDataDisable) {\r\n                    selectedTextArr.push(item.selectedText);\r\n                }\r\n                this.model.id = item.selectedId;\r\n                this.model.level = index;\r\n            } else {\r\n                this.model[item.id] = {};\r\n            }\r\n        });\r\n        this.model.text = selectedTextArr.join(this.cfRegionSelectSeparativeSign);\r\n        // 改变model地址触发modelchange事件发生\r\n        this.model = {...this.model};\r\n    }\r\n\r\n    // 获取按钮配置项\r\n    private getBtnItems(): void {\r\n        this.btnItems = this.classifications.map((classification: any) => {\r\n            classification.selectedText = classification.text;\r\n\r\n            return classification;\r\n        });\r\n        this.btnSelected = this.btnItems[0];\r\n    }\r\n    // 根据selected初始配置,逻辑处理\r\n    private initSelectedData(): void {\r\n        if ((this.model && !this.model.id) || !this.regionselectOption || !this.regionselectOption.length) {\r\n            return;\r\n        }\r\n        const regionIdArr: Array<any> = this.getRegionIdArr();\r\n        if (regionIdArr.length) {\r\n            this.getBtnItems();\r\n            this.btnChangeFn();\r\n            for (const item of regionIdArr) {\r\n                this.onSelectFn(item);\r\n            }\r\n        }\r\n    }\r\n    // tslint:disable-next-line:typedef\r\n    private getRegionIdArr() {\r\n        this.getSelectedOption(this.regionselectOption);\r\n\r\n        return this.regionArr;\r\n    }\r\n    // 根据selectedId 获取已选择数据详情\r\n    private getSelectedOption(items: Array<any>): void {\r\n        this.hasFoundId = false;\r\n        this.regionArr = [];\r\n        // tslint:disable-next-line:prefer-for-of\r\n        for (let i: number = 0; i < items.length; i++) {\r\n            if (items[i].id === this.model.id) {\r\n                this.hasFoundId = true;\r\n                const nextLevel: Array<TpRegionselectOption> = items[i].nextLevel;\r\n                if (nextLevel && nextLevel.length && nextLevel[0].id === items[i].id) {\r\n                    this.isSpecialZone = true;\r\n                }\r\n                if (this.isSpecialZone && !items[i].nextLevel[0].nextLevel) { // 直辖县\r\n                    this.regionArr.unshift({\r\n                        id: items[i].id,\r\n                        label: items[i].label\r\n                    });\r\n                }\r\n                this.regionArr.unshift({\r\n                    id: items[i].id,\r\n                    label: items[i].label\r\n                });\r\n                break;\r\n            }\r\n            if (items[i].nextLevel && items[i].nextLevel.length) {\r\n                this.getSelectedOption(items[i].nextLevel);\r\n                if (this.hasFoundId) {\r\n                    this.regionArr.unshift({\r\n                        id: items[i].id,\r\n                        label: items[i].label\r\n                    });\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public btnChangeFn(): void {\r\n        const selectedBtn: any = this.btnItems.find((item: any) => item.id === this.btnSelected.id);\r\n        this.classificationLevel = this.btnItems.findIndex((item: any) => item === selectedBtn);\r\n        this.isNotLastOne = this.classificationLevel < this.btnItems.length - 1;\r\n        this.handleOriginSuggestions();\r\n        this.changeDropdownSuggestions();\r\n        if (this.model && this.model[selectedBtn.id]) {\r\n            const index: number = this.options.findIndex((item: any) => item.id === this.model[selectedBtn.id].id);\r\n            this.currentmodel = this.options[index];\r\n        }\r\n    }\r\n\r\n    private findIndex(): number {\r\n        return this.options.findIndex((item: any) => item.id === this.model.id);\r\n    }\r\n\r\n    private handleOriginSuggestions(): void {\r\n        let dropdownSuggestions: Array<any> = this.regionselectOption;\r\n        this.originSuggestions = [];\r\n        this.btnItems.forEach((item: any, index: number) => {\r\n            if (index > this.classificationLevel) {\r\n                return;\r\n            }\r\n            const currentData: any = dropdownSuggestions.find((dropdown: any): boolean => {\r\n                return dropdown.id === item.originId;\r\n            });\r\n            if (currentData && currentData.nextLevel && currentData.nextLevel.length) {\r\n                dropdownSuggestions = currentData.nextLevel;\r\n            }\r\n        });\r\n        if (!dropdownSuggestions) {\r\n            return;\r\n        }\r\n        // 根据id从小到大进行排序\r\n        dropdownSuggestions = dropdownSuggestions.sort((a: any, b: any) => {\r\n            return a.id - b.id;\r\n        });\r\n        dropdownSuggestions.forEach((item1: any) => {\r\n            this.originSuggestions.push({\r\n                id: item1.id,\r\n                label: item1.label,\r\n                nextLevel: item1.nextLevel\r\n            });\r\n        });\r\n    }\r\n\r\n    // 根据originId从原始数据中第一级往下寻找\r\n    private changeDropdownSuggestions(): void {\r\n        this.options = this.originSuggestions;\r\n    }\r\n\r\n    // 更改选择区域显示文本\r\n    private changePlaceholder(): void {\r\n        let showText: string = '';\r\n        this.btnItems.forEach((item: any, index: number) => {\r\n            if (item.noDataDisable) {\r\n                return;\r\n            }\r\n            const text: string = item.selectedText + ' ';\r\n            if (index === 0) {\r\n                showText += text;\r\n            } else {\r\n                // tslint:disable-next-line:prefer-template\r\n                showText += this.cfRegionSelectSeparativeSign + ' ' + text;\r\n            }\r\n        });\r\n        this.showText = showText;\r\n    }\r\n\r\n    // 判断按钮组disable权限\r\n    private changeBtnRight(): void {\r\n        this.btnItems.map((item: any, index: number) => {\r\n            item.disabled = (index > this.currentClassificationsLength) || item.noDataDisable;\r\n\r\n            return item;\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 判断是否溢出并获取超出宽度\r\n     */\r\n    public getExtraWidth(): number {\r\n        const wrapperWidth: number = this.wrapperEle.nativeElement.offsetWidth;\r\n        const buttonsWidth: number = this.buttongroupEle.nativeElement.offsetWidth;\r\n        const isOverflow: boolean = wrapperWidth > buttonsWidth;\r\n        if (!isOverflow) {\r\n            return 0;\r\n        } else {\r\n            const extraWidth: number = wrapperWidth - buttonsWidth;\r\n\r\n            return extraWidth;\r\n        }\r\n    }\r\n}\r\n","import { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { TpRegionselectComponent } from './TpRegionselectComponent';\r\nimport { TiButtongroupModule, TiDominatorModule, TiDropsearchModule } from '@cloud/tiny3';\r\n/**\r\n * @ignore\r\n * 规范提出，云业务通用场景不会使用该组件，10.1.3起，在官网隐藏该组件。\r\n */\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, TiButtongroupModule, TiDominatorModule, TiDropsearchModule],\r\n  exports: [TpRegionselectComponent],\r\n  declarations: [TpRegionselectComponent]\r\n})\r\n\r\nexport class TpRegionselectModule {}\r\nexport { TpRegionselectComponent } from './TpRegionselectComponent';\r\n","import { Component } from '@angular/core';\r\n\r\n/**\r\n * @ignore\r\n */\r\n@Component({\r\n    selector: 'tp-renamemodal',\r\n    styleUrls: ['./renamecontainer.less'],\r\n    template: '<ng-content></ng-content>'\r\n})\r\n\r\nexport class TpRenameModalContainerComponent {\r\n}\r\n","import { Component, Input, ViewChild, ElementRef } from '@angular/core';\r\nimport { TiLocale, TiValidationConfig, TiBaseComponent } from '@cloud/tiny3';\r\n\r\n/**\r\n * @ignore\r\n */\r\n@Component({\r\n    templateUrl: './TpRenameModalComponent.html',\r\n    styleUrls: ['./renamemodal.less']\r\n})\r\n\r\nexport class TpRenameModalComponent extends TiBaseComponent {\r\n    @Input() value: string;\r\n    @Input() modalHeader: string;\r\n\r\n    @ViewChild('input', { static: true }) input: ElementRef;\r\n\r\n    public okLabel: string = TiLocale.getLocaleWords().tpRename.okButton;\r\n    public cancelLabel: string = TiLocale.getLocaleWords().tiCommon.cancelBtn;\r\n    public model: string;\r\n\r\n    public validation: TiValidationConfig = {\r\n        errorMessage: {\r\n            regExp: TiLocale.getLocaleWords().tpRename.inValidMessage\r\n        }\r\n    };\r\n    // 此处的close并不是按钮真正的close()，参数form的类型本应是FormGroup，所以没有引入FormGroup，指定为any\r\n    close(form: any): void {\r\n    }\r\n    dismiss(): void {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.model = this.value;\r\n    }\r\n    ngAfterViewInit(): void {\r\n        this.input.nativeElement.focus();\r\n        this.input.nativeElement.setSelectionRange(0, 0, 'backward');\r\n    }\r\n\r\n}\r\n","import { Component, ContentChild, ElementRef, EventEmitter, Input,  NgZone,  Output, Renderer2, TemplateRef } from '@angular/core';\r\nimport { FormGroup, ValidationErrors } from '@angular/forms';\r\nimport { TiBaseComponent, TiLocale, TiPopUpRef, TiPopupService, TiPosition, TiPositionType, TiValidators } from '@cloud/tiny3';\r\n\r\nimport { TpRenameModalContainerComponent } from './TpRenameModalContainerComponent';\r\nimport { TpRenameModalComponent } from './TpRenameModalComponent';\r\n\r\n/**\r\n * rename组件生产的弹窗实例，提供hide()方法，用于关闭弹窗\r\n */\r\nexport interface TpRenameModalRef {\r\n    /**\r\n     * 关闭弹窗的方法\r\n     */\r\n    hide(): void;\r\n}\r\n/**\r\n * 名称编辑组件\r\n *\r\n * <example-url>../tinyplus3demo/#/rename/rename-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-rename',\r\n    templateUrl: './rename.html',\r\n    styleUrls: ['./rename.less']\r\n})\r\n\r\nexport class TpRenameComponent extends TiBaseComponent {\r\n    constructor(\r\n        protected hostRef: ElementRef,\r\n        protected renderer2: Renderer2,\r\n        private tiPopup: TiPopupService<any>,\r\n        private zone: NgZone\r\n    ) {\r\n        super(hostRef, renderer2);\r\n        this.defaultModalHeader = TiLocale.getLocaleWords().tpRename.modalHeader;\r\n    }\r\n    /**\r\n     * 待编辑的内容\r\n     */\r\n    @Input() value: string;\r\n    /**\r\n     * 标识该行数据是否为new\r\n     */\r\n    @Input() isNew: boolean = false;\r\n    /**\r\n     * 组件是否可用\r\n     */\r\n    @Input() disabled: boolean = false;\r\n    /**\r\n     * 弹窗标题\r\n     */\r\n    @Input() modalHeader: string;\r\n    /**\r\n     * @ignore\r\n     * 铅笔图标的tip提示信息\r\n     *\r\n     * 根据华为云4.0规范变更，使用原生title代替tip解释图标的作用，10.0.1版本起该接口隐藏，并取消缺省值（编辑/Edit（国际化））\r\n     */\r\n    @Input() iconTip: string;\r\n    /**\r\n     * @ignore\r\n     * 铅笔图标的tip提示信息方位，10.0.1版本起该接口隐藏\r\n     */\r\n    @Input() iconTipPosition: TiPositionType = 'top';\r\n    /**\r\n     * 10.0.1新增\r\n     *\r\n     * 图标的title属性，用于说明图标的作用\r\n     */\r\n    @Input() iconTitle: string = TiLocale.getLocaleWords().tpRename.tip;\r\n    /**\r\n     * 10.0.3新增\r\n     *\r\n     * 是否通过组件显示被编辑的内容，组件以文本的形式显示，默认显示\r\n     */\r\n    @Input() showValue: boolean = true;\r\n    /**\r\n     * 确认/OK按钮点击事件，参数：输入框的内容\r\n     */\r\n    @Output() readonly confirm: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * 确认/OK按钮点击事件，为开发者提供关闭弹窗的时机\r\n     *\r\n     * 参数：弹窗实例[TpRenameModalRef]{@link ../interfaces/TpRenameModalRef.html}\r\n     */\r\n    @Output() readonly beforeClose: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * @ignore\r\n     * 自定义弹窗模板\r\n     */\r\n    @ContentChild('renameModal', { static: true }) customModal: TemplateRef<any>;\r\n\r\n    private hostSpace: number = 5; // 弹窗距rename的距离\r\n\r\n    private defaultModalHeader: string;\r\n\r\n    private unlistenDocumentClick: () => void;\r\n\r\n    private renameModal: TiPopUpRef;\r\n\r\n    private TpRenameModalComponentRef: any;\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.iconTitle = this.iconTip ? '' : this.iconTitle;\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClick(): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n        // 初始create一次即可，多次点击编辑图标避免重复生成的逻辑，在popupService内部已有处理\r\n        if (!this.renameModal) {\r\n            this.renameModal = this.tiPopup.create(TpRenameModalContainerComponent);\r\n        }\r\n        // open modal\r\n        this.TpRenameModalComponentRef =  this.renameModal.show({\r\n            content: this.customModal || TpRenameModalComponent,\r\n            contentContext: this.customModal ?\r\n                {\r\n                    renameModal: this.renameModal,\r\n                    value: this.value\r\n                } : {\r\n                value: this.value,\r\n                id: this.id + '_renameModal',\r\n                modalHeader: this.modalHeader || this.defaultModalHeader,\r\n                close: (form: FormGroup): void => {\r\n                    // 因为非常明确该组件只有一个表单元素 校验结果定义为error而不是errors，直接通过input获取校验失败的元素\r\n                    const error: ValidationErrors | null = TiValidators.check(form);\r\n                    if (error) {\r\n                        this.TpRenameModalComponentRef.location.nativeElement.querySelector('input')\r\n                            .focus();\r\n                    } else {\r\n                        this.beforeClose.emit(this.renameModal);\r\n                        this.confirm.emit(this.TpRenameModalComponentRef.location.nativeElement.querySelector('input').value);\r\n                        // tslint:disable-next-line: no-unused-expression\r\n                        this.destroyRenameModal();\r\n                    }\r\n                },\r\n                dismiss: (): void => {\r\n                    this.destroyRenameModal();\r\n                }\r\n            },\r\n            container: 'body'\r\n        });\r\n        const modal: ElementRef = this.TpRenameModalComponentRef.location.nativeElement;\r\n        this.renderer2.setStyle(modal, 'left', '-9999px');\r\n        this.renderer2.setStyle(modal, 'top', '-9999px');\r\n\r\n        const td: ElementRef = this.findClosestTD(this.hostRef.nativeElement);\r\n        TiPosition.setPosition({\r\n            targetEle: modal,\r\n            hostEle: this.hostRef.nativeElement,\r\n            hostEleX: td || this.hostRef.nativeElement,\r\n            hOffset: td ? 10 : 0,\r\n            hostSpace: this.hostSpace,\r\n            fixMaxHeight: true,\r\n            determinPositionFn: this.DeterminePosition\r\n        });\r\n\r\n        this.addDocumentClickEvent();\r\n    }\r\n\r\n    private DeterminePosition: (layout: any) => string = (layout: any) => {\r\n        if (layout.avilableLayout.bottom >= layout.targetLayout.height + this.hostSpace) {\r\n            return 'bottom-left';\r\n        } else {\r\n            return 'top-left';\r\n        }\r\n    }\r\n\r\n    private findClosestTD: (ele: any) => ElementRef = (ele: any) => {\r\n        if (ele.nodeName === 'HTML') {\r\n            return undefined;\r\n        } else if (ele.parentNode.nodeName === 'TD') {\r\n            return ele.parentNode;\r\n        } else {\r\n            return this.findClosestTD(ele.parentNode);\r\n        }\r\n    }\r\n\r\n    private addDocumentClickEvent(): void {\r\n        this.zone.runOutsideAngular((): void => {\r\n            this.unlistenDocumentClick = this.renderer2.listen(document, 'click', (event: MouseEvent): void => {\r\n                // 编辑图标被点击，触发其绑定的click事件，这里不做处理。\r\n                if (this.hostRef.nativeElement.contains(event.target)) {\r\n                    return;\r\n                }\r\n                if (this.TpRenameModalComponentRef) {\r\n                    const tpRenameModalHostElement: any = this.TpRenameModalComponentRef.location.nativeElement;\r\n                    // renameModal之外的元素被点击，销毁renameModal\r\n                    if (!(tpRenameModalHostElement && tpRenameModalHostElement.contains(event.target))) {\r\n                        this.zone.run((): void => {\r\n                            this.destroyRenameModal();\r\n                        });\r\n                    }\r\n                }\r\n\r\n            });\r\n        });\r\n    }\r\n\r\n    // 销毁弹窗、取消document的click事件\r\n    private destroyRenameModal(): void {\r\n        // tslint:disable-next-line: no-unused-expression\r\n        this.renameModal && this.renameModal.hide();\r\n        if (this.unlistenDocumentClick) {\r\n            this.unlistenDocumentClick();\r\n        }\r\n    }\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnDestroy(): void {\r\n        super.ngOnDestroy();\r\n        this.destroyRenameModal();\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { TpRenameComponent } from './TpRenameComponent';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\nimport { TpRenameModalContainerComponent } from './TpRenameModalContainerComponent';\r\nimport { TpRenameModalComponent } from './TpRenameModalComponent';\r\n\r\nimport {\r\n  TiButtonModule,\r\n  TiLocaleModule,\r\n  TiModalModule,\r\n  TiPopupModule,\r\n  TiTableModule,\r\n  TiTextModule,\r\n  TiTipModule,\r\n  TiValidationModule\r\n} from '@cloud/tiny3';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    TiButtonModule,\r\n    TiLocaleModule,\r\n    TiModalModule,\r\n    TiPopupModule,\r\n    TiTipModule,\r\n    TiValidationModule,\r\n    TiTableModule,\r\n    TiTextModule,\r\n    TpIconModule\r\n  ],\r\n  exports: [TpRenameComponent],\r\n  declarations: [TpRenameComponent, TpRenameModalComponent, TpRenameModalContainerComponent],\r\n  entryComponents: [TpRenameModalComponent, TpRenameModalContainerComponent]\r\n})\r\n\r\nexport class TpRenameModule {}\r\nexport { TpRenameComponent, TpRenameModalRef } from './TpRenameComponent';\r\nexport { TpRenameModalComponent } from './TpRenameModalComponent';\r\nexport { TpRenameModalContainerComponent } from './TpRenameModalContainerComponent';\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { TpResourceItem } from './TpResourceItemComponent';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n\r\n/**\r\n * 资源列表 resources\r\n *\r\n * <example-url>../tinyplus3demo/#/resources/resources-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-resources',\r\n    templateUrl: './resources.html',\r\n    styleUrls: ['./resources.less']\r\n})\r\n\r\nexport class TpResourcesComponent extends TiBaseComponent {\r\n    /**\r\n     * 资源列表标题\r\n     */\r\n    @Input() title: string;\r\n    /**\r\n     * 列表对象主接口；用于列表中每个内容中参数的传递。\r\n     */\r\n    @Input() items: Array<TpResourceItem>;\r\n    /**\r\n     * 选中某项资源时，触发事件\r\n     */\r\n    @Output() readonly select: EventEmitter<TpResourceItem> = new EventEmitter<TpResourceItem>();\r\n    /**\r\n     * 选中某项资源异常数时，触发事件\r\n     */\r\n    @Output() readonly errorSelect: EventEmitter<TpResourceItem> = new EventEmitter<TpResourceItem>();\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClick(item: TpResourceItem): void {\r\n        this.select.emit(item);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onErrorSelect(item: TpResourceItem): void {\r\n        this.errorSelect.emit(item);\r\n    }\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { TiBaseComponent, TiPositionType } from '@cloud/tiny3';\r\n\r\nexport interface TpResourceItem {\r\n    /* tslint:disable:no-redundant-jsdoc */\r\n    /**\r\n     * 设置资源内容；\r\n     */\r\n    name: string;\r\n    /**\r\n     * 设置资源总数。\r\n     */\r\n    total?: number;\r\n    /**\r\n     * 设置资源异常数；\r\n     */\r\n    error?: number;\r\n    /**\r\n     * 设置资源异常数最大值；\r\n     * @default 99\r\n     */\r\n    errorMax?: number;\r\n    /**\r\n     * 设置资源名称的提示信息，文本溢出时，鼠标悬停会显示提示信息\r\n     *\r\n     * content：默认文本为name属性内容；\r\n     *\r\n     * position：默认显示位置：'top'；\r\n     */\r\n    nameTip?: TpResourceTip;\r\n    /**\r\n     * 设置资源总数的提示信息：\r\n     *\r\n     * content：默认无提示信息；\r\n     *\r\n     * position：默认显示位置 'bottom-left'；\r\n     */\r\n    totalTip?: TpResourceTip;\r\n    /**\r\n     * 设置资源异常数的提示信息:\r\n     *\r\n     * content：默认无提示信息；\r\n     *\r\n     * position：默认显示位置 'bottom-left'；\r\n     */\r\n    errorTip?: TpResourceTip;\r\n    /**\r\n     * 设置资源项是否隐藏;\r\n     * @default false\r\n     */\r\n    hide?: boolean;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\nexport interface TpResourceTip {\r\n    /**\r\n     * 提示信息内容\r\n     */\r\n    content?: string;\r\n    /**\r\n     * 提示信息显示位置，有以下值可选，其中auto代表自适应位置显示；\r\n     *\r\n     * \"top\" | \"top-left\" | \"top-right\" | \"bottom\" | \"bottom-left\" | \"bottom-right\" | \"left\" | \"left-top\" | \"left-bottom\" | \"right\" | \"right-top\" | \"right-bottom\" | \"center\" | \"auto\" | \"none\"\r\n     */\r\n    position?: TiPositionType;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\n@Component({\r\n    selector: 'tp-resource-item',\r\n    templateUrl: './resource-item.html',\r\n    styleUrls: ['./resource-item.less'],\r\n    // host: {\r\n    //     '[class.tp-resource-item]': 'true'\r\n    // }\r\n})\r\n\r\nexport class TpResourceItemComponent extends TiBaseComponent {\r\n    /**\r\n     * 每项资源配置对象内容\r\n     */\r\n    @Input() item: TpResourceItem;\r\n\r\n    /**\r\n     * 选中某项资源异常数时，触发事件\r\n     */\r\n    @Output() readonly errorSelect: EventEmitter<TpResourceItem> = new EventEmitter<TpResourceItem>();\r\n\r\n    /**\r\n     * @ignore\r\n     * 获取显示异常资源数\r\n     */\r\n    public getErrorNumber(error: number, errorMax: number): any {\r\n        const baseValue: any = errorMax && errorMax > 0 ? errorMax : 99;\r\n\r\n        return error > baseValue ? `${baseValue}+` : error;\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClickError(item: TpResourceItem, event: Event): void {\r\n        // 阻止事件冒泡，触发父级事件\r\n        event.stopPropagation();\r\n        this.errorSelect.emit(item);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TpResourcesComponent } from './TpResourcesComponent';\r\nimport { TpResourceItemComponent } from './TpResourceItemComponent';\r\nimport { TiOverflowModule, TiTipModule, TiOutlineModule } from '@cloud/tiny3';\r\nimport { TpCardModule } from '../card/TpCardModule';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    TpCardModule,\r\n    TiOverflowModule,\r\n    TiTipModule,\r\n    TiOutlineModule\r\n  ],\r\n  exports: [TpResourcesComponent, TpResourceItemComponent],\r\n  declarations: [TpResourcesComponent, TpResourceItemComponent]\r\n})\r\n\r\nexport class TpResourcesModule {}\r\nexport { TpResourcesComponent } from './TpResourcesComponent';\r\nexport { TpResourceItemComponent } from './TpResourceItemComponent';\r\nexport { TpResourceItem } from './TpResourceItemComponent';\r\n","import { Component, Input } from '@angular/core';\r\n\r\n/**\r\n * @ignore\r\n * goandback模板组件定义\r\n */\r\n@Component({\r\n    templateUrl: './goandback.html',\r\n    styleUrls: ['./goandback.less']\r\n})\r\n\r\nexport class TpGoandbackComponent {\r\n    @Input() warn: any;\r\n    @Input() error: any;\r\n    @Input() href: string;\r\n    @Input() words: any;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TpGoandbackComponent } from './TpGoandbackComponent';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TiAlertModule, TiLocaleModule, TiMessageModule } from '@cloud/tiny3';\r\n\r\n/**\r\n * @ignore\r\n *\r\n */\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiAlertModule,\r\n    TiMessageModule,\r\n    TiLocaleModule\r\n  ],\r\n  exports: [TpGoandbackComponent],\r\n  declarations: [TpGoandbackComponent],\r\n  entryComponents: [TpGoandbackComponent]\r\n})\r\n\r\nexport class TpGoandbackModule {}\r\nexport { TpGoandbackComponent } from './TpGoandbackComponent';\r\n","import { Injectable, SecurityContext } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { TpGoandbackModule } from './TpGoandbackModule';\r\nimport { TpGoandbackComponent } from './TpGoandbackComponent';\r\nimport { TiMessageService, TiMessageType, TiModalRef, Util } from '@cloud/tiny3';\r\nimport { TpUtil } from '../../utils/TpUtil';\r\n\r\nexport interface TpGoAndBackConfig {\r\n    /**\r\n     * 去绑定|认证|充值跳转链接\r\n     *\r\n     * v10.1.3及之前版本存在XSS攻击(url类型)风险，v10.1.4 版本做了安全处理，已不存在安全问题，建议业务尽快升级版本。\r\n     */\r\n    url?: string;\r\n    /**\r\n     * 标准key:value的参数，总体对象形式\r\n     */\r\n    params?: { [propName: string]: string };\r\n    /**\r\n     * @ignore\r\n     * 受限组件词条\r\n     */\r\n    words?: any;\r\n    /**\r\n     * @ignore\r\n     * url是否添加params（restrict受限组件需略过goToUrl方法中对url的处理）\r\n     * 10.1.2 版本添加\r\n     */\r\n    addUrlParams?: boolean;\r\n    /**\r\n     * 点击已绑定|充值|认证按钮的函数回调接口，该函数存在两个参数（instances,openAlert）：\r\n     *\r\n     * 1.instances:弹窗的示例，可调用instances.dismiss()方法关闭弹窗<br>\r\n     * 2.openAlert(alertType):控制提示信息的种类和显示隐藏的方法；alertType有两个可选值：\r\n     *\r\n     * a.\"error\"：系统繁忙状态；b.\"warn\"：未绑定|认证|充值状态\r\n     */\r\n    confirmFn?(instances?: TiModalRef, openAlertFn?: Function): void;\r\n    /**\r\n     * 弹窗关闭时的函数回调接口，该函数存在一个参数（instances）\r\n     * 只有一级弹窗时，关闭回调在一级弹窗关闭时执行；存在二级弹窗时，关闭回调在二级弹窗关闭时执行\r\n     * 10.1.4 版本添加\r\n     */\r\n    closeFn?(instances?: TiModalRef): void;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n\r\n/**\r\n * 组件内部封装基类服务，只供内部使用\r\n */\r\n@Injectable({\r\n    providedIn: TpGoandbackModule\r\n})\r\n/**\r\n * @internal\r\n */\r\nexport class TpGoandbackService {\r\n    /**\r\n     * 获取词条\r\n     */\r\n    protected words: any;\r\n    /**\r\n     * 弹窗类型\r\n     */\r\n    protected firstMessageType: TiMessageType = 'warn';\r\n    constructor(protected tiMessage: TiMessageService, private domSanitizer: DomSanitizer) {\r\n    }\r\n\r\n    public open(config?: TpGoAndBackConfig): void {\r\n        // 受限组件需通过调用方法传入词条\r\n        this.words = config.words ? config.words : this.words;\r\n        this.firstMessage(config);\r\n    }\r\n    /**\r\n     * 触发去绑定|认证|充值按钮事件\r\n     * @param configObj 用户配置对象\r\n     */\r\n    private firstMessage(configObj: TpGoAndBackConfig): void {\r\n        const configId = Util.isString(configObj.id) && configObj.id !== '' ? configObj.id : 'tp_message_modal'; // 用户未设置id时，设置默认id用于拼接\r\n        const contentHref: string = this.words.firstMessageContentLabel ?\r\n    `<a tiNavigation target=\"_blank\" rel=\"noopener noreferrer\" href=\"${this.words.firstMessageContentHref}\">${this.words.firstMessageContentLabel}</a>` : '';\r\n        const instances: TiModalRef = this.tiMessage.open({\r\n            id: configId,\r\n            type: this.firstMessageType,\r\n            title: this.words.firstMessageTitle,\r\n            content: Util.formatEntry(this.words.firstMessageContent, [contentHref]),\r\n            okButton: {\r\n                text: this.words.firstMessageOkButtonText,\r\n                autofocus: true,\r\n                click: (): void => {\r\n                    const handleUrl: string = this.goToUrl(configObj);\r\n                    instances.close();\r\n                    // 受限组件存在无第二个弹窗的情况；此处添加判断，是否需要触发该弹窗出现\r\n                    if (this.words.secondMessageTitle) {\r\n                        this.secondMessage(configObj, handleUrl, configId);\r\n                    }\r\n                }\r\n            },\r\n            cancelButton: {\r\n                show: false\r\n            },\r\n            close: (messageRef: TiModalRef): void => {\r\n                // 如果不需要二级弹窗，关闭回调在一级弹窗关闭时执行\r\n                if (!this.words.secondMessageTitle && configObj.closeFn && Util.isFunction(configObj.closeFn)) {\r\n                    configObj.closeFn(messageRef);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 触发已绑定|认证|充值按钮事件\r\n     * @param configObj 用户配置对象\r\n     * @param handleUrl 跳转链接\r\n     */\r\n    private secondMessage(configObj: TpGoAndBackConfig, handleUrl: string, promptId: string): void {\r\n        const instances: TiModalRef = this.tiMessage.open({\r\n            id: promptId + '_prompt',\r\n            type: 'prompt',\r\n            title: this.words.secondMessageTitle,\r\n            modalClass: 'tp-goandback-body',\r\n            content: TpGoandbackComponent,\r\n            // context定义上下文对象，对应组件@Input属性，可设置/获取这些接口属性\r\n            context: {\r\n                words: this.words,\r\n                href: handleUrl,\r\n                label: this.words.secondMessageFail,\r\n                warn: {\r\n                    type: 'warn',\r\n                    open: false,\r\n                    id: promptId + '_prompt_warn'\r\n                },\r\n                error: {\r\n                    type: 'error',\r\n                    open: false,\r\n                    id: promptId + '_prompt_error'\r\n                }\r\n            },\r\n            okButton: {\r\n                text: this.words.secondMessageOkButtonText,\r\n                autofocus: true,\r\n                click: (): void => {\r\n                    if (configObj.confirmFn && Util.isFunction(configObj.confirmFn)) {\r\n                        // tslint:disable-next-line: no-use-before-declare\r\n                        configObj.confirmFn(instances, openAlertFn);\r\n                    }\r\n                }\r\n            },\r\n            close: (messageRef: TiModalRef): void => {\r\n                // 关闭回调在二级弹窗关闭时执行\r\n                if (configObj.closeFn && Util.isFunction(configObj.closeFn)) {\r\n                    configObj.closeFn(messageRef);\r\n                }\r\n            }\r\n        });\r\n\r\n        /**\r\n         * 用户调用该函数，打开对应弹框\r\n         * @param alertType (error: 系统繁忙) || (warn: 未完成绑定|认证|充值)\r\n         */\r\n        const openAlertFn: (alertType: string) => void = (alertType: string): void => {\r\n            const context: any = instances.content.instance.context;\r\n            context.warn.open = alertType === 'warn' ? true : false;\r\n            context.error.open = alertType === 'error' ? true : false;\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @param definedUrl 跳转链接\r\n     * @param params 链接参数\r\n     */\r\n    private goToUrl(configObj: TpGoAndBackConfig): string {\r\n        // 未配置addUrlParams属性时，默认赋值true\r\n        configObj.addUrlParams = Util.isUndefined(configObj.addUrlParams)\r\n                                 ? true : configObj.addUrlParams;\r\n        const [definedUrl, params] = [configObj.url, configObj.params];\r\n        let url: string = Util.isString(definedUrl) ? definedUrl : this.words.path;\r\n        // 判断是否需要url添加params处理（restrict受限组件需略过 issues-#1830）\r\n        if (configObj.addUrlParams) {\r\n            url = TpUtil.addDefaultParam(url, params);\r\n        }\r\n        const win: any = window.open(this.domSanitizer.sanitize(SecurityContext.URL, url), '_blank');\r\n\r\n        // IE浏览器下，有些场景下window.open()无返回值时不用处理\r\n        if (win) {\r\n            // 处理打开一个新的标签，新标签中的页面如果存在恶意代码，就可以将原网站直接导航到一个虚假网站的安全漏洞\r\n            win.opener = null;\r\n        }\r\n\r\n        return url;\r\n    }\r\n}\r\n","import { Component, ElementRef, Renderer2, TemplateRef, ViewChild } from '@angular/core';\r\nimport { TiBaseComponent, TiModalRef, TiTipRef, TiTipService, TiTipShowInfo } from '@cloud/tiny3';\r\nimport { TpGoandbackService } from '../../services/goandback/TpGoandbackService';\r\n\r\n/**\r\n * @ignore\r\n * 内部使用\r\n */\r\nexport interface TpRestrictMessage {\r\n    label: string;\r\n    href: string;\r\n    link: string;\r\n}\r\n\r\n/**\r\n * 用户受限组件\r\n * <example-url>../tinyplus3demo/#/restrict/restrict-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-restrict',\r\n    templateUrl: './restrict.html',\r\n    styleUrls: ['./restrict.less']\r\n})\r\nexport class TpRestrictComponent extends TiBaseComponent {\r\n\r\n    /**\r\n     * @ignore\r\n     * tip 内容template\r\n     */\r\n    @ViewChild('tipContentTemplate', { static: false }) tipContentTemplate: TemplateRef<any>;\r\n\r\n    /**\r\n     * @ignore\r\n     * alert 是否展示控制项\r\n     */\r\n    public open: boolean = false;\r\n    /**\r\n     * @ignore\r\n     * alert 类型\r\n     */\r\n    public alertType: string = 'error';\r\n    /**\r\n     * @ignore\r\n     * 内部alert类型图标\r\n     */\r\n    public typeIcon: boolean = true;\r\n    /**\r\n     * @ignore\r\n     * 内部alert关闭图标\r\n     */\r\n    public closeIcon: boolean = false;\r\n    /**\r\n     * @ignore\r\n     * alert 内容\r\n     */\r\n    public alertContent: string = '';\r\n    /**\r\n     * @ignore\r\n     * tipcontent 内容\r\n     */\r\n    public tipContent: string = '';\r\n\r\n    constructor(\r\n        protected hostRef: ElementRef,\r\n        protected renderer2: Renderer2,\r\n        private tipService: TiTipService,\r\n        private tpGoandbackService: TpGoandbackService\r\n    ) {\r\n        super(hostRef, renderer2);\r\n    }\r\n\r\n    /**\r\n     * 显示提示块\r\n     */\r\n    public openAlert(content?: string): void {\r\n        if (content) {\r\n            this.alertContent = content;\r\n            this.open = true;\r\n        } else {\r\n            this.open = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 给目标元素添加tip\r\n     */\r\n    public addTip(target: HTMLElement, content: string): TiTipRef {\r\n        this.tipContent = content;\r\n        if (this.tipContentTemplate) {\r\n            return this.tipService.create(target, {\r\n                trigger: 'mouse',\r\n                showFn: (): TiTipShowInfo => {\r\n                    return {\r\n                        content: this.tipContentTemplate\r\n                    };\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * 打开弹窗\r\n     */\r\n    public openMessage(messageOption: any, confirmFn?: (instances: TiModalRef, openAlertFn: Function) => void): void {\r\n        let words: any;\r\n        if (messageOption.firstMessage) {\r\n            const message: TpRestrictMessage = this.getMessageInfo(messageOption.firstMessage);\r\n\r\n            words = {\r\n                firstMessageContent: message.label,\r\n                firstMessageOkButtonText: message.link,\r\n                path: message.href,\r\n                ...messageOption\r\n            };\r\n        } else {\r\n            words = messageOption;\r\n        }\r\n        this.tpGoandbackService.open({\r\n            words,\r\n            confirmFn,\r\n            // 略过url添加params处理（restrict受限组件需略过tpGoandbackService中goToUrl方法对url的处理）\r\n            addUrlParams: false\r\n        });\r\n\r\n    }\r\n\r\n    //  message 弹窗的内容和按钮需要 alert 的内容转化\r\n    // tslint:disable-next-line: prefer-function-over-method\r\n    private getMessageInfo(content: string): TpRestrictMessage {\r\n        let href: string;\r\n        let link: string;\r\n        let matchedString: string;\r\n        // 返回数据中可能没有href属性，所有正则匹配两次\r\n        // 提取出a 标签中的所有字符\r\n        const reg: RegExp = /<a([^>]*)>(.*?)<\\/a>/g;\r\n\r\n        let regExeRes: RegExpExecArray = reg.exec(content);\r\n        while (regExeRes && reg.lastIndex !== content.length) {\r\n            regExeRes = reg.exec(content);\r\n        }\r\n        if (regExeRes) {\r\n            // 提取a属性字符中的href内容\r\n            const reg2: RegExp = /href=['\"]?([^\"]*)['\"]?/g;\r\n            matchedString = regExeRes[0];\r\n            link = regExeRes[2];\r\n            // 提取 href 的值\r\n            const attrsStr: string = regExeRes[1];\r\n            const regExeRes2: RegExpExecArray = reg2.exec(attrsStr);\r\n            href = regExeRes2 ? regExeRes2[1] : '';\r\n        }\r\n\r\n        return {\r\n            label: content.replace(matchedString, ''),\r\n            link,\r\n            href\r\n        };\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TiAlertModule, TiTipServiceModule } from '@cloud/tiny3';\r\nimport { TpGoandbackModule } from '../../services/goandback/TpGoandbackModule';\r\nimport { TpRestrictComponent } from './TpRestrictComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiAlertModule,\r\n    TpGoandbackModule,\r\n    TiTipServiceModule\r\n  ],\r\n  exports: [TpRestrictComponent],\r\n  declarations: [TpRestrictComponent]\r\n})\r\nexport class TpRestrictModule {}\r\nexport { TpRestrictComponent } from './TpRestrictComponent';\r\n","import {\r\n    ChangeDetectorRef,\r\n    Component,\r\n    ElementRef,\r\n    EventEmitter,\r\n    Input,\r\n    Output,\r\n    Renderer2,\r\n    SimpleChanges,\r\n    ViewChild,\r\n    ViewChildren,\r\n    QueryList\r\n} from '@angular/core';\r\nimport { AbstractControl, FormControl, FormGroup, ValidationErrors, ValidatorFn } from '@angular/forms';\r\nimport {\r\n    TiBrowser, TiDateComponent, TiDominatorComponent, TiDropComponent, TiDropsearchComponent,\r\n    TiFormComponent, TiKeymap, TiLocale, TiLocaleFormat, TiValidators, Util\r\n    // tslint:disable-next-line: no-implicit-dependencies\r\n} from '@cloud/tiny3';\r\n\r\nimport { TpIconComponent } from '../icon/TpIconModule';\r\n\r\n/**\r\n * tag类型, radio-默认单选， noValue-非正常tag，tag值为空，  checkbox-多选，map-键值tag, numRange-数字范围tag,\r\n * dateRange-日期范围tag。tag 的分类是根据键值的结果划分\r\n */\r\nexport type TpSearchboxTagType = 'radio' | 'noValue' | 'checkbox' | 'map' | 'numRange' | 'dateRange';\r\n/**\r\n * 候选tag数据配置项\r\n */\r\nexport interface TpSearchboxItem {\r\n    /**\r\n     * 搜索字段，tag的键\r\n     */\r\n    field: string;\r\n    /**\r\n     * tag 键的显示值，实际结果是field\r\n     */\r\n    label: string;\r\n    /**\r\n     * 配置项可生产的tag类型\r\n     */\r\n    type?: TpSearchboxTagType;\r\n    /**\r\n     * tag 值的选择项数据\r\n     */\r\n    options: Array<TpSearchboxOption>;\r\n    /**\r\n     * 自动识别匹配正则\r\n     * 10.0.2 新增\r\n     */\r\n    regexp?: RegExp;\r\n    /**\r\n     * radio 单选类型可设置, 设置为false时,单选属性可以多次选择\r\n     */\r\n    replace?: boolean;\r\n    /**\r\n     * 单选或多选值的选中项键值\r\n     * 10.0.2 新增\r\n     */\r\n    optionValueKey?: string;\r\n    /**\r\n     * dateRange 类型日期显示和结果格式，dateRange时必选\r\n     */\r\n    format?: string;\r\n    /**\r\n     * numRange 最小值，类型为number\r\n     * dateRange开始日期，类型为Date\r\n     */\r\n    start?: number | Date;\r\n    /**\r\n     * numRange 最大值，类型为number\r\n     * dateRange起始日期，类型为Date\r\n     */\r\n    end?: number | Date;\r\n    /**\r\n     * numRange 可填最小值，用于校验\r\n     * dateRange可选最小值，用于校验\r\n     */\r\n    min?: number | Date;\r\n    /**\r\n     * numRange 可填最大值，用于校验\r\n     * dateRange可选最大值，用于校验\r\n     */\r\n    max?: number | Date;\r\n    /**\r\n     * 每个item对应的提示文本\r\n     */\r\n    placeholder?: string;\r\n    [propName: string]: any;\r\n}\r\n\r\nexport interface TpSearchboxOption {\r\n    /**\r\n     * 选项显示值\r\n     */\r\n    label: string;\r\n    /**\r\n     * 搜索目标字段，只有‘label’才需要\r\n     */\r\n    field?: string;\r\n    /**\r\n     * 控制map类型二级选项是否出现内置所有值，map类型需要\r\n     */\r\n    allValues?: boolean;\r\n    /**\r\n     * 控制map类型二级选项是否出现内置空值，map类型需要\r\n     */\r\n    emptyValue?: boolean;\r\n    /**\r\n     * map类型二级选项数据\r\n     */\r\n    options?: Array<any>;\r\n    [propName: string]: any;\r\n}\r\n/**\r\n * 每个选中tag的类型\r\n */\r\nexport interface TpSearchboxTag {\r\n    /**\r\n     * 搜索目标搜字段\r\n     */\r\n    field: string;\r\n    /**\r\n     * tag键，field的显示值\r\n     */\r\n    label: string;\r\n    /**\r\n     * tag值\r\n     */\r\n    value: string;\r\n    /**\r\n     * 类型\r\n     */\r\n    type: TpSearchboxTagType;\r\n    /**\r\n     * 数字范围和日期范围tag 开始值\r\n     */\r\n    start?: number | string;\r\n    /**\r\n     * 数字范围和日期范围tag 结束值\r\n     */\r\n    end?: number | string;\r\n    [propName: string]: any;\r\n}\r\n/**\r\n * search 事件回调参数的数据对象，对象的键对应field，对象的值是字符串数组，单选单个，多选多个\r\n */\r\nexport interface TpSearchboxFilter {\r\n    [propName: string]: Array<String>;\r\n}\r\n\r\n/**\r\n * ip正则\r\n * 10.0.2 新增\r\n */\r\nexport const TP_REGEXP_IP: RegExp = /^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$/;\r\n/**\r\n * UUID正则\r\n * 10.0.2 新增\r\n */\r\nexport const TP_REGEXP_UUID: RegExp = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\r\n\r\n/**\r\n * 综合搜索组件。\r\n * 用户通过该组件，选择出数据过滤需要的参数\r\n *\r\n * <example-url>../tinyplus3demo/#/searchbox/searchbox-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-searchbox',\r\n    templateUrl: './searchbox.html',\r\n    styleUrls: ['./searchbox.less'],\r\n    host: {\r\n        '(blur)': 'onBlur()',\r\n        '(click)': 'onClick($event)'\r\n    },\r\n    providers: [TiFormComponent.getValueAccessor(TpSearchboxComponent)]\r\n})\r\nexport class TpSearchboxComponent extends TiFormComponent {\r\n    /**\r\n     * @ignore\r\n     * formControl 校验状态，通过了所有有效性检查\r\n     */\r\n    public static readonly VALID: string = 'VALID';\r\n    /**\r\n     * @ignore\r\n     * formControl 校验状态，至少有一个有效性检查失败了\r\n     */\r\n    public static readonly INVALID: string = 'INVALID';\r\n\r\n    /**\r\n     * 设置默认的过滤范围字段\r\n     */\r\n    @Input() defaultField: string = '';\r\n    /**\r\n     * 没有生成tag时的占位提示文本\r\n     *\r\n     */\r\n    @Input() emptyPlaceholder: string = '';\r\n\r\n    /**\r\n     * 输入框的宽度\r\n     */\r\n    @Input() inputWidth: string;\r\n\r\n    /**\r\n     * 是否显示帮助图标\r\n     *\r\n     */\r\n    @Input() showHelp: boolean = true;\r\n    /**\r\n     * 是否显示设置defaultField图标\r\n     */\r\n    @Input() showSettings: boolean = false;\r\n    /**\r\n     * 源数据\r\n     */\r\n    @Input() items: Array<TpSearchboxItem> = [];\r\n    /**\r\n     * 设置组件最多显示几行，\r\n     */\r\n    @Input() maxLine: number = 2;\r\n\r\n    /**\r\n     * 下拉框最大高度，单位为px，\r\n     *\r\n     */\r\n    @Input() panelMaxHeight: string = '999px';\r\n\r\n    /**\r\n     * 设置属性面板宽度\r\n     */\r\n    @Input() propPanelWidth: string = '200px';\r\n\r\n    /**\r\n     * 设置属性值面板宽度\r\n     */\r\n    @Input() valuePanelWidth: string = '200px';\r\n    /**\r\n     * 设置tag的最大宽度，解决tag太长，属性值\r\n     */\r\n    @Input() tagMaxWidth: string = '400px';\r\n\r\n    /**\r\n     * help 图标提示事件\r\n     */\r\n    @Output() readonly help: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * 清除事件\r\n     */\r\n    @Output() readonly clear: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * 搜索事件\r\n     */\r\n    @Output() readonly search: EventEmitter<TpSearchboxFilter> = new EventEmitter<TpSearchboxFilter>();\r\n    /**\r\n     * 值面板打开前事件,用于懒加载值选项\r\n     */\r\n    @Output() readonly beforeOpen: EventEmitter<TpSearchboxComponent> = new EventEmitter<TpSearchboxComponent>();\r\n    /**\r\n     * @ignore\r\n     * 选中项后，输入值变化事件\r\n     * 10.0.2 新增\r\n     */\r\n    @Output() readonly inputValueChange: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    /**\r\n     * 默认匹配字段发生改变事件\r\n     * 10.1.2 新增\r\n     */\r\n    @Output() readonly defaultFieldChange: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * @ignore\r\n     * 内部标签donimator组件\r\n     */\r\n    @ViewChild(TiDominatorComponent, { static: true }) dominatorCom: TiDominatorComponent;\r\n    /**\r\n     * @ignore\r\n     * 属性面板\r\n     */\r\n    @ViewChild('propDrop', { static: true }) propDropCom: TiDropsearchComponent;\r\n    /**\r\n     * @ignore\r\n     * 值面板\r\n     */\r\n    @ViewChild('valueDrop', { static: true }) valueDropCom: TiDropsearchComponent;\r\n    /**\r\n     * @ignore\r\n     * 多选值面板\r\n     */\r\n    @ViewChild('valueMultiDrop', { static: false }) valueMultiDropCom: TiDropsearchComponent;\r\n    /**\r\n     * @ignore\r\n     * 自定义面板 numRange / daterange\r\n     */\r\n    @ViewChild('customDrop', { static: false }) customDropCom: TiDropComponent;\r\n    /**\r\n     * @ignore\r\n     * 设置面板\r\n     */\r\n    @ViewChild('settingsDrop', { static: false }) settingsDropCom: TiDropComponent;\r\n    /**\r\n     * @ignore\r\n     * 日期范围开始日期\r\n     */\r\n    @ViewChild('dateRangeStart', { static: false }) dateRangeStartCom: TiDateComponent;\r\n    /**\r\n     * @ignore\r\n     * 日期范围结束日期\r\n     */\r\n    @ViewChild('dateRangeEnd', { static: false }) dateRangeEndCom: TiDateComponent;\r\n    /**\r\n     * @ignore\r\n     * 搜索输入框\r\n     */\r\n    @ViewChild('searchInput', { static: false }) searchInputRf: ElementRef;\r\n    /**\r\n     * @ignore\r\n     * settings 设置图标 用于drop 设置dominatorElem\r\n     */\r\n    @ViewChild('settings', { static: false }) settingsCom: TpIconComponent;\r\n    /**\r\n     * @ignore\r\n     * 右侧图标（help、setting、search）\r\n     */\r\n    @ViewChildren('rightIcon') rightIconsRef: QueryList<TpIconComponent>;\r\n    /**\r\n     * @ignore\r\n     * 分割符号，默认是中文冒号\r\n     */\r\n    public tagSeperator: string = '：';\r\n    /**\r\n     * @ignore\r\n     * 有选中标签后的placeholder\r\n     */\r\n    public inputPlaceholder: string = TiLocale.getLocaleWords().tpSearchbox.addPlaceholder;\r\n    /**\r\n     * @ignore\r\n     * 属性选项\r\n     */\r\n    public propDropOptions: Array<any> = [];\r\n    /**\r\n     * @ignore\r\n     * 值选项\r\n     */\r\n    public valueDropOptions: Array<any> = [];\r\n    /**\r\n     * @ignore\r\n     * 输入框的值\r\n     */\r\n    public inputValue: string = '';\r\n    /**\r\n     * @ignore\r\n     * 选中item, 编辑和选择中都会存在\r\n     */\r\n    public selectedItem: TpSearchboxItem;\r\n    /**\r\n     * @ignore\r\n     * map类型标签,第一级选中的选项\r\n     */\r\n    public selectedOption: TpSearchboxOption;\r\n    /**\r\n     * @ignore\r\n     * 正在编辑tag\r\n     */\r\n    public editingTag: TpSearchboxTag;\r\n\r\n    /**\r\n     * @ignore\r\n     * 值面板dominator\r\n     */\r\n    public valueDropDominator: HTMLElement;\r\n    /**\r\n     * @ignore\r\n     * 值面板dominator\r\n     */\r\n    public settingsDropDominatorElem: HTMLElement;\r\n    /**\r\n     * @ignore\r\n     * 帮助图标提示内容\r\n     */\r\n    public helpTipContent: string = TiLocale.getLocaleWords().tpSearchbox.help;\r\n    /**\r\n     * @ignore\r\n     * 清空图标提示内容\r\n     */\r\n    public clearTipContent: string = TiLocale.getLocaleWords().tpSearchbox.clearAll;\r\n    /**\r\n     * @ignore\r\n     * 设置默认搜索项图标提示内容\r\n     */\r\n    public settingTipContent: string = TiLocale.getLocaleWords().tpSearchbox.switchText;\r\n    /**\r\n     * @ignore\r\n     * 单选值面板选中项\r\n     */\r\n    public propDropSelected: TpSearchboxOption;\r\n    /**\r\n     * @ignore\r\n     * 单选值面板选中项\r\n     */\r\n    public valueDropSelected: TpSearchboxOption;\r\n    /**\r\n     * @ignore\r\n     * 多选值面板选中项\r\n     */\r\n    public valueDropSelecteds: Array<TpSearchboxOption> = [];\r\n    /**\r\n     * @ignore\r\n     * 设置defaultField面板选中项\r\n     */\r\n    public settingsDropSelected: TpSearchboxOption;\r\n    /**\r\n     * @ignore\r\n     * 设置defaultField面板选项\r\n     */\r\n    public settingDropOptions: Array<TpSearchboxOption> = [];\r\n\r\n    /**\r\n     * @ignore\r\n     * drop 面板到触发元素的距离，编辑标签时，距离是6px,所以使用变量\r\n     */\r\n    public dominatorSpace: string = '7px';\r\n    /**\r\n     * 记录默认选中项旧值，用于判断两次选中是否是同一个值。如果是，则不触发defaultFieldChange事件。\r\n     */\r\n    private oldDefaultField: string = '';\r\n\r\n    public dominatorPlaceholder: string = '';\r\n\r\n    // 存储一致需要聚焦的元素\r\n    private alwaysFocusableElems: Array<any> = [];\r\n    // 范围tag 使用的特殊字符串'-'\r\n    private rangeLine: string = '-';\r\n    // 范围tag 使用的特殊字符串'≥'\r\n    private rangeLarge: string = '≥';\r\n    // 范围tag 使用的特殊字符串'≤'\r\n    private rangeLess: string = '≤';\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-parameter-properties\r\n    constructor(hostRef: ElementRef, render: Renderer2, private changeDetectorRef: ChangeDetectorRef) {\r\n        super(hostRef, render);\r\n    }\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.init();\r\n        // 非中文场景下，标签分割符号是英文冒号加空格。\r\n        if (TiLocale.getLocaleWords().tiLocaleKey !== 'zh-CN') {\r\n            this.tagSeperator = ': ';\r\n        }\r\n        this.oldDefaultField = this.defaultField;\r\n        this.setPlaceholder(this.model);\r\n    }\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        super.ngOnChanges(changes);\r\n        if (changes['items'] && this.items && !changes['items'].firstChange) {\r\n            this.init();\r\n        }\r\n\r\n        if (changes['showSettings'] && this.showSettings) {\r\n            // 初始化设置按钮下拉面板中的选项。\r\n            this.initSettingDropOptions();\r\n        } else if (changes['showSettings'] && !this.showSettings) {\r\n            this.settingsDropDominatorElem = null;\r\n        }\r\n\r\n        if (changes['emptyPlaceholder'] && !changes['emptyPlaceholder'].firstChange && this.emptyPlaceholder) {\r\n            this.setPlaceholder(this.model);\r\n        }\r\n    }\r\n\r\n    ngAfterViewChecked (): void {\r\n        if (this.settingsCom && !this.settingsDropDominatorElem) {\r\n            // 根据设置按钮dom，来设置下拉面板的宽度\r\n            this.settingsDropDominatorElem = this.settingsCom.nativeElement;\r\n            // ngAfterViewChecked是视图已经变化检测结束的钩子函数，如果此时再去改变视图上的接口会有报错.\r\n            // 报错信息：(ExpressionChangedAfterItHasBeenCheckedError) 所以需要强制执行一次变化检测。\r\n            this.changeDetectorRef.detectChanges();\r\n        }\r\n    }\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngAfterViewInit(): void {\r\n        super.ngAfterViewInit();\r\n        // 值面板可能对齐输入框，也可能对齐标签\r\n        this.valueDropDominator = this.searchInputRf.nativeElement;\r\n        if (this.showSettings) {\r\n            this.settingsDropDominatorElem = this.settingsCom.nativeElement;\r\n        }\r\n\r\n        this.alwaysFocusableElems.push(this.dominatorCom.nativeElement, this.searchInputRf.nativeElement,\r\n            );\r\n        this.rightIconsRef.forEach((item: TpIconComponent): void => {\r\n            this.alwaysFocusableElems.push(item.nativeElement);\r\n        });\r\n        this.setFocusableElems(this.alwaysFocusableElems);\r\n\r\n        //  因为改变了valueDropDominator ，所以强制刷新一次\r\n        this.changeDetectorRef.detectChanges();\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 设置默认field字段面板选中项\r\n     */\r\n    public onSettingDropSelect(option: TpSearchboxOption): void {\r\n        this.defaultField = option.field;\r\n        this.settingsDropCom.hide();\r\n        // 如果最新的选中项和之前不一样，才会触发defaultFieldChange事件。\r\n        if (this.oldDefaultField !== this.defaultField) {\r\n            this.oldDefaultField = this.defaultField;\r\n            this.defaultFieldChange.emit(option);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * tag发生改变（删减、新增）时触发。\r\n     * TODO: 为什么只有在tag删除的时候，才会触发该函数\r\n     */\r\n    public onDominatorModelChange(): void {\r\n        this.setPlaceholder(this.model);\r\n    }\r\n\r\n    private setPlaceholder(model: any): void {\r\n        this.dominatorPlaceholder = model?.length > 0 ? this.inputPlaceholder : this.emptyPlaceholder;\r\n    }\r\n\r\n    // 输入框处理\r\n    /**\r\n     * @ignore\r\n     * 输入点击事件\r\n     */\r\n    public onClickInput(event: Event): void {\r\n\r\n        this.valueDropDominator = this.searchInputRf.nativeElement;\r\n        // 键已经选中\r\n        if (this.selectedItem) {\r\n            // 如果没有可选项，不显示\r\n            if (!this.selectedItem.options && (!this.selectedItem.type || this.selectedItem.type === 'radio')) {\r\n                return;\r\n            }\r\n            this.setValueDropSearchResult(this.getValueDropOptions(this.selectedItem.field));\r\n            this.showValueDrop();\r\n\r\n        } else {\r\n            this.propDropSearch(this.inputValue);\r\n        }\r\n    }\r\n    // 属性面板根据输入框中的值搜索选项\r\n    private propDropSearch(value: string): void {\r\n        const searchResult: Array<TpSearchboxOption> = this.searchOptions(value, this.propDropOptions);\r\n        if (searchResult.length > 0) {\r\n            this.propDropCom.searchResult = searchResult;\r\n            this.propDropCom.show();\r\n        } else {\r\n            this.propDropCom.hide();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 输入框按键按下处理Backspace和Enter键\r\n     */\r\n    public onKeydownInput(event: KeyboardEvent): void {\r\n        // tslint:disable-next-line: deprecation\r\n        switch (event.keyCode) {\r\n            case TiKeymap.KEY_BACKSPACE:\r\n                this.responseBackspace();\r\n                this.setPlaceholder(this.model);\r\n                break;\r\n            case TiKeymap.KEY_ENTER:\r\n                this.responseEnter(event);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 输入框值变化处理，\r\n     * 输入值时，如果展开的是属性面板，搜索属性，如果是值面板，单选搜索选项，多选匹配选项\r\n     */\r\n    public onInputValueChange(value: string): void {\r\n        // 值面板\r\n        if (this.selectedItem) {\r\n            // 有选中项后，输入值之间通知出去，用于值选项数据过多，自己处理搜索。\r\n            this.inputValueChange.emit({\r\n                value,\r\n                item: this.selectedItem\r\n            });\r\n            // 单选搜索\r\n            if (this.selectedItem.type === 'radio') {\r\n                this.dealRadioItemSearch(value);\r\n            // 多选只匹配\r\n            } else if (this.selectedItem.type === 'checkbox') {\r\n                this.matchCheckboxInput(value.trim());\r\n                this.showValueDrop();\r\n            }\r\n\r\n        } else { // 属性面板\r\n            //  ie11 初始化和placeholder改变会触发ngModelChange事件，所有此处屏蔽属性搜索\r\n            if (TiBrowser.isIE()) {\r\n                return;\r\n            }\r\n            this.propDropSearch(value);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 输入框失去焦点\r\n     *\r\n     */\r\n    public onBlurInput(): void {\r\n        this.valueDropCom.hide();\r\n        this.propDropCom.hide();\r\n        this.valueMultiDropCom.hide();\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 输入框聚焦\r\n     */\r\n    public onFocusInput(): void {\r\n        if (this.selectedItem && this.selectedItem.type === 'radio') {\r\n            this.dealRadioItemSearch(this.inputValue);\r\n        }\r\n    }\r\n\r\n    // 整体\r\n    /**\r\n     * @ignore\r\n     * 整体失去焦点\r\n     */\r\n    public onBlur(): void {\r\n        this.hideAllDrops();\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 删除单个tag\r\n     */\r\n    public onDelete(): void {\r\n        // 删除一项后，输入框位置改变，防止drop对齐问题，隐藏所有drop\r\n        this.hideAllDrops();\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 整体点击\r\n     */\r\n    public onClick(event: Event): void {\r\n        this.searchInputRf.nativeElement.focus();\r\n        this.onClickInput(event);\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 清除所有tag\r\n     */\r\n    public onClickClear(event: Event): void {\r\n        event.stopPropagation(); // 防止事件冒泡到dominator后，dominator聚焦之后面板打开。\r\n        // 有选中tag才清空，防止多触发ngmodelchange\r\n        if (this.model.length > 0) {\r\n            this.model = [];\r\n        }\r\n        this.selectedItem = undefined;\r\n        this.inputValue = '';\r\n        this.clear.emit();\r\n        this.setPlaceholder(this.model);\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 点击搜索\r\n     */\r\n    public onClickSearch(event: Event): void {\r\n        event.stopPropagation();\r\n\r\n        // 先把输入的内容生成tag\r\n        if (this.inputValue) {\r\n            this.generateTagByInputValue();\r\n        }\r\n\r\n        this.hideAllDrops();\r\n\r\n        const filter: TpSearchboxFilter = this.getFilter();\r\n        this.search.emit(filter);\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 点击help图标\r\n     */\r\n    public onClickHelp(event: Event): void {\r\n        event.stopPropagation();\r\n        this.help.emit(event);\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 点击设置默认搜索项图标\r\n     */\r\n    public onClickSetting(event: Event): void {\r\n        event.stopPropagation();\r\n        this.settingsDropCom.show();\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 是否有label 类型，用于label 类型的特殊处理\r\n     */\r\n    public hasLabeltag(): boolean {\r\n\r\n        const index: number = this.items.findIndex((item: TpSearchboxItem): boolean => {\r\n            return item.type === 'noValue';\r\n        });\r\n\r\n        return index > -1;\r\n    }\r\n\r\n    // 两个tag点击切换，事件顺序 mousedown => blur => focus => click\r\n    // tag-value 点击事件 因为要设置焦点，所以要绑定在mousedown上\r\n    /**\r\n     * @ignore\r\n     * 是否有label 类型，用于label 类型的特殊处理\r\n     */\r\n    public onMousedownTagValue(event: Event): void {\r\n        this.setFocusableElems(this.alwaysFocusableElems.concat(event.target as HTMLElement));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClickTagValue(event: Event, tag: TpSearchboxTag): void {\r\n        if (!this.tagEditable(tag.type)) {\r\n            return;\r\n        }\r\n        event.stopPropagation();\r\n        this.valueDropDominator = event.target as HTMLElement;\r\n        this.editingTag = tag;\r\n\r\n        this.hideValueDrops();\r\n\r\n        this.selectedItem = this.items.find((item: TpSearchboxItem): boolean => {\r\n            return item.field === tag.field;\r\n        });\r\n\r\n        this.setValueDropSearchResult(this.getValueDropOptions(tag.field));\r\n        // 多选需要匹配已经选中的选项\r\n        if (this.selectedItem.type === 'checkbox') {\r\n            this.setValueDropSelecteds();\r\n        }\r\n\r\n        // 展开面板前更新了面板的参数，所以需要强制变检一次\r\n        this.changeDetectorRef.detectChanges();\r\n\r\n        // 如果没有可选项，不显示\r\n        if (!this.selectedItem.options && (!this.selectedItem.type || this.selectedItem.type === 'radio')) {\r\n            return;\r\n        }\r\n        // 在输入框选择时，再点击已选中标签编辑，面板无法展开，\r\n        // 原因当前mousedown事件回调函数在 输入框blur事件之前，先打开后关闭，\r\n        // 所以这里要添加延迟\r\n        setTimeout((): void => {\r\n            this.showValueDrop();\r\n        }, 0);\r\n\r\n    }\r\n    /**\r\n     * @ignore\r\n     * tag值聚焦\r\n     */\r\n    public onFocusTagValue(event: Event, tag: TpSearchboxTag): void {\r\n        event.preventDefault();\r\n        const elem: HTMLElement = event.target as HTMLElement;\r\n        this.valueDropDominator = elem;\r\n        // 可编辑类型才选中\r\n        if (tag.type === 'radio' || tag.type === 'checkbox') {\r\n            this.selectHTMLElementText(elem);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * tag值失去焦点\r\n     */\r\n    public onBlurTagValue(): void {\r\n        // 非编辑状态，保持面板的dominator在input上\r\n        this.valueDropDominator = this.searchInputRf.nativeElement;\r\n        this.propDropCom.hide();\r\n        this.valueDropCom.hide();\r\n        this.valueMultiDropCom.hide();\r\n        if (this.selectedItem && (this.selectedItem.type === 'radio' || this.selectedItem.type === 'checkbox' || this.selectedItem.type === 'map')) {\r\n            this.selectedItem = undefined;\r\n            this.editingTag = undefined;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * tag 编辑输入框keydown事件，处理编辑状态下 enter 键操作\r\n     */\r\n    public onKeydownTagInput(event: KeyboardEvent): void {\r\n        // tslint:disable-next-line: deprecation\r\n        if (event.keyCode === TiKeymap.KEY_ENTER) {\r\n            const tagValue: string = (event.target as HTMLElement).textContent;\r\n            if (this.isTagExist(this.selectedItem, tagValue)) {\r\n                return;\r\n            }\r\n            this.generateTag(this.selectedItem, tagValue);\r\n            this.emitChange();\r\n            this.selectedItem = undefined;\r\n            this.editingTag = undefined;\r\n            this.hideValueDrops();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 标签编辑时只有多选需要处理匹配\r\n     */\r\n    public onTagInput(event: Event): void {\r\n        if (this.selectedItem.type === 'checkbox') {\r\n            const value: string = (event.target as HTMLElement).textContent.trim();\r\n            this.matchCheckboxInput(value);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 是否可以编辑\r\n     */\r\n    public tagEditable(type: TpSearchboxTagType): boolean {\r\n        // map 类型标签、日期范围和数字范围不能编辑\r\n        return type === 'radio' || type === 'checkbox';\r\n    }\r\n    /**\r\n     * @ignore\r\n     *  属性面板选中回调\r\n     */\r\n    public onPorpDropSelect(option: TpSearchboxOption): void {\r\n        // label类型tag 只在属性面板中选择一次\r\n        if (option.type === 'noValue') {\r\n            this.generateTagByPropDrop(option);\r\n            this.propDropCom.hide();\r\n\r\n            return;\r\n        }\r\n\r\n        this.selectedItem = this.items.find((item: TpSearchboxItem): boolean => {\r\n            return item.field === option.field;\r\n        });\r\n        // 有beforeOpen懒加载，面板展开交给用户\r\n        if (this.beforeOpen.observers.length > 0) {\r\n            this.beforeOpen.emit(this);\r\n\r\n            return;\r\n        }\r\n\r\n        this.dominatorPlaceholder = option?.placeholder || (this.model.length > 0 ? this.inputPlaceholder : this.emptyPlaceholder);\r\n\r\n        // 如果没有可选项，则不显示值面板。\r\n        if (!this.selectedItem || !this.selectedItem.options && (!this.selectedItem.type || this.selectedItem.type === 'radio')) {\r\n            // 先触发动态变化检测，再清除选中属性值（属性面板不允许有选中状态）\r\n            this.changeDetectorRef.detectChanges();\r\n            this.clearPropDropSelected();\r\n\r\n            return;\r\n        }\r\n\r\n        const options: Array<TpSearchboxOption> = this.getValueDropOptions(option.field);\r\n        this.valueDropOptions = options;\r\n        this.setValueDropSearchResult(options);\r\n\r\n        if (this.selectedItem.type === 'checkbox') {\r\n            this.setValueDropSelecteds();\r\n        }\r\n\r\n         // 面板展开前清空输入内容\r\n         this.inputValue = '';\r\n\r\n        // 展开面板前更新了面板的参数，所以需要强制变检一次\r\n        this.changeDetectorRef.detectChanges();\r\n        this.showValueDrop();\r\n    }\r\n\r\n    /**\r\n     * 暴露外面的打开值面板接口\r\n     */\r\n    public open(options: Array<TpSearchboxOption>): void {\r\n        this.setCustomValueDropSearchResult(options);\r\n        this.showValueDrop();\r\n    }\r\n    /**\r\n     * 获取但前选中数据项\r\n     */\r\n    public getSelectedItem(): TpSearchboxItem {\r\n        return this.selectedItem;\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 单选值面板选中，(包括map类型)\r\n     */\r\n    public onValueDropSelect(selected: TpSearchboxOption): void {\r\n        // 复选时，点击确定按钮结束选择\r\n        if (!this.selectedItem || !selected ) {\r\n            return;\r\n        }\r\n        // 处理map类型，map类型需要选择两次\r\n        if (this.selectedItem.type === 'map') {\r\n            this.mapItemSelect(selected);\r\n            return;\r\n        }\r\n\r\n        this.generateTagByValuePanel();\r\n        this.clearState();\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 多选底部确定按钮\r\n     */\r\n    public onClickValueDropOK(event: Event): void {\r\n        //  阻止按钮获取焦点，输入框失去焦点\r\n        event.preventDefault();\r\n        this.generateTagByValuePanel();\r\n        this.clearState();\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 多选底部取消按钮\r\n     */\r\n    public onClickValueDropCancel(): void {\r\n        this.valueMultiDropCom.hide();\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 数字范围\r\n     */\r\n    public onClickCustomDropOK(): void {\r\n\r\n        if (!this.selectedItem) {\r\n            return;\r\n        }\r\n        if (this.selectedItem.type === 'numRange') {\r\n            this.generateNumRangetag();\r\n        } else if (this.selectedItem.type === 'dateRange') {\r\n            this.generateDateRangeTag();\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 自定义面板取消按钮回调\r\n     */\r\n    public onClickCustomDropCancel(): void {\r\n        this.hideCustomDrop();\r\n        if (this.editingTag) {\r\n            this.selectedItem = undefined;\r\n            this.editingTag = undefined;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * numRange 和 dateRange 面板的宽度需要固定值\r\n     */\r\n    public customDropWidth(): string {\r\n        if (!this.selectedItem) {\r\n            return;\r\n        } else if (this.selectedItem.type === 'numRange') {\r\n            return '200px';\r\n        } else if (this.selectedItem.type === 'dateRange') {\r\n            // 根据最宽小语种pt_BR词条\r\n            return '300px';\r\n        }\r\n    }\r\n\r\n    private init(): void {\r\n        this.initItems();\r\n        this.initPropDropOptions();\r\n    }\r\n    private initItems(): void {\r\n        // 初始化 allValues/ emptyValue\r\n        this.items.forEach((item: TpSearchboxItem): void => {\r\n            // items 中不写type, 默认单选'radio'\r\n            if (Util.isUndefined(item.type)) {\r\n                item.type = 'radio';\r\n            } else if (item.type === 'map' && Array.isArray(item.options)) {\r\n                item.options.forEach((option: TpSearchboxOption): void => {\r\n                    // 所有值项\r\n                    if (option.allValues !== false && Array.isArray(option.options)) {\r\n                        const allValues: string = TiLocale.getLocaleWords().tpSearchbox.allValues;\r\n                        const allValueOption: TpSearchboxOption = option.options.find((currentOption: TpSearchboxOption): boolean => {\r\n                            return currentOption.label === allValues;\r\n                        });\r\n\r\n                        if (!allValueOption) {\r\n                            option.options.unshift({\r\n                                label: allValues\r\n                            });\r\n                        }\r\n                    }\r\n                    // 空值项 emptyValue\r\n                    if (option.emptyValue !== false && Array.isArray(option.options)) {\r\n                        const emptyValue: string = TiLocale.getLocaleWords().tpSearchbox.emptyValue;\r\n                        const emptyValueOption: TpSearchboxOption = option.options.find((currentOption: TpSearchboxOption): boolean => {\r\n                            return currentOption.label === emptyValue;\r\n                        });\r\n                        if (!emptyValueOption) {\r\n                            option.options.unshift({\r\n                                label: emptyValue\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n                // 数字范围\r\n            } else if (item.type === 'numRange') {\r\n\r\n                const start: FormControl = new FormControl(item.start,\r\n                    [TiValidators.rangeValue(item.min as number, item.max as number),\r\n                    this.lessMax('end')]);\r\n                const end: FormControl = new FormControl(item.end,\r\n                    [TiValidators.rangeValue(item.min as number, item.max as number),\r\n                    this.moreMin('start')]);\r\n                item.formControls = new FormGroup({\r\n                    start,\r\n                    end\r\n                });\r\n                // 开始值的校验状态改变后，更新一下结束值的校验状态\r\n                start.statusChanges.subscribe((status: string): void => {\r\n                    if (status === TpSearchboxComponent.VALID && end.status === TpSearchboxComponent.INVALID) {\r\n                        end.updateValueAndValidity({\r\n                            onlySelf: true,\r\n                            emitEvent: false\r\n                        });\r\n                    }\r\n                });\r\n\r\n                // 结束值的校验状态改变后，更新一下开始值的校验状态\r\n                end.statusChanges.subscribe((status: string): void => {\r\n                    if (status === TpSearchboxComponent.VALID && start.status === TpSearchboxComponent.INVALID) {\r\n                        start.updateValueAndValidity({\r\n                            onlySelf: true,\r\n                            emitEvent: false\r\n                        });\r\n                    }\r\n                });\r\n                // 日期范围\r\n            } else if (item.type === 'dateRange') {\r\n                // tslint:disable-next-line: no-null-keyword\r\n                const startDate: Date = this.isValidDate(new Date(item.start)) ? new Date(item.start) : null;\r\n                // tslint:disable-next-line: no-null-keyword\r\n                const endDate: Date = this.isValidDate(new Date(item.end)) ? new Date(item.end) : null;\r\n                const start: FormControl = new FormControl(startDate);\r\n                const end: FormControl = new FormControl(endDate);\r\n                item.formControls = new FormGroup({\r\n                    start,\r\n                    end\r\n                });\r\n\r\n                // 开始日期的max是结束日期的选中值，如果结束日期没有选择，使用item中设置的max\r\n                item.startMax = endDate ? endDate : item.max;\r\n                // 结束日期的min是开始日期的选中值，如果开始日期没有选择，使用item中设置的min\r\n                item.endMin = startDate ? startDate : item.min;\r\n                start.valueChanges.subscribe((value: Date): void => {\r\n                    // tslint:disable-next-line: prefer-conditional-expression\r\n                    if (this.isValidDate(value)) {\r\n                        item.endMin = value;\r\n                    } else if (this.isValidDate(item.min as Date)) {\r\n                        item.endMin = item.min;\r\n                    } else {\r\n                        // 没有设置 min,开始日期选中又清除后，需要设置一个min的缺省值\r\n                        item.endMin = undefined;\r\n                    }\r\n                });\r\n                end.valueChanges.subscribe((value: Date): void => {\r\n                    // tslint:disable-next-line: prefer-conditional-expression\r\n                    if (this.isValidDate(value)) {\r\n                        item.startMax = value;\r\n                    } else if (this.isValidDate(item.max as Date)) {\r\n                        item.startMax = item.max;\r\n                    } else {\r\n                        // 没有设置 max, 结束日期选中又清除后，需要设置一个max的缺省值\r\n                        item.startMax = undefined;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n    // Invalid Date判断\r\n    // tslint:disable-next-line: prefer-function-over-method\r\n    private isValidDate(date: Date | string): boolean {\r\n        return Object.prototype.toString.call(date) === '[object Date]' && String(date) !== 'Invalid Date';\r\n    }\r\n\r\n    // 自定义校验规则小于最大值\r\n    // 静态方法返回箭头函数生成环境打包错误，所以使用\r\n    // tslint:disable-next-line: prefer-function-over-method\r\n    private lessMax(field: string): ValidatorFn {\r\n        return (control: AbstractControl): ValidationErrors | null => {\r\n            if (control.parent && control.parent.get(field)) {\r\n                const end: number = control.parent.get(field).value;\r\n                // 开始和结束值都存在时，判断开始可结束值的大小\r\n                if (end && control.value && control.value > end) {\r\n                    return {\r\n                        minValue: {\r\n                            actualValue: control.value,\r\n                            tiErrorMessage: TiLocale.getLocaleWords().tpSearchbox.rangeMinErr\r\n                        }\r\n                    };\r\n                }\r\n            }\r\n\r\n            // tslint:disable-next-line: no-null-keyword\r\n            return null;\r\n        };\r\n    }\r\n    // 自定义校验规则，大于最小值\r\n    // tslint:disable-next-line: prefer-function-over-method\r\n    private moreMin(field: string): ValidatorFn {\r\n        return (control: AbstractControl): ValidationErrors | null => {\r\n            if (control.parent && control.parent.get(field)) {\r\n                const start: number = control.parent.get(field).value;\r\n                // 开始和结束值都存在时，判断开始可结束值的大小\r\n                if (start && control.value && control.value < start) {\r\n                    return {\r\n                        minValue: {\r\n                            actualValue: control.value,\r\n                            tiErrorMessage: TiLocale.getLocaleWords().tpSearchbox.rangeMaxErr\r\n                        }\r\n                    };\r\n                }\r\n            }\r\n\r\n            // tslint:disable-next-line: no-null-keyword\r\n            return null;\r\n        };\r\n    }\r\n\r\n    // 初始化属性面板选项\r\n    private initPropDropOptions(): void {\r\n        const options: Array<TpSearchboxOption> = [];\r\n        this.items.forEach((item: TpSearchboxItem): void => {\r\n            const option: TpSearchboxOption = {\r\n                field: item.field,\r\n                label: item.label,\r\n                type: item.type,\r\n                placeholder: item?.placeholder\r\n            };\r\n            // label\r\n            if (item.type === 'noValue') {\r\n                option['children'] = item.children.map((childOption: TpSearchboxOption): TpSearchboxOption => {\r\n                    childOption.type = 'noValue';\r\n\r\n                    return childOption;\r\n                });\r\n            }\r\n            options.push(option);\r\n        });\r\n\r\n        this.propDropOptions = options;\r\n    }\r\n    private initSettingDropOptions(): void {\r\n        // 只有noValue类型不能设置为默认搜索项\r\n        const options: Array<TpSearchboxOption> = this.items.filter((item: TpSearchboxItem): boolean => {\r\n            return item.type !== 'noValue';\r\n        })\r\n            .map((item: TpSearchboxItem): TpSearchboxOption => {\r\n                const option: TpSearchboxOption = {\r\n                    label: item.label,\r\n                    field: item.field\r\n                };\r\n                // 如果设置了defaultField，面板中高亮显示\r\n                if (this.defaultField === option.field) {\r\n                    this.settingsDropSelected = option;\r\n                }\r\n\r\n                return option;\r\n            });\r\n        // 使用分组来显示面板标题\r\n        this.settingDropOptions = [{\r\n            label: this.settingTipContent,\r\n            children: options\r\n        }];\r\n    }\r\n\r\n    private matchCheckboxInput(value: string): void {\r\n        const valueArray: Array<string> = value.split('|')\r\n            .map((span: string): string => {\r\n                return span.trim();\r\n            });\r\n        this.valueDropSelecteds = [];\r\n        this.selectedItem.options.forEach((option: TpSearchboxOption): void => {\r\n            if (valueArray.includes(option.label)) {\r\n                this.valueDropSelecteds.push(option);\r\n            }\r\n        });\r\n    }\r\n\r\n    private dealRadioItemSearch(value: string): void {\r\n        const searchResult: Array<TpSearchboxOption> = this.searchOptions(value, this.valueDropOptions);\r\n        if (searchResult.length > 0) {\r\n            this.setValueDropSearchResult(searchResult);\r\n            this.showValueDrop();\r\n        } else {\r\n            this.valueDropCom.hide();\r\n        }\r\n    }\r\n\r\n    // 设置值面板的选项\r\n    private setValueDropSearchResult(options: Array<TpSearchboxOption>): void {\r\n        if (this.selectedItem.type === 'checkbox') {\r\n            this.valueMultiDropCom.searchResult = options;\r\n        } else if (this.selectedItem.type === 'radio' || this.selectedItem.type === 'map') {\r\n            this.valueDropCom.searchResult = options;\r\n        }\r\n    }\r\n    // 懒加载时，设置值面板选项\r\n    private setCustomValueDropSearchResult(options: Array<TpSearchboxOption>): void {\r\n        if (this.selectedItem.type === 'checkbox') {\r\n            this.selectedItem.options = options;\r\n            this.valueMultiDropCom.searchResult = options;\r\n        } else if (this.selectedItem.type === 'radio') {\r\n            this.selectedItem.options = options;\r\n            this.valueDropCom.searchResult = options;\r\n        } else if (this.selectedItem.type === 'map') {\r\n            this.selectedItem.options = options;\r\n            this.valueDropCom.searchResult = [{\r\n                label: TiLocale.getLocaleWords().tpSearchbox.tagKey,\r\n                children: options\r\n            }];\r\n\r\n        }\r\n        this.changeDetectorRef.detectChanges();\r\n    }\r\n\r\n    // 根据输入内容生成tag\r\n    private generateTagByInputValue(): void {\r\n        // 有选中项且可编辑\r\n        if (this.selectedItem) {\r\n            if (this.tagEditable(this.selectedItem.type) || this.selectedItem.type === 'map') {\r\n                if (this.isTagExist(this.selectedItem, this.inputValue)) {\r\n                    return;\r\n                }\r\n                this.generateTag(this.selectedItem, this.inputValue);\r\n                this.emitChange();\r\n                this.selectedItem = undefined;\r\n                this.inputValue = '';\r\n                this.hideValueDrops();\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        // 没有选中项，按默认值处理\r\n        if (!this.defaultField || this.inputValue === '') {\r\n            return;\r\n        }\r\n\r\n        // 属性面板展开，会触发dropsearch的快捷键，所以先关闭\r\n        this.propDropCom.hide();\r\n        // 输入字符串之间可能使用中英文','分割\r\n        const values: Array<string> = this.inputValue.split(/[，,]/)\r\n            .map((value: string) => {\r\n                return value.trim();\r\n            })\r\n            .filter((value: string) => {\r\n                return value !== '';\r\n            });\r\n        if (values.length === 0) {\r\n            return;\r\n        }\r\n        // 因为要多次生成tag, 会多次更新model,\r\n        // 用此变量标记在最后一次生成更新model后发射ngModelChange事件\r\n        let modelChanged: boolean = false;\r\n        // 只支持每次输入都是同一类型的，所以多个值用第一个匹配，找到匹配项\r\n        const matchedItem: TpSearchboxItem = this.items.find((item: TpSearchboxItem): boolean => {\r\n            return item.regexp && item.regexp.test(values[0]);\r\n        });\r\n\r\n        if (matchedItem) {\r\n            values.forEach((value: string) => {\r\n                if (!this.isTagExist(matchedItem, value)) {\r\n                    modelChanged = true;\r\n                    this.generateTag(matchedItem, value);\r\n                }\r\n            });\r\n        } else if (this.defaultField) {\r\n            const defaultItem = this.items.find((item: TpSearchboxItem): boolean => {\r\n                return this.defaultField === item.field;\r\n            });\r\n            // 默认项生成tag,不支持逗号分隔，所以用inputValue整体\r\n            if (!this.isTagExist(defaultItem, this.inputValue)) {\r\n                modelChanged = true;\r\n                this.generateTag(defaultItem, this.inputValue);\r\n            }\r\n        }\r\n\r\n        this.inputValue = '';\r\n        if (modelChanged) {\r\n            this.emitChange();\r\n        }\r\n    }\r\n\r\n    // 属性面板没有选中项,所以要清除处理。如果不进行重置，则会出现选中样式~\r\n    private clearPropDropSelected(): void {\r\n        this.propDropSelected = undefined;\r\n    }\r\n\r\n    private responseEnter(event: Event): void {\r\n        this.generateTagByInputValue();\r\n    }\r\n    private responseBackspace(): void {\r\n        if (this.inputValue) {\r\n            return;\r\n        }\r\n        // 处理map类型标签tag\r\n        if (this.selectedOption) {\r\n            this.selectedOption = undefined;\r\n            this.valueDropCom.hide();\r\n            const searchResult: Array<TpSearchboxOption> = this.getValueDropOptions(this.selectedItem.field);\r\n            this.setValueDropSearchResult(searchResult);\r\n\r\n            // 展开面板前更新了面板的参数，所以需要强制变检一次\r\n            this.changeDetectorRef.detectChanges();\r\n\r\n            this.showValueDrop();\r\n\r\n        } else if (this.selectedItem) {\r\n            // 处理有选中属性\r\n\r\n            this.hideValueDrops();\r\n\r\n            this.selectedItem = undefined;\r\n\r\n            // 展开面板前更新了面板的参数，所以需要强制变检一次\r\n            this.changeDetectorRef.detectChanges();\r\n            this.propDropCom.show();\r\n        } else if (this.model.length > 0) {\r\n            // 处理已经选中的标签\r\n            this.propDropCom.hide();\r\n\r\n            // 清除items 中的选中项\r\n            this.model.pop();\r\n            // change事件\r\n            this.emitChange();\r\n        }\r\n\r\n    }\r\n\r\n    // 展示值面板封装单选和多选\r\n    private showValueDrop(): void {\r\n        // 当点击选中的tag值时，dominatorSpace 需要改变，\r\n        // 5px = （22 -16）/2 +2 ; 22-tag高度，16-文字高度，2-上下两边，2-tag和组件边框之间的距离\r\n        this.dominatorSpace = this.editingTag ? '10px' : '7px';\r\n        // 展开面板前更新了面板的参数，所以需要强制变检一次\r\n        this.changeDetectorRef.detectChanges();\r\n        this.clearPropDropSelected();\r\n\r\n        switch (this.selectedItem.type) {\r\n            case 'radio':\r\n                this.valueDropCom.show();\r\n                break;\r\n            case 'map':\r\n                this.valueDropCom.show();\r\n                break;\r\n            case 'checkbox':\r\n                this.valueMultiDropCom.show();\r\n                break;\r\n            case 'numRange':\r\n                this.customDropCom.show();\r\n                this.setNumRangeDropFocusableElems();\r\n                break;\r\n            case 'dateRange':\r\n                this.customDropCom.show();\r\n                this.setDateRangeDropFocusableElems();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    private hideAllDrops(): void {\r\n        this.propDropCom.hide();\r\n        this.hideValueDrops();\r\n        if (this.showSettings) {\r\n            this.settingsDropCom.hide();\r\n        }\r\n    }\r\n    private hideValueDrops(): void {\r\n        this.valueDropCom.hide();\r\n        this.valueMultiDropCom.hide();\r\n        this.customDropCom.hide();\r\n    }\r\n\r\n    private hideCustomDrop(): void {\r\n        // 自定义面板隐藏前，让dominator重新聚焦，防止整体失焦\r\n        this.dominatorCom.focus();\r\n        this.customDropCom.hide();\r\n    }\r\n    // 根据关键词(忽略大小写)过滤options\r\n    // tslint:disable-next-line: prefer-function-over-method\r\n    private searchOptions(keyword: string, options: Array<TpSearchboxOption>): Array<TpSearchboxOption> {\r\n        const keywordUpper: string = keyword.toLocaleUpperCase();\r\n\r\n        return options.filter((option: TpSearchboxOption): boolean => {\r\n            const labelUpper: string = option.label.toLocaleUpperCase();\r\n\r\n            return labelUpper.indexOf(keywordUpper) !== -1;\r\n        });\r\n    }\r\n\r\n    // map 类型\r\n    private mapItemSelect(option: TpSearchboxOption): void {\r\n        if (this.selectedOption) {\r\n            const field: string = this.selectedItem.field;\r\n            const label: string = this.selectedItem.label;\r\n            const value: string = `${this.selectedOption.label}=${option.label}`;\r\n\r\n            const newTag: TpSearchboxTag = {\r\n                field,\r\n                label,\r\n                value,\r\n                type: 'map'\r\n            };\r\n\r\n            if (!this.model) {\r\n                this.model = [newTag];\r\n\r\n                return;\r\n            }\r\n\r\n            const index: number = this.model.findIndex((tag: TpSearchboxTag): boolean => {\r\n                return tag.field === field && tag.value === value;\r\n            });\r\n\r\n            // 标签编辑时，是替换\r\n            if (this.editingTag) {\r\n                this.editingTag = newTag;\r\n                this.model.splice(index, 1, newTag);\r\n            } else if (index === -1) {\r\n                this.model.push(newTag);\r\n            }\r\n            this.emitChange();\r\n            this.selectedItem = undefined;\r\n            this.selectedOption = undefined;\r\n            this.editingTag = undefined;\r\n\r\n            this.valueDropCom.hide();\r\n        } else {\r\n            this.selectedOption = option;\r\n\r\n            if (Array.isArray(this.selectedOption.options)) {\r\n                const children: Array<TpSearchboxOption> = this.selectedOption.options;\r\n                this.valueDropCom.searchResult = [{\r\n                    label: TiLocale.getLocaleWords().tpSearchbox.tagValue,\r\n                    children\r\n                }];\r\n\r\n            } else {\r\n                this.valueDropCom.searchResult = [];\r\n            }\r\n            this.changeDetectorRef.detectChanges();\r\n            // 点击选项后默认会关闭面板，所以延迟后再次打开\r\n            setTimeout((): void => {\r\n                this.showValueDrop();\r\n            }, 0);\r\n        }\r\n    }\r\n\r\n    private setValueDropSelecteds(): void {\r\n        const selectedTag: TpSearchboxTag = this.model.find((tag: TpSearchboxTag): boolean => {\r\n            return this.selectedItem.field === tag.field;\r\n        });\r\n        if (selectedTag) {\r\n            this.matchCheckboxInput(selectedTag.value);\r\n        }\r\n    }\r\n    // 清理临时状态\r\n    private clearState(): void {\r\n        this.editingTag = undefined;\r\n        this.selectedItem = undefined;\r\n        this.inputValue = '';\r\n        this.valueDropSelecteds = [];\r\n        this.valueDropSelected = undefined;\r\n        this.hideValueDrops();\r\n    }\r\n\r\n    private generateNumRangetag(): void {\r\n        const values: any = this.selectedItem.formControls.value;\r\n        if (this.selectedItem.formControls.status === TpSearchboxComponent.INVALID || (!values.start && !values.end)) {\r\n            return;\r\n        }\r\n        let tagValue: string;\r\n        if (values.start && values.end) {\r\n            tagValue = `${values.start}${this.rangeLine}${values.end}`;\r\n        } else if (values.start) {\r\n            tagValue = this.rangeLarge + values.start;\r\n        } else if (values.end) {\r\n            tagValue = this.rangeLess + values.end;\r\n        }\r\n        // 数字范围可能有单位\r\n        let label: string = this.selectedItem.label;\r\n        if (this.selectedItem.unit) {\r\n            label = `${label}(${this.selectedItem.unit})`;\r\n        }\r\n        const newTag: TpSearchboxTag = {\r\n            field: this.selectedItem.field,\r\n            label,\r\n            type: 'numRange',\r\n            start: values.start,\r\n            end: values.end,\r\n            value: tagValue\r\n        };\r\n\r\n        if (!this.model) {\r\n            this.model = [newTag];\r\n\r\n            return;\r\n        }\r\n\r\n        const tagIndex: number = this.model.findIndex((tag: TpSearchboxTag): boolean => {\r\n            return tag.field === this.selectedItem.field;\r\n        });\r\n\r\n        if (tagIndex === -1) {\r\n            this.model.push(newTag);\r\n        } else {\r\n            this.model.splice(tagIndex, 1, newTag);\r\n        }\r\n        this.afterGenerateTag();\r\n    }\r\n\r\n    private generateDateRangeTag(): void {\r\n        const values: any = this.selectedItem.formControls.value;\r\n        if (!values.start && !values.end) {\r\n            return;\r\n        }\r\n        let tagValue: string = '';\r\n        let start: string;\r\n        let end: string;\r\n        if (values.start && values.end) {\r\n            tagValue = `${this.formatDate2String(values.start as Date)}${this.rangeLine}${this.formatDate2String(values.end as Date)}`;\r\n            start = values.start.toISOString();\r\n            end = values.end.toISOString();\r\n        } else if (values.start) {\r\n            tagValue = this.rangeLarge + this.formatDate2String(values.start as Date);\r\n            start = values.start.toISOString();\r\n        } else if (values.end) {\r\n            tagValue = this.rangeLess + this.formatDate2String(values.end as Date);\r\n            end = values.end.toISOString();\r\n        }\r\n        const newTag: TpSearchboxTag = {\r\n            field: this.selectedItem.field,\r\n            label: this.selectedItem.label,\r\n            start,\r\n            end,\r\n            type: 'dateRange',\r\n            value: tagValue\r\n        };\r\n\r\n        if (!this.model) {\r\n            this.model = [newTag];\r\n\r\n            return;\r\n        }\r\n\r\n        const tagIndex: number = this.model.findIndex((curTag: TpSearchboxTag): boolean => {\r\n            return curTag.field === this.selectedItem.field;\r\n        });\r\n\r\n        if (tagIndex === -1) {\r\n            this.model.push(newTag);\r\n        } else {\r\n            this.model.splice(tagIndex, 1, newTag);\r\n        }\r\n        this.afterGenerateTag();\r\n    }\r\n\r\n    private afterGenerateTag(): void {\r\n        this.emitChange();\r\n        this.hideCustomDrop();\r\n        this.selectedItem = undefined;\r\n    }\r\n\r\n    private setNumRangeDropFocusableElems(): void {\r\n        const inputs: NodeList = this.customDropCom.nativeElement.querySelectorAll('[tiText]');\r\n        const inputElemsArray: Array<any> = [].slice.call(inputs);\r\n        this.setFocusableElems(this.alwaysFocusableElems.concat(inputElemsArray, this.getButtons(), this.customDropCom.nativeElement));\r\n    }\r\n\r\n    private setDateRangeDropFocusableElems(): void {\r\n        // 日期范围面板中的日期组件，存在焦点问题，\r\n        const elemsNodeList: Array<any> = this.alwaysFocusableElems.concat(\r\n            this.customDropCom.nativeElement,\r\n            this.dateRangeStartCom.getFocusableElems(),\r\n            this.dateRangeEndCom.getFocusableElems(),\r\n            this.getButtons()\r\n        );\r\n        this.setFocusableElems(elemsNodeList);\r\n        this.changeDetectorRef.detectChanges();\r\n        this.changeDetectorRef.markForCheck();\r\n    }\r\n\r\n    private getButtons(): Array<any> {\r\n        const buttons: NodeList = this.customDropCom.nativeElement.querySelectorAll('[tiButton]');\r\n\r\n        return [].slice.call(buttons);\r\n    }\r\n    // 日期对象转字符串\r\n    private formatDate2String(date: Date): string {\r\n        if (!this.isValidDate(date)) {\r\n            return '';\r\n        } else {\r\n            return TiLocaleFormat.formatDate(date, this.selectedItem.format);\r\n        }\r\n    }\r\n\r\n    private generateTagByValuePanel(): void {\r\n        let tagValue: string = '';\r\n        // 单选复选\r\n        if (this.selectedItem.type === 'checkbox') {\r\n             tagValue = this.valueDropSelecteds.reduce((acc: string, cur: TpSearchboxOption, index: number): string => {\r\n                return index === 0 ? cur.label : `${acc} | ${cur.label}`;\r\n            }, '');\r\n        } else {\r\n            tagValue = this.valueDropSelected.label;\r\n        }\r\n\r\n        if (this.isTagExist(this.selectedItem, tagValue)) {\r\n            return;\r\n        }\r\n        this.generateTag(this.selectedItem, tagValue);\r\n        // change 事件\r\n        this.emitChange();\r\n    }\r\n    // 当前要生成的tag是否已经存在\r\n    private isTagExist(selectedItem: TpSearchboxItem, tagValue: string): boolean {\r\n        // 新选中的tag是否已经存在\r\n        const selectedTagIndex: number = this.model.findIndex((tag: TpSearchboxTag): boolean => {\r\n            return tag.field === selectedItem.field && tag.value === tagValue;\r\n        });\r\n\r\n        return selectedTagIndex !== -1;\r\n    }\r\n\r\n    // label 类型的标签，只选择一次\r\n    private generateTagByPropDrop(option: any): void {\r\n        const newTag: TpSearchboxTag = {\r\n            field: option.field,\r\n            label: option.label,\r\n            value: '',\r\n            type: 'noValue'\r\n        };\r\n        if (!this.model) {\r\n            this.model = [newTag];\r\n\r\n            return;\r\n        }\r\n        // 只有一个label类型的tag\r\n        const index: number = this.model.findIndex((tag: TpSearchboxTag): boolean => {\r\n            return tag.type === 'noValue';\r\n        });\r\n        // 存在标签时替换，不存在时添加到最后\r\n        if (index > 0) {\r\n            this.model.splice(index, 1, newTag);\r\n        } else {\r\n            this.model.push(newTag);\r\n        }\r\n        this.emitChange();\r\n\r\n    }\r\n\r\n    // 生成tag\r\n    private generateTag(selectedItem: TpSearchboxItem, tagValue: string): void {\r\n\r\n        const newTag: TpSearchboxTag = {\r\n            field: selectedItem.field,\r\n            label: selectedItem.label,\r\n            value: tagValue,\r\n            type: selectedItem.type\r\n        };\r\n        // 如果选中field中设置了optionValueKey，给生成tag 添加额外的key, 单选为字符串，复选为字符串数组\r\n        if(selectedItem.optionValueKey){\r\n            this.addOtherOptionKey(newTag, selectedItem.optionValueKey);\r\n        }\r\n\r\n        this.updateModel(newTag, selectedItem);\r\n\r\n    }\r\n    private addOtherOptionKey(tag: TpSearchboxTag, valueKey: string): void {\r\n        // 只对单选和复选做处理\r\n        if (this.selectedItem.type === 'checkbox' && this.valueDropSelecteds) {\r\n            this.valueDropSelecteds.forEach((option: TpSearchboxOption) => {\r\n                if (Array.isArray(tag[valueKey])) {\r\n                    tag[valueKey].push(option[valueKey])\r\n                } else {\r\n                    tag[valueKey] = [option[valueKey]];\r\n                }\r\n            });\r\n\r\n        } else if (this.selectedItem.type === 'radio' && this.valueDropSelected) {\r\n            tag[valueKey] = this.valueDropSelected[valueKey];\r\n        }\r\n    }\r\n\r\n    private updateModel(newTag: TpSearchboxTag, selectedItem: TpSearchboxItem): void {\r\n\r\n        if (!this.model) {\r\n            this.model = [newTag];\r\n\r\n            return;\r\n        }\r\n\r\n        // 编辑模式\r\n        if (this.editingTag) {\r\n            const editingTagIndex: number = this.model.findIndex((tag: TpSearchboxTag): boolean => {\r\n                return tag.field === selectedItem.field && tag.value === this.editingTag.value;\r\n            });\r\n            this.model.splice(editingTagIndex, 1, newTag);\r\n        } else {\r\n            // tags中相同field\r\n            const fieldTagIndex: number = this.model.findIndex((tag: TpSearchboxTag): boolean => {\r\n                return tag.field === selectedItem.field;\r\n            });\r\n            // radio 类型可以设置是否替换，map默认不可替换,\r\n            if (fieldTagIndex === -1 || (selectedItem.type === 'radio' && selectedItem.replace === false) || selectedItem.type === 'map') {\r\n                this.model.push(newTag);\r\n            } else {\r\n                this.model.splice(fieldTagIndex, 1, newTag);\r\n            }\r\n        }\r\n\r\n    }\r\n    private emitChange(): void {\r\n        this.model = this.model.concat();\r\n        this.setPlaceholder(this.model);\r\n    }\r\n    private getValueDropOptions(field: string): Array<any> {\r\n\r\n        let options: Array<TpSearchboxOption> = this.selectedItem && Array.isArray(this.selectedItem.options) ?\r\n            this.selectedItem.options : [];\r\n        // map类型，利用分组标题显示面板标题\r\n        if (this.selectedItem.type === 'map') {\r\n            // 如果已经选中标签的键\r\n            if (this.selectedOption) {\r\n                options = [\r\n                    {\r\n                        label: TiLocale.getLocaleWords().tpSearchbox.tagValue,\r\n                        children: this.selectedOption.options\r\n                    }\r\n                ];\r\n            } else {\r\n                options = [\r\n                    {\r\n                        label: TiLocale.getLocaleWords().tpSearchbox.tagKey,\r\n                        children: this.selectedItem.options\r\n                    }\r\n                ];\r\n            }\r\n        }\r\n\r\n        return options;\r\n    }\r\n\r\n    // 生成结果 filter对象\r\n    private getFilter(): TpSearchboxFilter {\r\n        const filter: TpSearchboxFilter = {};\r\n        this.model.forEach((tag: TpSearchboxTag): void => {\r\n            // 已经存在，合并一起\r\n            if (Array.isArray(filter[tag.field])) {\r\n                filter[tag.field] = filter[tag.field].concat(tag.value.split('|')\r\n                    .map((value: string): string => {\r\n                        return value.trim();\r\n                    }));\r\n            } else {\r\n                filter[tag.field] = tag.value.split('|')\r\n                    .map((value: string): string => {\r\n                        return value.trim();\r\n                    });\r\n            }\r\n        });\r\n\r\n        return filter;\r\n    }\r\n    // 选中一段html，三种浏览器测试正常\r\n    // tslint:disable-next-line: prefer-function-over-method\r\n    private selectHTMLElementText(elem: HTMLElement): void {\r\n        const range: Range = document.createRange();\r\n        range.selectNodeContents(elem);\r\n        const selection: Selection = window.getSelection();\r\n        selection.removeAllRanges();\r\n        selection.addRange(range);\r\n    }\r\n    // tslint:disable-next-line: max-file-line-count\r\n}\r\n","import { Component, ElementRef, Renderer2, TemplateRef, ViewChild } from '@angular/core';\r\n// tslint:disable-next-line: no-implicit-dependencies\r\nimport { TiBaseComponent, TiLocale, TiModalService } from '@cloud/tiny3';\r\n\r\n@Component({\r\n    selector: 'tp-searchbox-help',\r\n    templateUrl: './searchbox-help.html',\r\n    styleUrls: ['./searchbox-help.less']\r\n})\r\nexport class TpSearchboxHelpComponent extends TiBaseComponent {\r\n    /**\r\n     * @ignore\r\n     * 默认字段\r\n     */\r\n    public defaultField: string = 'testName';\r\n    /**\r\n     * @ignore\r\n     * 示例1选中项\r\n     */\r\n    public tags1: Array<any>;\r\n    /**\r\n     * @ignore\r\n     * 示例二选中项\r\n     */\r\n    public tags2: Array<any>;\r\n    /**\r\n     * @ignore\r\n     * 示例二选中项\r\n     */\r\n    public tags3: Array<any>;\r\n    /**\r\n     * @ignore\r\n     * 输入项\r\n     */\r\n    public items: Array<any> = [];\r\n    /**\r\n     * @ignore\r\n     * 弹窗模板\r\n     */\r\n    @ViewChild(TemplateRef, { static: false }) helpModalTemplateRef: TemplateRef<any>;\r\n\r\n    constructor(hostRef: ElementRef, render: Renderer2, private tiModal: TiModalService) {\r\n        super(hostRef, render);\r\n    }\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        // tslint:disable-next-line: typedef\r\n        const { name,\r\n            status,\r\n            running,\r\n            creating,\r\n            stopped,\r\n            restarting,\r\n            tag } = TiLocale.getLocaleWords().tpSearchbox;\r\n        // 初始化数据\r\n        this.items = [{\r\n            label: name,\r\n            field: 'testName',\r\n            type: 'radio',\r\n            options: [{\r\n                label: 'ecs-1'\r\n            }, {\r\n                label: 'obs-2'\r\n            }, {\r\n                label: 'vpc-1'\r\n            }]\r\n        },\r\n        {\r\n            label: status,\r\n            field: 'testStatus',\r\n            type: 'checkbox',\r\n            options: [{\r\n                label: running\r\n            }, {\r\n                label: creating\r\n            }, {\r\n                label: stopped\r\n            }, {\r\n                label: restarting\r\n            }]\r\n        },\r\n        {\r\n            id: '3',\r\n            label: tag,\r\n            field: 'testTag',\r\n            type: 'map',\r\n            options: [\r\n                {\r\n                    label: 'aaa',\r\n                    options: [\r\n                        {\r\n                            label: 'ddd'\r\n                        },\r\n                        {\r\n                            label: 'eee'\r\n                        },\r\n                        {\r\n                            label: 'fff'\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    label: 'bbb',\r\n                    options: [\r\n                        {\r\n                            label: 'ddd'\r\n                        },\r\n                        {\r\n                            label: 'eee'\r\n                        },\r\n                        {\r\n                            label: 'fff'\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    label: 'ccc',\r\n                    options: [\r\n                        {\r\n                            label: 'ddd'\r\n                        },\r\n                        {\r\n                            label: 'eee'\r\n                        },\r\n                        {\r\n                            label: 'fff'\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }];\r\n        this.tags1 = [\r\n            {\r\n                field: 'testName',\r\n                label: name,\r\n                value: 'ecs-1',\r\n                type: 'radio'\r\n            }\r\n        ];\r\n        this.tags2 = [\r\n            {\r\n                field: 'testName',\r\n                label: name,\r\n                value: 'ecs-1',\r\n                type: 'radio'\r\n            },\r\n            {\r\n                field: 'testStatus',\r\n                label: status,\r\n                value: `${running} | ${creating} | ${stopped}`,\r\n                type: 'checkbox'\r\n            }\r\n        ];\r\n        this.tags3 = [\r\n            {\r\n                field: 'testName',\r\n                label: name,\r\n                value: 'ecs-1',\r\n                type: 'radio'\r\n            },\r\n            {\r\n                field: 'testStatus',\r\n                label: status,\r\n                value: running,\r\n                type: 'checkbox'\r\n            },\r\n            {\r\n                field: 'testTag',\r\n                label: tag,\r\n                value: 'aaa=',\r\n                type: 'map'\r\n            }\r\n        ];\r\n    }\r\n    /**\r\n     * 展示弹窗\r\n     */\r\n    public show(): void {\r\n        this.tiModal.open(this.helpModalTemplateRef, {\r\n            id: 'tp-searchbox-help-modal',\r\n            modalClass: 'tp-searchbox-help-modal'\r\n        });\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\nimport {\r\n    TiButtonModule, TiDateModule, TiDropModule,\r\n    TiDropsearchModule, TiLocaleModule, TiModalModule,\r\n    TiOverflowModule, TiTipModule, TiValidationModule,\r\n    TiDominatorModule, TiTextModule, TiOutlineModule\r\n} from '@cloud/tiny3';\r\nimport { TpSearchboxComponent } from './TpSearchboxComponent';\r\nimport { TpSearchboxHelpComponent } from './TpSearchboxHelpComponent';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        TiButtonModule,\r\n        TiModalModule,\r\n        TiDateModule,\r\n        TiDropModule,\r\n        TiDropsearchModule,\r\n        TiDominatorModule,\r\n        TiLocaleModule,\r\n        TiOverflowModule,\r\n        TiTextModule,\r\n        TiTipModule,\r\n        TiValidationModule,\r\n        TpIconModule,\r\n        TiOutlineModule\r\n    ],\r\n    exports: [TpSearchboxComponent, TpSearchboxHelpComponent],\r\n    declarations: [TpSearchboxComponent, TpSearchboxHelpComponent]\r\n})\r\n\r\nexport class TpSearchboxModule { }\r\nexport { TpSearchboxComponent, TpSearchboxItem, TpSearchboxOption, TpSearchboxTag,\r\n    TpSearchboxTagType, TpSearchboxFilter, TP_REGEXP_IP, TP_REGEXP_UUID } from './TpSearchboxComponent';\r\nexport { TpSearchboxHelpComponent } from './TpSearchboxHelpComponent';\r\n","import { Component, Input } from '@angular/core';\r\nimport { TiFormComponent } from '@cloud/tiny3';\r\n/**\r\n * 选择组 组件\r\n *\r\n * 配合[TpSelectItemComponent]{@link ../components/TpSelectitemComponent.html}使用\r\n *\r\n * <example-url>../tinyplus3demo/#/selectgroup/selectgroup-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-selectgroup',\r\n    templateUrl: './selectgroup.html',\r\n    providers: [TiFormComponent.getValueAccessor(TpSelectgroupComponent)]\r\n})\r\n\r\nexport class TpSelectgroupComponent extends TiFormComponent {\r\n    /**\r\n     * 10.1.1 新增\r\n     *\r\n     * 选择组是否多选\r\n     */\r\n    @Input() multiple: boolean;\r\n}\r\n","import { Component, Input, ElementRef, Renderer2, ContentChild, TemplateRef } from '@angular/core';\r\nimport { TpSelectgroupComponent } from './TpSelectgroupComponent';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\nexport interface TpSelectgroupItem {\r\n    /**\r\n     * 卡片标题\r\n     */\r\n    title: string;\r\n    /**\r\n     * 卡片内容\r\n     */\r\n    content?: string;\r\n    /**\r\n     * 卡片是否禁用\r\n     */\r\n    disabled?: boolean;\r\n    /**\r\n     * 卡片左侧图标名\r\n     */\r\n    iconName: string;\r\n    /**\r\n     * 允许有多余的属性字段\r\n     */\r\n    [propName: string]: any;\r\n}\r\n/**\r\n * 配合[TpSelectgroupComponent]{@link ../components/TpSelectgroupComponent.html}使用\r\n *\r\n * <example-url>../tinyplus3demo/#/selectgroup/selectgroup-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-selectitem',\r\n    templateUrl: './selectitem.html',\r\n    styleUrls: ['./selectgroup.less'],\r\n    host: {\r\n        '[class.tp-selectitem-box]': 'true',\r\n        '[class.tp-selectitem-disabled]': 'item.disabled',\r\n        '[class.tp-selectitem-checked]': 'selectgroup.multiple ? isChecked() : selectgroup.model === item',\r\n        '[class.tp-selectitem-template]': 'itemTemplate',\r\n        '(click)': 'onClick()'\r\n    }\r\n})\r\n\r\nexport class TpSelectitemComponent extends TiBaseComponent{\r\n    /**\r\n     * 数据配置\r\n     */\r\n    @Input() item: TpSelectgroupItem;\r\n    /**\r\n     * 选中标识位置\r\n     */\r\n    @Input() checkPosition: 'right-top' | 'right-bottom' = 'right-top';\r\n    // item模板\r\n    @ContentChild('item', /* TODO: add static flag */ { static: true }) itemTemplate: TemplateRef<any>;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public selectgroup: any;\r\n    constructor(selectgroup: TpSelectgroupComponent, protected hostRef: ElementRef, protected renderer: Renderer2) {\r\n        super(hostRef, renderer);\r\n        this.selectgroup = selectgroup;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public onClick(): void {\r\n        if (this.item.disabled) {\r\n            return;\r\n        }\r\n        if (this.selectgroup.multiple) { // 多选\r\n            const index: number = this.selectgroup.model.indexOf(this.item);\r\n            if (index > -1) {\r\n                this.selectgroup.model.splice(index, 1);\r\n            } else {\r\n                this.selectgroup.model.push(this.item);\r\n            }\r\n        } else { // 单选\r\n            this.selectgroup.model = this.item;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 是否选中（多选时）\r\n     */\r\n    public isChecked(): boolean {\r\n        if (this.selectgroup.model) {\r\n            return this.selectgroup.model.includes(this.item);\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\nimport { TiOverflowModule } from '@cloud/tiny3';\r\nimport { TpSelectgroupComponent } from './TpSelectgroupComponent';\r\nimport { TpSelectitemComponent } from './TpSelectitemComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiOverflowModule,\r\n    TpIconModule\r\n  ],\r\n  exports: [TpSelectgroupComponent, TpSelectitemComponent],\r\n  declarations: [TpSelectgroupComponent, TpSelectitemComponent]\r\n})\r\n\r\nexport class TpSelectgroupModule {}\r\nexport { TpSelectgroupComponent } from './TpSelectgroupComponent';\r\nexport { TpSelectitemComponent, TpSelectgroupItem } from './TpSelectitemComponent';\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\n\r\n/**\r\n * Selectsearchbox组件由下拉选择组件和搜索框组件构成。\r\n *\r\n * Selectsearchbox组件使用的时候需要和下拉框（TiSelect）及搜索框（TiSearchBox）一起使用。\r\n *\r\n * API详情请参考下拉框（TiSelect）及搜索框（TiSearchBox）。\r\n *\r\n * <example-url>../tinyplus3demo/#/selectsearchbox/selectsearchbox-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-selectsearchbox',\r\n    template: '<ng-content></ng-content>',\r\n    styleUrls: ['./selectsearchbox.less'],\r\n    encapsulation: ViewEncapsulation.None,\r\n    host: {\r\n        '[class.tp-selectsearchbox-container]': 'true'\r\n    }\r\n})\r\n\r\nexport class TpSelectsearchboxComponent {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\nimport { TpSelectsearchboxComponent } from './TpSelectsearchboxComponent';\r\n\r\n@NgModule({\r\n  imports: [TpIconModule],\r\n  exports: [TpSelectsearchboxComponent],\r\n  declarations: [TpSelectsearchboxComponent]\r\n})\r\n\r\nexport class TpSelectsearchboxModule {}\r\nexport { TpSelectsearchboxComponent } from './TpSelectsearchboxComponent';\r\n","import {\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  NgZone,\r\n  Output,\r\n  QueryList,\r\n  Renderer2,\r\n  SimpleChange,\r\n  SimpleChanges,\r\n  ViewChild\r\n  // tslint:disable-next-line: no-implicit-dependencies\r\n} from '@angular/core';\r\n\r\n// tslint:disable-next-line: no-implicit-dependencies\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n// tslint:disable-next-line: no-implicit-dependencies\r\nimport { TpCardComponent } from '../card/TpCardModule';\r\n/**\r\n * @ignore\r\n * 规范提出，云业务通用场景不会使用该组件，10.1.3起，在官网隐藏该组件。\r\n */\r\nexport interface TpSlidecardsPaginationEvent {\r\n  currentPage: number;\r\n  pageSize: number;\r\n  totalPage: number;\r\n  /**\r\n   * 允许有多余的属性字段\r\n   */\r\n  [propName: string]: any;\r\n}\r\n\r\n/**\r\n * @ignore\r\n * 规范提出，云业务通用场景不会使用该组件，10.1.3起，在官网隐藏该组件。\r\n * 滚动卡片列表，功能与轮播图相似，可以显示多屏展示卡片的效果，并且还提供了增加、删除卡片功能。详情参考测试用例。\r\n *\r\n * <example-url>../tinyplus3demo/#/slidecards/slidecards-all</example-url>\r\n */\r\n@Component({\r\n  selector: 'tp-slidecards',\r\n  templateUrl: './slidecards.html',\r\n  styleUrls: ['./slidecards.less']\r\n})\r\nexport class TpSlidecardsComponent extends TiBaseComponent {\r\n  /**\r\n   * 当前选中卡片在数组中的下标\r\n   */\r\n  @Input() currentIndex: number = 0;\r\n  /**\r\n   * 当前页改变事件\r\n   */\r\n  @Output() readonly pageChange: EventEmitter<TpSlidecardsPaginationEvent> = new EventEmitter<TpSlidecardsPaginationEvent>();\r\n  /**\r\n   * @ignore\r\n   * 卡片的可视区\r\n   */\r\n  @ViewChild('listWrapper') listWrapperEleRef: ElementRef;\r\n  /**\r\n   * @ignore\r\n   * 卡片父元素，用于监听内容变化\r\n   */\r\n  @ViewChild('list') listEleRef: ElementRef;\r\n  /**\r\n   * @ignore\r\n   * 所有的卡片集合\r\n   */\r\n  @ContentChildren(TpCardComponent, { descendants: false }) cardComRefs!: QueryList<TpCardComponent>;\r\n  /**\r\n   * @ignore\r\n   * 当前页\r\n   */\r\n  public currentPage: number = 1;\r\n  /**\r\n   * 每个卡片的宽度，用于计算分页\r\n   */\r\n  private cardWidth: number;\r\n  /**\r\n   * 卡片之间的距离，用于计算分页\r\n   */\r\n  private cardSpan: number = 0;\r\n  /**\r\n   * @ignore\r\n   * 卡片父元素的偏移距离，用于控制卡片左右滑动\r\n   */\r\n  public left: string = '0px';\r\n  /**\r\n   * @ignore\r\n   * 分页页码显示数据\r\n   */\r\n  public pageList: Array<string | number> = [];\r\n  /**\r\n   * 每页卡片数\r\n   */\r\n  private pageSize: number = 1;\r\n  /**\r\n   * @ignore\r\n   * 分页总页数\r\n   */\r\n  public totalPage: number = 1;\r\n  /**\r\n   * 总的卡片数量\r\n   */\r\n  private totalCard: number = 0;\r\n\r\n  private unlistenResize: () => void;\r\n  // 卡片父元素 MutationObserver 对象\r\n  private listObserver: MutationObserver;\r\n\r\n  constructor(\r\n    protected hostRef: ElementRef,\r\n    private renderer2: Renderer2,\r\n    private zone: NgZone\r\n  ) {\r\n    super(hostRef, renderer2);\r\n  }\r\n\r\n  // tslint:disable-next-line: use-life-cycle-interface\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    // 一屏显示卡片的数目会随窗口大小而变化，所以监听窗口大小变化重新计算分页，\r\n    this.zone.runOutsideAngular(() => {\r\n      this.unlistenResize = this.renderer2.listen(window, 'resize', () => {\r\n        if (this.canCalculatePaging()) {\r\n          this.calculatePaging();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 因为初始化要展示当前索引卡片，所以在初始化后先计算一次分页，然后显示currentIndex卡片\r\n   * 分页的计算依赖视图可视区的宽度，视图加载完成后才能计算，\r\n   * 分页计算后，会改变数据，所以用setTimeout。\r\n   *  总卡片数及cardsComRef 长度， pageSize = 容器宽度/（卡片宽度 + 卡片间的距离）\r\n   */\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    // 初始化时计算一次分页，然后把当前索引的卡片显示出来\r\n    if (this.canCalculatePaging()) {\r\n        setTimeout(() => {\r\n            this.calculatePaging();\r\n            this.showCurrentCard(this.currentIndex);\r\n        }, 0);\r\n    }\r\n\r\n    this.listObserver = new MutationObserver((mutationRecords) => {\r\n        this.calculatePaging();\r\n    });\r\n    // MutationObserver 对象的回调方法开始接收与给定选项匹配的DOM变化的通知\r\n    // 只需关注卡片增删和lef偏移值，所以只设置childList、attributes\r\n    this.listObserver.observe(this.listEleRef.nativeElement, {\r\n        childList: true, // 监视目标节点添加或删除新的子节点\r\n        attributes: true, // 观察受监视元素的属性值变更,主要是为了监听 style属性\r\n        attributeFilter: ['style'] // 要监视的特定属性名称的数组\r\n    });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    super.ngOnChanges(changes);\r\n    // currentIndex 改变跳转到对应页显示当前索引卡片\r\n    const currentIndexChange: SimpleChange = changes['currentIndex'];\r\n    if (!currentIndexChange.firstChange) {\r\n      this.showCurrentCard(currentIndexChange.currentValue);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    super.ngOnDestroy();\r\n    // 组件销毁时，注销窗口resize事件监听\r\n    if (this.unlistenResize) {\r\n      this.unlistenResize();\r\n    }\r\n    if (this.listObserver) {\r\n        this.listObserver.disconnect();\r\n    }\r\n  }\r\n  /**\r\n   * 是否能进行分页计算\r\n   * @returns boolean\r\n   */\r\n  private canCalculatePaging(): boolean {\r\n    return this.listWrapperEleRef && this.cardComRefs && this.cardComRefs.length > 0;\r\n  }\r\n  /**\r\n   * 先计算分页每页的卡片数pageSize，再计算总页数totalPage\r\n   */\r\n  private calculatePaging(): void {\r\n    this.calculatePageSize();\r\n    this.calculateTotalPage();\r\n  }\r\n  /**\r\n   * 计算分页总页数\r\n   */\r\n  private calculateTotalPage(): void {\r\n    this.totalCard = this.cardComRefs.length;\r\n    // 计算共有多少页\r\n    this.totalPage = Math.ceil(this.totalCard / this.pageSize);\r\n    // 生成分页器显示数组\r\n    this.generatePagesArray();\r\n    // 重新计算总页面后，需要处理当前页大于总页数的场景\r\n    if (this.currentPage > this.totalPage) {\r\n      this.goPage(this.totalPage);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 计算一次显示的卡片数\r\n   */\r\n  private calculatePageSize(): void {\r\n    // getComputedStyle 获取的宽度，在ie11下不包含padding和border,所以使用getBoundingClientRect（）\r\n    // 在初始化时，totalPage还没有计算出来，左右翻页按钮没有显示，但容器元素的可用宽度应该减去左右按钮的宽度之和30+30=60\r\n    const containerWidth: number = (this.listWrapperEleRef.nativeElement as HTMLElement).getBoundingClientRect().width - 60;\r\n    this.cardWidth = (this.cardComRefs.first.nativeElement as HTMLElement).getBoundingClientRect().width;\r\n    const cardStyle: CSSStyleDeclaration = getComputedStyle(this.cardComRefs.first.nativeElement);\r\n    this.cardSpan = parseFloat(cardStyle.marginRight);\r\n    // 当容器宽度小于card宽度时,需处理，避免分页不能正常生成\r\n    this.pageSize = containerWidth <= (this.cardWidth + this.cardSpan) ? 1 : Math.floor(containerWidth / (this.cardWidth + this.cardSpan));\r\n  }\r\n\r\n  /**\r\n   * 生成分页器显示的数组\r\n   */\r\n  private generatePagesArray(): void {\r\n    this.pageList = [];\r\n    // 判断总页数如果小于等于分页的长度，若小于则直接显示\r\n    if (this.totalPage <= 8) {\r\n      for (let i: number = 1; i <= this.totalPage; i++) {\r\n        this.pageList.push(i);\r\n      }\r\n    } else if (this.currentPage <= 3) {\r\n      // 右边...\r\n      for (let i: number = 1; i <= 5; i++) {\r\n        this.pageList.push(i);\r\n      }\r\n      this.pageList.push('...');\r\n      this.pageList.push(this.totalPage);\r\n    } else if (this.currentPage >= this.totalPage - 3) {\r\n      // 左边 ...\r\n      this.pageList.push(1);\r\n      this.pageList.push('...');\r\n      for (let i: number = 4; i >= 1; i--) {\r\n        this.pageList.push(this.totalPage - i);\r\n      }\r\n      this.pageList.push(this.totalPage);\r\n    } else {\r\n      // 最后一种情况，两边都有...\r\n      this.pageList.push(1);\r\n      this.pageList.push('...');\r\n      for (let i: number = 2; i >= 1; i--) {\r\n        this.pageList.push(this.currentPage - i);\r\n      }\r\n      this.pageList.push(this.currentPage);\r\n      for (let i: number = 1; i < 2; i++) {\r\n        this.pageList.push(this.currentPage + i);\r\n      }\r\n      this.pageList.push('...');\r\n      this.pageList.push(this.totalPage);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 指定页码翻页\r\n   * @param pageNum 跳转到的页码\r\n   * @ignore\r\n   */\r\n  public goPage(pageNum: number | string): void {\r\n    // ... 时，不做处理\r\n    if (typeof pageNum === 'string') {\r\n      return;\r\n    }\r\n\r\n    this.currentPage = pageNum;\r\n    // 偏移量=(当前页-1)*每页的卡片数量*（卡片宽度 + 卡片的Margin)\r\n    this.left = -(pageNum - 1) * this.pageSize * (this.cardWidth + this.cardSpan) + 'px';\r\n    // 触发pageChange事件\r\n    const data: TpSlidecardsPaginationEvent = {\r\n      currentPage: pageNum,\r\n      pageSize: this.pageSize,\r\n      totalPage: this.totalPage\r\n    };\r\n    this.pageChange.emit(data);\r\n\r\n  }\r\n\r\n  /**\r\n   * 向前跳转一页\r\n   * @ignore\r\n   */\r\n  public goPrev(): void {\r\n    if (this.currentPage > 1) {\r\n      this.goPage(this.currentPage - 1);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 向后跳转一页\r\n   * @ignore\r\n   */\r\n  public goNext(): void {\r\n    if (this.currentPage < this.totalPage) {\r\n      this.goPage(this.currentPage + 1);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 展示指定索引的卡片，在初始化及currentIndex 改变时，如果指定索引不在当前页，跳转到能显示c索引对应卡片的页码\r\n   */\r\n  private showCurrentCard(index: number): void {\r\n    // 如果索引和卡片的数目不匹配，不做处理。\r\n    if (index < 0 && index > (this.totalCard - 1)) {\r\n      return;\r\n    }\r\n    // 当前一屏卡片的最大最小索引\r\n    const maxIndex: number = this.currentPage * this.pageSize - 1;\r\n    const minIndex: number = this.currentPage > 0 ? ((this.currentPage - 1) * this.pageSize - 1) : 0;\r\n    // 当前索卡片是否在当前页面\r\n    if (index < minIndex || index > maxIndex) {\r\n      const targetPage: number = Math.ceil((index + 1) / this.pageSize);\r\n      this.goPage(targetPage);\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\n\r\nimport { TpSlidecardsComponent } from './TpSlidecardsComponent';\r\n/**\r\n * @ignore\r\n * 规范提出，云业务通用场景不会使用该组件，10.1.3起，在官网隐藏该组件。\r\n */\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TpIconModule\r\n  ],\r\n  declarations: [TpSlidecardsComponent],\r\n  exports: [TpSlidecardsComponent]\r\n})\r\n\r\nexport class TpSlidecardsModule {}\r\nexport { TpSlidecardsComponent, TpSlidecardsPaginationEvent} from './TpSlidecardsComponent';\r\n","import { Component, ContentChild, Input, TemplateRef } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n\r\n/**\r\n * @ignore\r\n * 规范提出，云业务通用场景不会使用该组件，10.1.3起，在官网隐藏该组件。\r\n * 步骤引导组件，用于静态展示操作步骤\r\n *\r\n * <example-url>../tinyplus3demo/#/stepguide/stepguide-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-stepguide',\r\n    templateUrl: './stepguide.html',\r\n    styleUrls: ['./stepguide.less']\r\n})\r\nexport class TpStepguideComponent extends TiBaseComponent {\r\n    /**\r\n     * 各步骤呈现涉及的信息配置\r\n     *\r\n     * 包含3个属性，1.label：该步骤的标题；2.iconClass：该步骤的图标/图片样式；3.description：该步骤的详细描述。\r\n     */\r\n    @Input() steps: Array<{\r\n        label: string;\r\n        iconClass: string;\r\n        description: string;\r\n    }>;\r\n    /**\r\n     * 每个步骤最大显示宽度，默认值为'156px'\r\n     */\r\n    @Input() stepMaxWidth: string;\r\n    /**\r\n     * @ignore\r\n     * 自定义description的模板\r\n     */\r\n    @ContentChild('description', { static: true }) description: TemplateRef<any>;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TpStepguideComponent } from './TpStepguideComponent';\r\n/**\r\n * @ignore\r\n * 规范提出，云业务通用场景不会使用该组件，10.1.3起，在官网隐藏该组件。\r\n */\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: [TpStepguideComponent],\r\n  declarations: [TpStepguideComponent]\r\n})\r\nexport class TpStepguideModule {}\r\nexport { TpStepguideComponent } from './TpStepguideComponent';\r\n","import {\r\n   Component,\r\n   EventEmitter,\r\n   Input,\r\n   Output,\r\n   ViewChild\r\n  } from '@angular/core';\r\nimport { Params } from '@angular/router';\r\n\r\nimport { TiBaseComponent, TiSelectComponent, Util, TiPositionType } from '@cloud/tiny3';\r\n\r\n/**\r\n * items接口item项的数据接口\r\n */\r\nexport interface TpSubtitleItem {\r\n    label: string;\r\n    [propName: string]: any;\r\n}\r\n\r\n@Component({\r\n    selector: 'tp-subtitle',\r\n    templateUrl: './subtitle.html',\r\n    styleUrls: ['./subtitle.less'],\r\n    host: {\r\n        '[style.max-width]': 'maxWidth'\r\n    }\r\n})\r\n\r\n/**\r\n * 返回标题组件\r\n *\r\n * <example-url>../tinyplus3demo/#/subtitle/subtitle-all</example-url>\r\n */\r\nexport class TpSubtitleComponent extends TiBaseComponent {\r\n    /**\r\n     * 后退按钮链接\r\n     */\r\n    @Input() href: string = '';\r\n    /**\r\n     * 数据选项，如果选项大于1个，标题是下拉的形式\r\n     */\r\n    @Input() items: Array<TpSubtitleItem> = [];\r\n    /**\r\n     * items 大于1项时，展开面板中是否有搜索\r\n     */\r\n    @Input() searchable: boolean = false;\r\n    /**\r\n     * 指定在何处显示链接的资源, 即a标签的target属性\r\n     */\r\n    @Input() target: '_blank' | '_self' | '_parent' | '_top' = '_blank';\r\n    // select组件选中项模板引用名为#selected, 两个名字冲突，所以使用了别名\r\n    /**\r\n     * 选中项，items 的条数大于1时才生效，双向数据绑定\r\n     */\r\n    @Input('selected') selectedItem: TpSubtitleItem;\r\n    /**\r\n     * 后退按钮点击后的跳转路由, 设置后href和target失效\r\n     * 10.1.2 新增\r\n     */\r\n    @Input() backRouterLink: string | Array<any>;\r\n    /**\r\n     * 后退按钮点击后的跳转路由参数\r\n     * 10.1.0 新增\r\n     */\r\n    @Input() queryParams: Params;\r\n    /**\r\n     * 下拉面板宽度设置\r\n     * 10.1.2 新增\r\n     */\r\n    @Input() panelWidth: string;\r\n    /**\r\n     * 设置最大宽度\r\n     *  10.1.2 新增\r\n     */\r\n    @Input() maxWidth: string = '250px';\r\n    /**\r\n     * 设置标题溢出提示的方向\r\n     *  10.1.3 新增\r\n     */\r\n    @Input() tipPosition: TiPositionType = 'top';\r\n    /**\r\n     * 选中项，items 的条数大于1时才生效，双向数据绑定\r\n     */\r\n    @Output() readonly selectedChange: EventEmitter<TpSubtitleItem> = new EventEmitter();\r\n    /**\r\n     * 后退按钮点击回调\r\n     */\r\n    @Output() readonly back: EventEmitter<Event> = new EventEmitter();\r\n\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild(TiSelectComponent) selectComRef: TiSelectComponent;\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        // 如果没有传入选中项，且items 条目数大于1 默认选中第一项，\r\n        if (Util.isUndefined(this.selectedItem) && this.items.length > 1) {\r\n            this.selectedItem = this.items[0];\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n      super.ngAfterViewInit();\r\n      // 选项数大于等于2 ，才出现select\r\n      if (this.items.length < 2) {\r\n          return ;\r\n      }\r\n      // 暗色背景，给ti-select 添加dark属性\r\n      const attrs: NamedNodeMap = this.hostRef.nativeElement.attributes;\r\n      if (!Util.isUndefined(attrs['dark'])) {\r\n          this.renderer.setAttribute(this.selectComRef.nativeElement, 'dark', '');\r\n      }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 触发back 事件\r\n     */\r\n    public onClick($event: Event): void {\r\n      this.back.emit($event);\r\n    }\r\n    /**\r\n     * @ignore\r\n     * select选中项改变，触发subtitle selectedChange事件\r\n     */\r\n    public onSelectedOptionChange(option: any): void {\r\n       this.selectedChange.emit(option as TpSubtitleItem);\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { TiOverflowModule, TiSelectModule, TiTipModule } from '@cloud/tiny3';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\nimport { TpSubtitleComponent } from './TpSubtitleComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule,\r\n    TiOverflowModule,\r\n    TiSelectModule,\r\n    TiTipModule,\r\n    TpIconModule\r\n  ],\r\n  exports: [TpSubtitleComponent],\r\n  declarations: [TpSubtitleComponent]\r\n})\r\n\r\nexport class TpSubtitleModule {}\r\nexport { TpSubtitleComponent, TpSubtitleItem} from './TpSubtitleComponent';\r\n","import { Component } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n/**\r\n * TpSwiperCard 是单个卡片组件\r\n */\r\n@Component({\r\n    selector: 'tp-swipercard',\r\n    template: `<ng-content></ng-content>`,\r\n    styleUrls: ['./swipercard.less']\r\n})\r\n\r\nexport class TpSwipercardComponent extends TiBaseComponent {}\r\n","import { Component, ContentChildren, ElementRef, EventEmitter, Input, NgZone, Output, QueryList, Renderer2, SimpleChange, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { TiBaseComponent } from '@cloud/tiny3';\r\n\r\nimport { TpSwipercardComponent } from './TpSwipercardComponent';\r\n\r\n/**\r\n * swiper组件每个展示块为一个card，点击左右按钮可以实现card切换功能\r\n *\r\n * <example-url>../tinyplus3demo/#/swiper/swiper-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-swiper',\r\n    templateUrl: './swiper.html',\r\n    styleUrls: ['./swiper.less'],\r\n    host: {\r\n        '[class.tp-swiper-multiple]': 'showCardNum > 1'\r\n    }\r\n})\r\n\r\nexport class TpSwiperComponent extends TiBaseComponent {\r\n    constructor(private elementRef: ElementRef, private renderer2: Renderer2, private zone: NgZone) {\r\n        super(elementRef, renderer2);\r\n    }\r\n    /**\r\n     * 指定当前激活项\r\n     */\r\n    @Input() activeIndex: number = 0;\r\n    /**\r\n     * 10.0.2新增\r\n     *\r\n     * 是否自动播放\r\n     */\r\n    @Input() autoplay: boolean = false;\r\n    /**\r\n     * 10.0.2新增\r\n     *\r\n     * 自动播放时，默认的播放（翻页）速度\r\n     */\r\n    @Input() autoplaySpeed: number = 3000;\r\n    /**\r\n     * 10.1.2新增\r\n     *\r\n     * 每页展示卡片数量\r\n     */\r\n    @Input() showCardNum: number = 1;\r\n    /**\r\n     * 10.1.2新增\r\n     *\r\n     * 多图轮播卡片间距，8-12px，默认为8px（规范建议使用偶数值，即8px，10px，12px）\r\n     */\r\n    @Input() cardGap: string = '8px';\r\n    /**\r\n     * 10.1.2新增\r\n     *\r\n     * 指示器位置，三个属性值，‘below’容器外部，‘bottom’容器内部底部，‘none’不显示\r\n     */\r\n    @Input() indicatorPosition: 'bottom' | 'below' | 'none' = 'below';\r\n    /**\r\n     * 10.1.2新增\r\n     *\r\n     * 是否无限循环\r\n     */\r\n    @Input() loop: boolean = true;\r\n    /**\r\n     * 当前卡片切换触发的事件\r\n     */\r\n    @Output() readonly activeIndexChange: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('cards', { static: true }) cards: ElementRef;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ContentChildren(TpSwipercardComponent) swipercardComs: QueryList<TpSwipercardComponent>;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ViewChild('wrapper', { static: true }) wrapperEle: ElementRef;\r\n    /**\r\n    /**\r\n     * @ignore\r\n     * 卡片总页数\r\n     */\r\n    public totalPage: number = 0;\r\n    /**\r\n     * @ignore\r\n     * 当前页， 按照索引值从0开始\r\n     */\r\n    public currentPage: number = 0;\r\n    /**\r\n     * @ignore\r\n     * 面板指示点的集合\r\n     */\r\n    public swiperBullets: Array<any> = [];\r\n    // 卡片切换动画间隔，单位ms\r\n    private transitionSpeed: number = 600;\r\n    // 定时器任务\r\n    private autoplayId: any;\r\n    // 卡片总数量\r\n    private cardNum: number = 0;\r\n    private pageWidth: number;\r\n    private swiperCardWidth: number;\r\n    private cardSpace: number;\r\n    private totalWidth: number;\r\n    private unlistenResize: () => void;\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        // 一屏显示卡片的数目会随窗口大小而变化，所以监听窗口大小变化重新计算分页，\r\n        this.zone.runOutsideAngular(() => {\r\n            this.unlistenResize = this.renderer2.listen(window, 'resize', () => {\r\n                this.setCardsWidth();\r\n                this.setLeftPosition(this.currentPage);\r\n            });\r\n        });\r\n    }\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngAfterContentChecked(): void {\r\n        super.ngAfterContentChecked();\r\n        // 当卡片数量变化时，计算总数量\r\n        if (this.cards.nativeElement.children.length !== this.cardNum ) {\r\n            this.setCardNum();\r\n        }\r\n    }\r\n\r\n    // tslint:disable-next-line: use-life-cycle-interface\r\n    ngAfterViewInit(): void {\r\n        this.setCardsWidth();\r\n        this.setLeftPosition(this.currentPage);\r\n        this.renderer.setStyle(this.cards.nativeElement, 'transition', `left ${this.transitionSpeed}ms`);\r\n\r\n        // 只有一页时，不自动轮播\r\n        if (this.autoplay && this.autoplaySpeed && this.totalPage > 1) {\r\n            this.autoplayId = setInterval((): void => {\r\n                this.onClickNext();\r\n            }, this.autoplaySpeed);\r\n        }\r\n    }\r\n    ngAfterViewChecked():void {\r\n        // 外层容器宽度有变化时，重新计算宽度及位置\r\n        if (this.wrapperEle && this.wrapperEle.nativeElement.getBoundingClientRect().width !== this.pageWidth) {\r\n            this.setCardsWidth();\r\n            this.setLeftPosition(this.currentPage);\r\n        }\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        super.ngOnChanges(changes);\r\n        const indexObj: SimpleChange = changes['activeIndex'];\r\n        if (indexObj && !indexObj.firstChange) {\r\n            this.calculateCurrentPage(indexObj.currentValue);\r\n            this.setLeftPosition(this.currentPage);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.autoplayId) {\r\n            clearInterval(this.autoplayId);\r\n            this.autoplayId = undefined;\r\n        }\r\n\r\n        if (this.unlistenResize) {\r\n            this.unlistenResize();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 点击左侧按钮触发事件\r\n     */\r\n    public onClickPrev(): void {\r\n        this.activeCard(this.currentPage - 1);\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 点击右侧按钮触发事件\r\n     */\r\n    public onClickNext(): void {\r\n        this.activeCard(this.currentPage + 1);\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     * 点击指示器触发事件\r\n     */\r\n    public onClickDot(index: number): void {\r\n        this.activeCard(index);\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 点击左右侧按钮、面板指示板触发事件\r\n     */\r\n    private activeCard(index: number): void {\r\n        if(this.totalPage === 1) {\r\n            return;\r\n        }\r\n\r\n        this.renderer.setStyle(this.cards.nativeElement, 'transition', `left ${this.transitionSpeed}ms`);\r\n        if (index === this.totalPage && this.loop) {\r\n            this.currentPage = 0;\r\n            const first: Element = this.swipercardComs.first.nativeElement;\r\n            this.setPosition(first, true);\r\n            this.setLeftPosition(this.totalPage);\r\n            this.adjustPosition(first);\r\n        } else if (index === -1 && this.loop) {\r\n            this.currentPage = this.totalPage - 1;\r\n            const last: Element = this.swipercardComs.last.nativeElement;\r\n            this.setPosition(last, false);\r\n            this.setLeftPosition(-1);\r\n            this.adjustPosition(last);\r\n        } else {\r\n            this.currentPage = index <= -1 ? 0 : index >= this.totalPage ? this.totalPage - 1 : index;\r\n            this.setLeftPosition(this.currentPage);\r\n            this.activeIndexChange.emit(this.currentPage);\r\n        }\r\n    }\r\n\r\n    // 计算卡片总数及总页数\r\n    private setCardNum(): void {\r\n        this.cardNum = this.cards && this.cards.nativeElement.children && this.cards.nativeElement.children.length;\r\n        this.calculatpaging();\r\n        this.swiperBullets.length = this.totalPage;\r\n    }\r\n\r\n    // 计算卡片容器总宽度\r\n    private setCardsWidth(): void {\r\n        this.calculatecardWidth();\r\n        this.renderer.setStyle(this.cards.nativeElement, 'width', `${this.totalWidth}px`);\r\n    }\r\n\r\n    // 当点击左右按钮时，设置激活卡片相对位置\r\n    private setLeftPosition(index: number): void {\r\n        if(this.totalPage === 1) {\r\n            return;\r\n        }\r\n\r\n        // 最后一页未占完\r\n        if (index === this.totalPage - 1 && this.cardNum % this.showCardNum !== 0) {\r\n            const swiperCardNum: number = this.cardNum - this.showCardNum;\r\n            this.renderer.setStyle(this.cards.nativeElement, 'left', `${- (swiperCardNum) * this.swiperCardWidth - (swiperCardNum - 1) * this.cardSpace}px`);\r\n            this.renderer2.setStyle(this.swipercardComs.toArray()[swiperCardNum].nativeElement, 'margin-right', this.cardGap);\r\n            return;\r\n        }\r\n\r\n        // 无限循环\r\n        if (index === this.totalPage && this.loop) {\r\n            this.renderer.setStyle(this.cards.nativeElement, 'left', `${-(this.totalWidth)}px`);\r\n            return;\r\n\r\n        }\r\n        if (index === -1 && this.loop) {\r\n            this.renderer.setStyle(this.cards.nativeElement, 'left', `${this.swiperCardWidth * this.showCardNum + (this.showCardNum - 1) * this.cardSpace}px`);\r\n            return;\r\n        }\r\n\r\n        this.renderer.setStyle(this.cards.nativeElement, 'left', `${- index * 100}%`);\r\n    }\r\n\r\n    // 调整第一页或者最后一页的位置，为动画做准备\r\n    private setPosition(targetEle: Element, lastToFirst: boolean): void {\r\n        this.renderer.setStyle(targetEle, 'transform', `translateX(${lastToFirst ? this.totalWidth : this.totalWidth * -1}px)`);\r\n    }\r\n\r\n    private adjustPosition(targetEle?: Element): void {\r\n        setTimeout((): void => {\r\n            this.renderer.removeStyle(targetEle, 'transform');\r\n            this.renderer.removeStyle(this.cards.nativeElement, 'transition');\r\n            this.setLeftPosition(this.currentPage);\r\n            this.activeIndexChange.emit(this.currentPage);\r\n        }, this.transitionSpeed);\r\n    }\r\n\r\n    // 计算每页显示卡片数，总页数及当前页\r\n    private calculatpaging(): void {\r\n        this.calculateTotalPage();\r\n        this.calculateCurrentPage(this.activeIndex);\r\n    }\r\n\r\n    /**\r\n     * 计算卡片宽度\r\n     */\r\n    private calculatecardWidth(): void {\r\n        // 初始化时，多图且左右翻页按钮还没有显示，容器元素的可用宽度需要减去左右按钮的宽度之和32+32=64\r\n        if (this.totalPage === 0  && this.showCardNum > 1) {\r\n            this.pageWidth = this.wrapperEle.nativeElement.getBoundingClientRect().width - 64;\r\n        } else {\r\n            this.pageWidth = this.wrapperEle.nativeElement.getBoundingClientRect().width;\r\n        }\r\n\r\n        // 每页卡片总间距\r\n        this.cardSpace = this.showCardNum > 1 ? parseInt(this.cardGap, 10) : 0;\r\n        const cardsSpace: number = (this.showCardNum - 1) * parseInt(this.cardGap, 10);\r\n        this.swiperCardWidth = (this.pageWidth - cardsSpace) / this.showCardNum;\r\n        this.totalWidth = this.swiperCardWidth * this.cardNum + cardsSpace * this.totalPage;\r\n\r\n        this.swipercardComs.toArray().forEach((item: TpSwiperComponent, index: number) => {\r\n            // 设置卡片宽度\r\n            this.renderer2.setStyle(item.nativeElement, 'width', this.swiperCardWidth + 'px');\r\n            // 设置卡片间距，每页最后一个卡片不设置\r\n            if ((index + 1) % this.showCardNum !== 0 && index !== this.cardNum - 1) {\r\n                this.renderer2.setStyle(item.nativeElement, 'margin-right', this.cardSpace + 'px');\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 计算总页数\r\n     */\r\n    private calculateTotalPage(): void {\r\n        this.totalPage = Math.ceil(this.cardNum / this.showCardNum);\r\n        if (this.currentPage > this.totalPage) {\r\n            this.activeCard(this.totalPage);\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  计算当前页\r\n     */\r\n    private calculateCurrentPage(index: number): void {\r\n        // 当前索引值不正确，不处理\r\n        if (index < 0 || index > (this.cardNum - 1)) {\r\n            return;\r\n        }\r\n\r\n        if (this.showCardNum === 1) {\r\n            this.currentPage = index;\r\n            return;\r\n        }\r\n\r\n        // 当前一页卡片的最大最小索引\r\n        const maxIndex: number = (this.currentPage + 1) * this.showCardNum - 1;\r\n        const minIndex: number = this.currentPage > 0 ? (this.currentPage * this.showCardNum - 1) : 0;\r\n        // 当前索卡片是否在当前页面\r\n        if (index < minIndex || index > maxIndex) {\r\n            this.currentPage = Math.floor((index + 1) / this.showCardNum);\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TiIconModule, TiOutlineModule } from '@cloud/tiny3';\r\n\r\nimport { TpSwiperComponent } from './TpSwiperComponent';\r\nimport { TpSwipercardComponent } from './TpSwipercardComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TiIconModule,\r\n    TiOutlineModule\r\n  ],\r\n  exports: [TpSwiperComponent, TpSwipercardComponent],\r\n  declarations: [TpSwiperComponent, TpSwipercardComponent]\r\n})\r\n\r\nexport class TpSwiperModule {}\r\nexport { TpSwiperComponent } from './TpSwiperComponent';\r\nexport { TpSwipercardComponent } from './TpSwipercardComponent';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpGoandbackModule } from '../goandback/TpGoandbackModule';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TpGoandbackModule\r\n  ]\r\n})\r\nexport class TpBindingModule {\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { TpBindingModule } from './TpBindingModule';\r\nimport { TiLocale } from '@cloud/tiny3';\r\nimport { TpGoandbackService, TpGoAndBackConfig } from '../goandback/TpGoandbackService';\r\n\r\n/**\r\n * 绑定组件  binding，使用该服务时需要引入模块TpBindingModule，导入服务TpBindingSerive,通过调用TpBindingService.open(config)方法生成绑定内容\r\n *\r\n * <example-url>../tinyplus3demo/#/binding/binding-all</example-url>\r\n */\r\n@Injectable({\r\n    providedIn: TpBindingModule\r\n})\r\nexport class TpBindingService extends TpGoandbackService {\r\n    protected words: any = TiLocale.getLocaleWords().tpBinding;\r\n\r\n    public open(config?: TpGoAndBackConfig): void {\r\n        // binding组件-url无需添加params处理\r\n        config.addUrlParams = false;\r\n        super.open(config);\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { TpGoandbackModule } from '../goandback/TpGoandbackModule';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TpGoandbackModule\r\n  ]\r\n})\r\n\r\nexport class TpIdentificationModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { TpIdentificationModule } from './TpIdentificationModule';\r\nimport { TiLocale, TiMessageType } from '@cloud/tiny3';\r\nimport { TpGoandbackService } from '../goandback/TpGoandbackService';\r\n\r\n/**\r\n * 认证组件  identification，使用该服务时需要引入模块TpIdentificationModule，导入服务TpIdentificationSerive,通过调用TpIdentificationService.open(config)方法生成认证内容\r\n *\r\n * <example-url>../tinyplus3demo/#/identification/identification-all</example-url>\r\n */\r\n@Injectable({\r\n    providedIn: TpIdentificationModule\r\n})\r\nexport class TpIdentificationService extends TpGoandbackService {\r\n    protected words: any = TiLocale.getLocaleWords().tpIdentification;\r\n    protected firstMessageType: TiMessageType = 'prompt';\r\n}\r\n","import { Component, ElementRef, HostBinding, Input, ViewChild } from '@angular/core';\r\nimport { TiBaseComponent, TiLocale, Util } from '@cloud/tiny3';\r\n/**\r\n * @ignore\r\n */\r\n@Component({\r\n    templateUrl: './identityauthmodal.html',\r\n    styleUrls: ['./identityauthmodal.less']\r\n})\r\n\r\nexport class TpIdentityauthModalComponent extends TiBaseComponent {\r\n    @Input() userInfoRes: any;\r\n    @Input() roleInfoRes: any;\r\n    @Input() userId: string;\r\n    @Input() serviceEndpointList: Array<any>;\r\n    @Input() mask: any;\r\n    @Input() camel: any;\r\n    @Input() successFn: any;\r\n    @Input() appWebPath: string;\r\n\r\n    @HostBinding('attr.id') id: string = 'tp-identityauth';\r\n    @ViewChild('OKButton', { static: true }) OKButton: ElementRef;\r\n    /**\r\n     * 组件使用的词条，此处统一获取\r\n     */\r\n    private i18n_Identityauth: any = TiLocale.getLocaleWords().tpIdentityauth;\r\n    /**\r\n     * @ignore\r\n     * 弹窗上部的红色alert相关配置\r\n     */\r\n    public errorAlert: any = {\r\n        show: false,\r\n        label: ''\r\n    };\r\n    /**\r\n     * @ignore\r\n     * 是否显示校验的错误提示\r\n     *\r\n     * 本组件不使用校验组件，只是引入tiErrorMsgComponent，在必要的时候显示或隐藏\r\n     */\r\n    public showErrorMessage: boolean = false;\r\n    /**\r\n     * @ignore\r\n     * 不同绑定方式下，组件的通用配置\r\n     */\r\n    public identityAuthModel: any = {\r\n        title: this.i18n_Identityauth.title, // 身份验证\r\n        nowBind: this.i18n_Identityauth.bind, // 立即绑定\r\n        noBindTip: this.i18n_Identityauth.no_bind, // 未绑定\r\n        hasBound: this.i18n_Identityauth.has_bound, // 已绑定\r\n        changeBindContent: this.i18n_Identityauth.change, // 修改\r\n        okButtonLabel: this.i18n_Identityauth.okBtn,\r\n        cancelLabel: TiLocale.getLocaleWords().tiCommon.cancelBtn\r\n    };\r\n    /**\r\n     * @ignore\r\n     * Iam服务网址\r\n     */\r\n    public iamUrl: string;\r\n    /**\r\n     * @ignore\r\n     * 蓝色alert的文本\r\n     */\r\n    public alertLabelLink: string;\r\n    /**\r\n     * @ignore\r\n     * 是否为管理员\r\n     */\r\n    public isSecuAdmin: boolean;\r\n\r\n    /**\r\n     * 验证方式为虚拟MFA的配置，表单中‘验证方式’选为'虚拟MFA'时生效\r\n     */\r\n    private bindMfaModel: any = {\r\n        id: 'vmfa',\r\n        key: this.i18n_Identityauth.verification_mfa,\r\n        label: this.i18n_Identityauth.verification_mfa,\r\n        content: '',\r\n        url: '',\r\n        disabled: !TiLocale.getLocaleWords().tpSupportMFA,\r\n        forbidChange: true, // 是否允许修改已绑定虚拟mfa\r\n        hideBoundContent: true, // 是否隐藏已绑定参数\r\n        helpTip: this.i18n_Identityauth.mfa_label_tip,\r\n        codeInput: { // 验证码输入框\r\n            value: '',\r\n            helpTip: this.i18n_Identityauth.bind_mfa_help_tip,\r\n            placeholder: this.i18n_Identityauth.verification_placeholder\r\n        },\r\n        getCodeBtn: { // mfa下没有获取验证码的按钮\r\n            label: ''\r\n        }\r\n    };\r\n    /**\r\n     * 验证方式为手机的配置，表单中‘验证方式’选为'手机'时生效\r\n     */\r\n    private bindPhone: any = {\r\n        id: 'sms',\r\n        key: this.i18n_Identityauth.verification_mobile,\r\n        label: this.i18n_Identityauth.bind_mobile,\r\n        content: '',\r\n        url: '',\r\n        forbidChange: false,\r\n        hideBoundContent: false,\r\n        codeInput: {\r\n            value: '',\r\n            helpTip: '',\r\n            placeholder: this.i18n_Identityauth.verification_placeholder\r\n        },\r\n        getCodeBtn: {\r\n            label: this.i18n_Identityauth.get_verification_code\r\n        }\r\n    };\r\n    /**\r\n     * 验证方式为邮箱的配置，表单中‘验证方式’选为'邮箱'时生效\r\n     */\r\n    private bindEmail: any = {\r\n        id: 'email',\r\n        key: this.i18n_Identityauth.verification_email,\r\n        label: this.i18n_Identityauth.bind_email,\r\n        content: '',\r\n        disabled: !TiLocale.getLocaleWords().tpSupportEmail,\r\n        url: '',\r\n        forbidChange: false,\r\n        hideBoundContent: false,\r\n        codeInput: {\r\n            value: '',\r\n            helpTip: '',\r\n            placeholder: this.i18n_Identityauth.email_verification_placeholder\r\n        },\r\n        getCodeBtn: {\r\n            label: this.i18n_Identityauth.get_verification_code\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     *\r\n     * 表单中使用的主要数据\r\n     */\r\n    public formModel: any = {\r\n        selected: {\r\n            content: '',\r\n            disabled: false,\r\n            url: '',\r\n            codeInput: {\r\n                label: this.i18n_Identityauth.verification_code,\r\n                value: '',\r\n                change: ($event: string): void => {\r\n                    this.formModel.selected.okBtn.disabled = !$event;\r\n                },\r\n                focus: (): void => {\r\n                    this.clearValidMessage();\r\n                }\r\n            },\r\n            getCodeBtn: {\r\n                disabled: false,\r\n                isLock: false,\r\n                tip: '',\r\n                click: (): void => {\r\n                    // 获取验证码\r\n                    this.getVerificationCode();\r\n                }\r\n            },\r\n            okBtn: {\r\n                disabled: true,\r\n                click: (): void => {\r\n                    this.verifyVerificationCode();\r\n                }\r\n            }\r\n        },\r\n        verificationModel: {\r\n            modelList: [this.bindPhone, this.bindEmail, this.bindMfaModel],\r\n            selected: {\r\n                value: '',\r\n                change: ($event): void => {\r\n                    this.formModel.selected = TpIdentityauthModalComponent.deepMerge(\r\n                        this.formModel.selected,\r\n                        this.formModel.verificationModel.modelList.filter(item => item.id === $event)[0]\r\n                    );\r\n                    this.clearValidMessage();\r\n                }\r\n            }\r\n        },\r\n        refresh: {\r\n            loaded: true,\r\n            refreshTip: this.i18n_Identityauth.refresh_tip,\r\n            click: (): void => {\r\n                this.formModel.refresh.loaded = false;\r\n                this.camel.get({\r\n                    url: {\r\n                        s: `${this.appWebPath}/rest/v3.0/OS-MFA/userinfo/{userId}`,\r\n                        o: {\r\n                            userId: this.userId\r\n                        }\r\n                    },\r\n                    timeout: 30000\r\n                })\r\n                    .then((response: any) => {\r\n                        this.formModel.refresh.loaded = true;\r\n                        this.handleUserBoundInfo(response);\r\n                    }, () => {\r\n                        this.formModel.refresh.loaded = true;\r\n                        // 错误提示\r\n                        this.requestErrorTip();\r\n                    });\r\n            }\r\n        }\r\n    };\r\n\r\n    // 获取https://console.huaweicloud.com/iam/\r\n    private static getIamEndpoint(id: string, endpointList: Array<any>): string {\r\n        const endpoint: any = endpointList.filter((item: any) => item.id === id)[0];\r\n        if (endpoint) {\r\n            return endpoint.endpoint;\r\n        }\r\n\r\n        return '';\r\n    }\r\n    /**\r\n     * 对象深合并方法，不适宜数组对象\r\n     *\r\n     * 1.targetObj中已存在的简单属性会被覆盖；已存在的同名数组被合并；已存在的对象属性会进入内部进行合并，规则同上\r\n     * 2.targetObj中不存在的属性直接添加\r\n     *\r\n     * @param targetObj 对象类型\r\n     * @param sourceObj 对象类型\r\n     * @returns 被合并的targetObj\r\n     */\r\n    private static deepMerge(targetObj: Object, sourceObj: Object): any {\r\n        for (const key in sourceObj) {\r\n            if (Array.isArray(sourceObj[key])) {\r\n                targetObj[key].push(...sourceObj[key]);\r\n            } else if (typeof sourceObj[key] === 'object') {\r\n                this.deepMerge(targetObj[key], sourceObj[key]);\r\n            } else {\r\n                targetObj[key] = sourceObj[key];\r\n            }\r\n        }\r\n\r\n        return targetObj;\r\n    }\r\n    /**\r\n     * 初始化用户信息\r\n     */\r\n    private handleUserBoundInfo(response: any): void {\r\n        const verificationModel: any = this.formModel.verificationModel;\r\n        if (!response.method) {\r\n            verificationModel.selected.value = verificationModel.selected.value || verificationModel.modelList[0].id;\r\n        }\r\n        verificationModel.modelList.forEach((item: any) => {\r\n            if (!response.method) {\r\n                item.content = '';\r\n\r\n                return;\r\n            }\r\n            // response.method默认绑定方式\r\n            if (response.method === item.id) {\r\n                // 刷新时要保持原来选择\r\n                verificationModel.selected.value = verificationModel.selected.value || item.id;\r\n                // response.info默认绑定方式的绑定信息\r\n                item.content = response.info[response.method] || response.info.mobile;\r\n            } else if (response[item.id] || (item.id === 'sms' && response.mobile)) {\r\n                item.content = response[item.id] || response.mobile;\r\n            }\r\n            // 电话号码格式需单独处理\r\n            if (item.id === 'sms' && item.content) {\r\n                const infoArr: Array<any> = item.content.split('-');\r\n                // tslint:disable-next-line: newline-per-chained-call\r\n                item.content = `+${infoArr[0].trim().replace(/^0+/, '')}${infoArr[1]}`;\r\n            }\r\n        });\r\n\r\n        verificationModel.selected.change(verificationModel.selected.value);\r\n    }\r\n\r\n    private getVerificationCode(): void {\r\n        this.mask.show();\r\n        const sendCodeRequestData: any = {\r\n            user_id: this.userId,\r\n            method: this.formModel.verificationModel.selected.value,\r\n            scene: 'opsProtect'\r\n        };\r\n        this.camel.post({\r\n            url: {\r\n                s: `${this.appWebPath}/rest/v3.0/OS-MFA/sendcode`,\r\n                o: {}\r\n            },\r\n            timeout: 30000,\r\n            params: sendCodeRequestData\r\n        })\r\n            .then((res: any) => {\r\n                this.mask.hide();\r\n                this.formModel.selected.okBtn.disabled = !this.formModel.selected.codeInput.value;\r\n                // 按钮灰化，倒计时 变化按钮提示\r\n                this.changeVerificationCodeBtnTip(res.remain_counter);\r\n                this.formModel.selected.getCodeBtn.disabled = true;\r\n                this.countDown(60);\r\n            }, (e: any) => {\r\n                this.mask.hide();\r\n                // 该功能已锁定,请30分钟之后再操作。\r\n                const label: string =\r\n                    e.status === 423 ? this.i18n_Identityauth.operation_lock : this.i18n_Identityauth.system_busy;\r\n                // 错误提示\r\n                this.requestErrorTip(label);\r\n            });\r\n    }\r\n\r\n    // 获取验证码提示变化\r\n    private changeVerificationCodeBtnTip(remainCounter: number): void {\r\n        if (remainCounter <= 3 && remainCounter > 0) { // 再请求获取验证码{0}次,该功能将被锁定。\r\n            this.formModel.selected.getCodeBtn.tip =\r\n                Util.formatEntry(this.i18n_Identityauth.get_verification_code_times, [remainCounter]);\r\n        } else if (remainCounter <= 0) { // 该功能已锁定\r\n            this.formModel.selected.getCodeBtn.isLock = true;\r\n            this.formModel.selected.getCodeBtn.tip = this.i18n_Identityauth.operation_lock_btn_tip;\r\n        } else {\r\n            this.formModel.selected.getCodeBtn.tip = '';\r\n        }\r\n    }\r\n\r\n    private requestErrorTip(label?: string): void {\r\n        this.errorAlert.label = label || this.i18n_Identityauth.system_busy;\r\n        this.errorAlert.show = true;\r\n    }\r\n\r\n    // 倒计时\r\n    private countDown(s: number): void {\r\n        let time: number = s;\r\n        time--;\r\n        if (time >= 0) {\r\n            this.formModel.selected.getCodeBtn.label =\r\n                Util.formatEntry(this.i18n_Identityauth.next_get_verification_code, [time]);\r\n            setTimeout(() => {\r\n                this.countDown(time);\r\n            }, 1000);\r\n        } else if (this.formModel.selected.getCodeBtn.isLock) { // 已锁定\r\n            this.formModel.selected.getCodeBtn.disabled = true;\r\n            this.formModel.selected.getCodeBtn.label = this.i18n_Identityauth.get_verification_code;\r\n        } else {\r\n            this.formModel.selected.getCodeBtn.disabled = false;\r\n            this.formModel.selected.getCodeBtn.label = this.i18n_Identityauth.get_verification_code;\r\n        }\r\n    }\r\n\r\n    private verifyVerificationCode(): void {\r\n        const requestData: any = {\r\n            verifycode: this.formModel.selected.codeInput.value, // 验证码输入值\r\n            method: this.formModel.verificationModel.selected.value, // 验证方式\r\n            scene: 'opsProtect'\r\n        };\r\n        this.mask.show();\r\n        this.camel.post({\r\n            url: {\r\n                s: `${this.appWebPath}/rest/v3.0/OS-MFA/verifycode`,\r\n                o: {}\r\n            },\r\n            timeout: 30000,\r\n            params: requestData\r\n        })\r\n            .then((res: any) => {\r\n                this.mask.hide();\r\n                if (res.cloud_verify_ticket) {\r\n                    // 存储验证码ticket到cookie\r\n                    document.cookie =\r\n                        `cloud_verify_ticket=${res.cloud_verify_ticket};path=/;domain=${document.domain.replace(/.+?\\./, '')}`;\r\n                    // 服务业务逻辑处理\r\n                    this.successFn();\r\n                    this.close();\r\n                } else {\r\n                    this.addValidMessage();\r\n                }\r\n            }, () => {\r\n                this.mask.hide();\r\n                this.addValidMessage();\r\n            });\r\n    }\r\n    /**\r\n     * 去掉input红色边框及背景，隐藏errorMessage\r\n     */\r\n    private clearValidMessage(): void {\r\n        this.showErrorMessage = false;\r\n        const codeInputElem: Element = this.nativeElement.querySelector('ti-item .tp-identityauth-code .tp-identityauth-code-input');\r\n        if (codeInputElem) {\r\n            this.renderer.removeClass(codeInputElem, 'ng-invalid');\r\n        }\r\n    }\r\n    /**\r\n     * 添加input红色边框及背景，显示errorMessage\r\n     */\r\n    private addValidMessage(): void {\r\n        this.showErrorMessage = true;\r\n        const codeInputElem: Element = this.nativeElement.querySelector('ti-item .tp-identityauth-code .tp-identityauth-code-input');\r\n        if (codeInputElem) {\r\n            this.renderer.addClass(codeInputElem, 'ng-invalid');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ignore\r\n     *\r\n     * 验证码输入框回车操作\r\n     */\r\n    public enter(): void {\r\n        Util.trigger(this.OKButton.nativeElement, 'focus');\r\n        this.formModel.selected.okBtn.click();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public close(): void { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public dismiss(): void { }\r\n\r\n    ngOnInit(): void {\r\n        this.iamUrl = TpIdentityauthModalComponent.getIamEndpoint('iam', this.serviceEndpointList);\r\n        this.bindMfaModel.url = `${this.iamUrl}#/iam/bindMFA/${this.userId}`;\r\n        // ctc下定制了修改绑定内容的链接\r\n        this.bindPhone.url = this.i18n_Identityauth.changeBindContent || `${this.iamUrl}?#/modifyCredential/phone`;\r\n        this.bindEmail.url = `${this.iamUrl}?#/modifyCredential/email`;\r\n        // roles里有\"secu_admin\"时为管理员\r\n        this.isSecuAdmin = this.roleInfoRes.roles.indexOf('secu_admin') === -1 ? false : true;\r\n        // 管理员提示文本中有取消操作保护的链接\r\n        if (this.isSecuAdmin) {\r\n            // closeIdentityauth字段是ctc局点下定制的关闭二次认证的链接\r\n            this.alertLabelLink = this.i18n_Identityauth.closeIdentityauth\r\n                || this.iamUrl + this.i18n_Identityauth.method_alert_label_link_url;\r\n        }\r\n\r\n        this.handleUserBoundInfo(this.userInfoRes);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport {\r\n  TiAlertModule, TiButtonModule, TiFormfieldModule, TiLoadingModule, TiLocaleModule, TiModalModule,\r\n  TiRadioModule, TiTextModule, TiTipModule, TiValidationModule, TiOutlineModule\r\n} from '@cloud/tiny3';\r\n\r\nimport { TpIconModule } from '../../components/icon/TpIconModule';\r\nimport { TpHelptipModule } from '../../components/helptip/TpHelptipModule';\r\n\r\nimport { TpIdentityauthModalComponent } from './TpIdentityauthmodalComponent';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    TiAlertModule,\r\n    TiButtonModule,\r\n    TiFormfieldModule,\r\n    TiLoadingModule,\r\n    TiLocaleModule,\r\n    TiModalModule,\r\n    TiRadioModule,\r\n    TiTextModule,\r\n    TiTipModule,\r\n    TiValidationModule,\r\n    TpHelptipModule,\r\n    TpIconModule,\r\n    TiOutlineModule\r\n  ],\r\n  exports: [],\r\n  declarations: [TpIdentityauthModalComponent],\r\n  entryComponents: [TpIdentityauthModalComponent]\r\n})\r\n\r\nexport class TpIdentityauthModule {}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { TiLocale, TiModalService, Util } from '@cloud/tiny3';\r\n\r\nimport { TpIdentityauthModule } from './TpIdentityauthModule';\r\n\r\nimport { TpIdentityauthModalComponent } from './TpIdentityauthmodalComponent';\r\nimport { CfUtil } from '../../cfutils/CfUtil';\r\n\r\n/**\r\n * 二次认证组件\r\n *\r\n * <example-url>../tinyplus3demo/#/identityauth/identityauth-all</example-url>\r\n */\r\n@Injectable({\r\n    providedIn: TpIdentityauthModule\r\n})\r\n\r\nexport class TpIdentityauthService {\r\n    constructor(private tiModal: TiModalService) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public camel: any;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public mask: any;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public msgService: any;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public userId: string;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public serviceEndpointList: Array<any>;\r\n    private appWebPath: string;\r\n    /**\r\n     * @ignore\r\n     */\r\n    public successFn: () => void;\r\n\r\n    private queryIsOpen(): void {\r\n        this.mask.show();\r\n        this.camel.get({\r\n            url: {\r\n                s: `${this.appWebPath}/rest/v3-ext/users/op-mfa/{user_id}`,\r\n                o: {\r\n                    user_id: this.userId\r\n                }\r\n            },\r\n            timeout: 30000\r\n        })\r\n            .then((res: any) => {\r\n                this.mask.hide();\r\n                if (res.mfa_support === 'false') {\r\n                    this.successFn();\r\n\r\n                    return;\r\n                }\r\n                // 判断是否已开启敏感操作保护，如开启则进行验证，否则直接进行业务处理\r\n                if (res.ops_switch === 'true') {\r\n                    this.checkCerifyCode();\r\n                } else {\r\n                    this.successFn();\r\n                }\r\n            }, () => {\r\n                this.mask.hide();\r\n                this.msgService.showError(TiLocale.getLocaleWords().tpBinding.confirm_system_busy);\r\n            });\r\n    }\r\n\r\n    private checkCerifyCode(): void {\r\n        // 获取cookie中cloud_verify_ticket  查询校验码合法性\r\n        const storage: any = CfUtil.getStorageService();\r\n        let cloud_verify_ticket: string | undefined;\r\n        if (storage && storage.cookieStorage && storage.cookieStorage.getItem) {\r\n            cloud_verify_ticket = storage.cookieStorage.getItem('cloud_verify_ticket');\r\n        }\r\n        if (cloud_verify_ticket) {\r\n            this.mask.show();\r\n            // 查询验证码合法性\r\n            this.camel.post({\r\n                url: {\r\n                    s: `${this.appWebPath}/rest/v3-ext/users/op-mfa/{user_id}`,\r\n                    o: {\r\n                        user_id: this.userId\r\n                    }\r\n                },\r\n                timeout: 30000,\r\n                params: {\r\n                    cloudVerifyTicket: cloud_verify_ticket\r\n                }\r\n            })\r\n                .then((res: any) => {\r\n                    this.mask.hide();\r\n                    // 验证码合法、直接进行业务处理\r\n                    if (res.id) {\r\n                        this.successFn();\r\n                    }\r\n                }, () => {\r\n                    this.mask.hide();\r\n                    this.identityAuth();\r\n                });\r\n        } else {\r\n            this.identityAuth();\r\n        }\r\n    }\r\n\r\n    private identityAuth(): void {\r\n        // 需查询用户信息(绑定状态)。\r\n        this.mask.show();\r\n        const getUserInfoPromise: Promise<any> = this.camel.get({\r\n            url: {\r\n                s: `${this.appWebPath}/rest/v3.0/OS-MFA/userinfo/{user_id}`,\r\n                o: {\r\n                    user_id: this.userId\r\n                }\r\n            },\r\n            timeout: 30000\r\n        });\r\n        const getRoleInfoPromise: Promise<any> = this.camel.get({\r\n            url: {\r\n                s: `${this.appWebPath}/rest/global/token`,\r\n                o: {}\r\n            },\r\n            timeout: 30000\r\n        });\r\n\r\n        const getServiceEndpointList: () => Promise<any> = (): Promise<any> => {\r\n            // 如果为了本地测试，open方法传入了config.serviceEndpointList，则需要特殊处理\r\n            if (this.serviceEndpointList) {\r\n                return new Promise((resolve: any): void => {\r\n                    resolve(this.serviceEndpointList);\r\n                });\r\n            } else {\r\n                return CfUtil.getEndpoints()\r\n                            .then((endpoints: any) => endpoints.serviceEndpointList);\r\n            }\r\n        };\r\n\r\n        Promise.all([getUserInfoPromise, getRoleInfoPromise, getServiceEndpointList()])\r\n            .then((response: any) => {\r\n                const userInfoRes: any = response[0];\r\n                const roleInfoRes: any = response[1];\r\n                this.mask.hide();\r\n                this.tiModal.open(TpIdentityauthModalComponent, {\r\n                    id: 'tp-identityauth',\r\n                    modalClass: 'tp-identityauth-modal',\r\n                    context: {\r\n                        userInfoRes,\r\n                        roleInfoRes,\r\n                        userId: this.userId,\r\n                        serviceEndpointList: response[2],\r\n                        mask: this.mask,\r\n                        camel: this.camel,\r\n                        successFn: this.successFn,\r\n                        appWebPath: this.appWebPath\r\n                    }\r\n                });\r\n            }, () => {\r\n                this.mask.hide();\r\n                this.msgService.showError(TiLocale.getLocaleWords().tpBinding.confirm_system_busy);\r\n            });\r\n    }\r\n    /**\r\n     * 开启二次认证\r\n     *\r\n     * @param successFn 二次认证通过或不需要认证时的回调函数\r\n     *\r\n     * @param config 组件本地测试需要的参数，开发者实际场景中不需要\r\n     */\r\n    public open(successFn: () => void, config?: any): void {\r\n        this.successFn = successFn;\r\n        this.appWebPath = CfUtil.getAppWebPath();\r\n        if (config) {\r\n            this.camel = config.camel;\r\n            this.msgService = config.msg;\r\n            this.mask = config.mask;\r\n            this.userId = config.userId;\r\n            this.serviceEndpointList = config.serviceEndpointList;\r\n            this.queryIsOpen();\r\n        } else {\r\n            CfUtil.getUser()\r\n                .then((user: any) => {\r\n                this.camel = CfUtil.getHttpService();\r\n                if (user.userId && this.camel) {\r\n                    this.userId = user.userId;\r\n                    this.msgService = CfUtil.getMessage();\r\n                    this.mask = CfUtil.getMask();\r\n                    this.queryIsOpen();\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpGoandbackModule } from '../goandback/TpGoandbackModule';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TpGoandbackModule\r\n  ]\r\n})\r\n\r\nexport class TpRechargeModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { TpRechargeModule } from './TpRechargeModule';\r\nimport { TiLocale, TiMessageType } from '@cloud/tiny3';\r\nimport { TpGoandbackService } from '../goandback/TpGoandbackService';\r\n\r\n/**\r\n * 充值组件  recharge，使用该服务时需要引入模块TpRechargeModule，导入服务TpRechargeSerive,通过调用TpRechargeService.open(config)方法生成充值内容\r\n *\r\n * <example-url>../tinyplus3demo/#/recharge/recharge-all</example-url>\r\n */\r\n@Injectable({\r\n    providedIn: TpRechargeModule\r\n})\r\nexport class TpRechargeService extends TpGoandbackService {\r\n    protected words: any = TiLocale.getLocaleWords().tpRecharge;\r\n    protected firstMessageType: TiMessageType = 'error';\r\n}\r\n","\r\n\r\nimport {\r\n    Directive,\r\n    OnDestroy,\r\n    OnInit\r\n} from '@angular/core';\r\nimport { TiTableColumns, TiTableComponent, Util } from '@cloud/tiny3';\r\nimport { CfUser } from '@cloud/cfdata';\r\nimport { CfUtil } from '../../cfutils/CfUtil'\r\nimport { Subscription } from 'rxjs';\r\n\r\n/**\r\n * 表格记忆列切换指令\r\n *\r\n * 10.0.4 新增\r\n *\r\n *\r\n * <example-url>../tinyplus3demo/#/storage/storage-all</example-url>\r\n */\r\n@Directive({\r\n    selector: 'ti-table[tpStorageColumns]'\r\n})\r\nexport class TpStorageColumnsDirective implements OnInit, OnDestroy {\r\n    /**\r\n     * @ignore\r\n     */\r\n    public static readonly GET_URL: string = './rest/silvan/rest/v1.0/setting/{userid}/{category}/update.json';\r\n    /**\r\n     * @ignore\r\n     */\r\n    public static readonly POST_URL: string = './rest/silvan/rest/v1.0/setting/{userid}/update.json';\r\n    private tableCom: TiTableComponent;\r\n    private httpService: any;\r\n    private user: CfUser;\r\n    private updateColumnsSubscription: Subscription;\r\n    constructor(tableCom: TiTableComponent) {\r\n        this.tableCom = tableCom;\r\n    }\r\n    ngOnInit(): void {\r\n        if (this.shouldStorageColumnsToggle()) {\r\n            this.httpService = CfUtil.getHttpService();\r\n            CfUtil.getUser()\r\n                .then((user: CfUser) => {\r\n                    this.user = user\r\n                    this.getColumns();\r\n                    this.updateColumnsSubscription = this.tableCom.updateColumnsSubject.subscribe(() => {\r\n                        this.postColumns();\r\n                    });\r\n                }).catch(error => {\r\n                    console.log(error);\r\n                });\r\n        }\r\n    }\r\n    ngOnDestroy(): void {\r\n        if (this.updateColumnsSubscription) {\r\n            this.updateColumnsSubscription.unsubscribe();\r\n        }\r\n    }\r\n    private getColumns(): void {\r\n        if (!this.user && !this.httpService) {\r\n            return;\r\n        }\r\n        const userid = this.user.userId;\r\n        const storageId = this.tableCom.storageId;\r\n        this.httpService.get({\r\n            url: {\r\n                s: TpStorageColumnsDirective.GET_URL,\r\n                o: {\r\n                    userid: userid,\r\n                    category: storageId\r\n                }\r\n            }\r\n        }).then((data: Array<any>) => {\r\n            this.tableCom.columns.forEach((column: TiTableColumns, index: number) => {\r\n                if (!Util.isNull(data[index])) {\r\n                    column.show = data[index];\r\n                };\r\n            })\r\n        }).catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n    private postColumns(): void {\r\n        if (!this.user && !this.httpService) {\r\n            return;\r\n        }\r\n\r\n        const columns = this.tableCom.columns.map((column: TiTableColumns): boolean => {\r\n            return column.show;\r\n        });\r\n        const userid = this.user.userId;\r\n        const storageId = this.tableCom.storageId;\r\n        this.httpService.post({\r\n            url: {\r\n                s: TpStorageColumnsDirective.POST_URL,\r\n                o: {\r\n                    userid: userid\r\n                }\r\n            },\r\n            params: {\r\n                ategory: storageId,\r\n                setting: JSON.stringify(columns),\r\n                lastModifiedDateLong: new Date().getTime()\r\n            }\r\n        }).then((data: any) => {\r\n            // 成功后不做处理\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        });\r\n    }\r\n    private shouldStorageColumnsToggle(): boolean {\r\n        return !!(this.tableCom && this.tableCom.storageId);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TpStorageColumnsDirective } from './TpStorageColumnsDirective'\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [TpStorageColumnsDirective],\r\n  declarations: [TpStorageColumnsDirective]\r\n})\r\nexport class TpStorageColumnsModule {\r\n}\r\nexport { TpStorageColumnsDirective } from './TpStorageColumnsDirective';\r\n","// tslint:disable-next-line:no-implicit-dependencies\r\nimport { Component, ContentChild, Input, SimpleChanges, TemplateRef } from '@angular/core';\r\nimport { TiBaseComponent, Util } from '@cloud/tiny3';\r\nexport interface TpTimelineOption {\r\n    /**\r\n     * 设置时间轴条目对应的轴心标识，不同状态对应的标识颜色不一样\r\n     */\r\n    type?: 'info' | 'success' | 'danger' | 'primary' | 'warning';\r\n    /**\r\n     * 设置时间轴条目的文本。\r\n     */\r\n    label: string;\r\n    /**\r\n     * 设置时间轴的时间。\r\n     */\r\n    time?: string;\r\n    /**\r\n     * 是否为时间轴标题\r\n     * 10.1.4新增\r\n     */\r\n    isTitle?: boolean;\r\n    /**\r\n     * 执行失败错误信息\r\n     * 10.1.4新增\r\n     */\r\n    errorMessage?: string;\r\n    /**\r\n     * 时间轴问号tip提示\r\n     * 10.1.4新增\r\n     */\r\n    iconTip?:  string | TemplateRef<any> | any;\r\n    /**\r\n     * tip方向\r\n     * 10.1.4新增\r\n     */\r\n    iconTipPosition?: string;\r\n    /**\r\n     * tip最大宽度\r\n     * 10.1.4新增\r\n     */\r\n    iconTipMaxWidth?: string;\r\n\r\n}\r\n/**\r\n * 时间线timeline组件\r\n * <example-url>../tinyplus3demo/#/timeline/timeline-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-timeline',\r\n    templateUrl: './timeline.html',\r\n    styleUrls: ['./timeline.less']\r\n})\r\n\r\nexport class TpTimelineComponent extends TiBaseComponent {\r\n    /**\r\n     * 时间轴配置项总接口\r\n     */\r\n    @Input() options: Array<TpTimelineOption>;\r\n    /**\r\n     * 当前激活项（正在进行时）\r\n     * 10.1.4新增\r\n     */\r\n    @Input() activeIndex: number = -1;\r\n    /**\r\n     * @ignore\r\n     */\r\n    @ContentChild('item', { static: true }) itemTemplate: TemplateRef<any>;\r\n    /**\r\n     * @ignore\r\n     * 时间轴一级信息集合\r\n     */\r\n    public titleOptions = [];\r\n\r\n    ngOnInit(): void {\r\n        super.ngOnInit();\r\n        this.titleOptions = this.getTitleOptions();\r\n        this.changeToSuccess();\r\n    }\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes['activeIndex'] && !changes['activeIndex'].firstChange) {\r\n            this.changeToSuccess();\r\n        }\r\n        if (changes['options'] && !changes['options'].firstChange) {\r\n            this.titleOptions = this.getTitleOptions();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    public findItemIndex(item: TpTimelineOption) {\r\n        return this.titleOptions.findIndex( (ele: TpTimelineOption) => ele === item);\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 获取时间轴一级（标题）信息集合\r\n     */\r\n    public getTitleOptions() : Array<TpTimelineOption> {\r\n        return this.options.filter( (option: TpTimelineOption) => option.isTitle);\r\n    }\r\n    /**\r\n     * @ignore\r\n     * activeIndex之前的项全部变更为success状态\r\n     */\r\n    public changeToSuccess(): void {\r\n        if (this.activeIndex === -1 || Util.isUndefined(this.activeIndex) || !Util.isNumber(this.activeIndex)) {\r\n            return;\r\n        }\r\n        this.options.forEach ( (option: TpTimelineOption, index: number) => {\r\n            option.type = index < this.activeIndex ? 'success' : 'primary';\r\n        })\r\n    }\r\n    /**\r\n     * @ignore\r\n     * 判断当前一级时间轴状态\r\n     */\r\n    public isSuccess(option: TpTimelineOption): boolean {\r\n        if(!option.isTitle) {\r\n            return;\r\n        }\r\n        let level2Options: Array<TpTimelineOption> = [];\r\n        const index: number = this.options.findIndex((item: TpTimelineOption) => item === option);\r\n        let isSucess: boolean = true;\r\n        for (let i = index + 1; i <= this.activeIndex; i++) {\r\n            if (this.options[i] && this.options[i].isTitle) {\r\n                break;\r\n            }\r\n            level2Options.push(this.options[i]);\r\n        }\r\n        if (level2Options.length > 0) {\r\n            level2Options.forEach((option: TpTimelineOption) => {\r\n                if (option.type && option.type !== 'success') {\r\n                    isSucess = false;\r\n                }\r\n            })\r\n        }\r\n\r\n        return isSucess;\r\n    }\r\n}\r\n","// tslint:disable-next-line:no-implicit-dependencies\r\nimport { CommonModule } from '@angular/common';\r\n// tslint:disable-next-line:no-implicit-dependencies\r\nimport { NgModule } from '@angular/core';\r\nimport { TiTipModule } from '@cloud/tiny3';\r\nimport { TpIconModule } from '../icon/TpIconModule';\r\nimport { TpTimelineComponent } from './TpTimelineComponent';\r\n\r\n@NgModule({\r\n  imports: [CommonModule,\r\n            TpIconModule,\r\n            TiTipModule\r\n  ],\r\n  exports: [TpTimelineComponent],\r\n  declarations: [TpTimelineComponent]\r\n})\r\n\r\nexport class TpTimelineModule {}\r\nexport { TpTimelineComponent, TpTimelineOption } from './TpTimelineComponent';\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\n/**\r\n * @ignore\r\n *\r\n * ��δ�������\r\n *\r\n * <example-url>../tinyplus3demo/#/tagsearch/tagsearch-all</example-url>\r\n */\r\n@Component({\r\n    selector: 'tp-tagsearch',\r\n    templateUrl: 'tagsearch.html',\r\n    styleUrls: ['./tagsearch.less'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class TpTagsearchComponent {}\r\n","import { NgModule } from '@angular/core';\r\nimport { TpTagsearchComponent } from './TpTagsearchComponent';\r\n\r\n/**\r\n * @ignore\r\n */\r\n@NgModule({\r\n  exports: [TpTagsearchComponent],\r\n  declarations: [TpTagsearchComponent]\r\n})\r\n\r\nexport class TpTagsearchModule {}\r\nexport { TpTagsearchComponent } from './TpTagsearchComponent';\r\n","// 按照类名字母排序\r\nexport { TpAccessdeclinedModule, TpAccessdeclinedComponent } from './components/accessdeclined/TpAccessdeclinedModule';\r\nexport { TpAccordionlistModule, TpAccordionlistComponent, TpAccordionlistOption, TpAccordionlistActionmenuItem } from './components/accordionlist/TpAccordionlistModule';\r\nexport { TpAnchorModule, TpAnchorComponent, TpAnchorItem } from './components/anchor/TpAnchorModule';\r\nexport { TpBeingmaintainedModule, TpBeingmaintainedComponent } from './components/beingmaintained/TpBeingmaintainedModule';\r\nexport { TpBetaComponent, TpBetaModule } from './components/beta/TpBetaModule';\r\nexport { TpBuylayerComponent, TpBuylayerRightComponent, TpBuylayerLeftComponent, TpBuylayerModule, TpBuylayerConfig, TpButtons, TpCosts } from './components/buylayer/TpBuylayerModule';\r\nexport { TpCardModule, TpCardComponent, TpCardAddComponent, TpCardHeaderComponent } from './components/card/TpCardModule';\r\nexport { TpCascaderItem, TpCascaderComponent, TpCascaderModule } from './components/cascader/TpCascaderModule';\r\nexport { TpCollapseboxModule, TpCollapseboxComponent } from './components/collapsebox/TpCollapseboxModule';\r\nexport { TpCollapsebuttonModule, TpCollapsebuttonComponent, TpCollapsepanelComponent} from './components/collapsebutton/TpCollapsebuttonModule';\r\nexport { TpContactsurveyComponent, TpContactsurveyModule, TpQuestionInfo, TpSurveyOptions } from './components/contactsurvey/TpContactsurveyModule';\r\nexport { TpCopyModule, TpCopyComponent } from './components/copy/TpCopyModule';\r\nexport { TpCountdownModule, TpCountdownComponent, TpCountDownCode, TpCountDownInfos, TpCountDownTips} from './components/countdown/TpCountdownModule';\r\nexport { TpCountModule, TpCountComponent, TpCountCode, TpCountInfos, TpCountPatternComponent, TpCountStateComponent, TpCountTimeComponent,\r\n            TpCountTips, TpCountChargingMode } from './components/count/TpCountModule';\r\nexport { TpCountdownalertModule, TpCountdownalertComponent } from './components/countdownalert/TpCountdownalertModule';\r\nexport { TpCrumbModule, TpCrumbComponent, TpLink } from './components/crumb/TpCrumbModule';\r\nexport { TpDescandbuyModule, TpDescandbuyComponent, TpDescandbuyConfig } from './components/descandbuy/TpDescandbuyModule';\r\nexport { TpDiscountsModule, TpDiscountsComponent,  TpDiscoutsConfig } from './components/discounts/TpDiscountsModule';\r\nexport { TpFeedbackModule, TpFeedbackComponent, TpFeedbackContentComponent, TpFeedbackOptions, TpQuestionOption, TpAllquestionOption } from './components/feedback/TpFeedbackModule';\r\nexport { TpFoldtextModule, TpFoldtextComponent} from './components/foldtext/TpFoldtextModule';\r\nexport { TpFrozenModule, TpFrozenComponent, TpFrozenResponse } from './components/frozen/TpFrozenModule';\r\nexport { TpFrozenpageModule, TpFrozenpageComponent} from './components/frozenpage/TpFrozenpageModule';\r\nexport { TpGridModule, TpGridComponent } from './components/grid/TpGridModule';\r\nexport { TpGuidesModule, TpGuidesComponent, TpGuideComponent, TpGuideHeaderComponent, TpGuideContentComponent, TpGuideBodyComponent} from './components/guides/TpGuidesModule';\r\nexport { TpGuidestepsModule, TpGuidestepsComponent, TpGuidestepComponent, TpGuidestepHeaderComponent, TpGuidestepContentComponent} from './components/guidesteps/TpGuidestepsModule';\r\nexport { TpHalfmodalModule, TpHalfmodalComponent } from './components/halfmodal/TpHalfmodalModule';\r\nexport { TpHelptipModule, TpHelptipComponent } from './components/helptip/TpHelptipModule';\r\nexport { TpIconModule, TpIconComponent, TpIconlocalComponent } from './components/icon/TpIconModule';\r\nexport { TpIconactionModule, TpIconactionComponent } from './components/iconaction/TpIconactionModule';\r\nexport { TpInfoComponent, TpInfoModule } from './components/info/TpInfoModule';\r\nexport { TpLabeleditorModule, TpLabeleditorComponent } from './components/labeleditor/TpLabeleditorModule';\r\nexport { TpLayoutModule, TpLayoutContentComponent, TpLayoutContentBodyComponent, TpLayoutHeaderComponent,TpLayoutSectionComponent, TpLayoutContentHeaderComponent,TpLayoutColumnComponent} from './components/layout/TpLayoutModule';\r\nexport { TpLeftmenuModule, TpLeftmenuComponent, TpLeftmenuConfig, TpLeftmenuItem } from './components/leftmenu/TpLeftmenuModule';\r\nexport { TpLeftmenuthinModule, TpLeftmenuthinComponent, TpLeftmenuthinItem } from './components/leftmenuthin/TpLeftmenuthinModule';\r\nexport { TpLinkbuttonModule, TpLinkbuttonComponent } from './components/linkbutton/TpLinkbuttonModule';\r\nexport { TpLinklistModule, TpLinklistComponent, TpLinkOption, TpLinkItem } from './components/linklist/TpLinklistModule';\r\nexport { TpModalBodyModule, TpModalBodyComponent } from './components/modalbody/TpModalBodyModule';\r\nexport { TpNonsupportregionModule, TpNonsupportregionComponent, TpRegionData } from './components/nonsupportregion/TpNonsupportregionModule';\r\nexport { TpPricecalcModule, TpPricecalcComponent, TpPricecalcParam } from './components/pricecalc/TpPricecalcModule';\r\nexport { TpPricelineModule, TpPricelineComponent, TpPricelineItem } from './components/priceline/TpPricelineModule';\r\nexport { TpProductpreviewModule, TpProductpreviewComponent } from './components/productpreview/TpProductpreviewModule';\r\nexport { TpProgressbarModule, TpProgressbarComponent, TpProgressbarLabelType} from './components/progressbar/TpProgressbarModule';\r\nexport { TpHelpOptions, TpPurchaselistComponent, TpPurchaseitemComponent, TpPurchaseNodataComponent, TpPurchaselistModule } from './components/purchaselist/TpPurchaselistModule';\r\nexport { TpRecommendModule, TpRecommendComponent, TpRecommendItem } from './components/recommend/TpRecommendModule';\r\nexport { TpRegionModule, TpRegionComponent, TpRegionItem, TpRegionUtil } from './components/region/TpRegionModule';\r\nexport { TpRegionselectModule, TpRegionselectComponent } from './components/regionselect/TpRegionselectModule';\r\nexport { TpRenameModule, TpRenameComponent, TpRenameModalRef, TpRenameModalComponent, TpRenameModalContainerComponent } from './components/rename/TpRenameModule';\r\nexport { TpResourcesModule, TpResourcesComponent, TpResourceItemComponent, TpResourceItem } from './components/resources/TpResourcesModule';\r\nexport { TpRestrictModule, TpRestrictComponent } from './components/restrict/TpRestrictModule';\r\nexport { TpSearchboxModule, TpSearchboxComponent, TpSearchboxHelpComponent, TpSearchboxItem, TpSearchboxOption,\r\n         TpSearchboxTag, TpSearchboxTagType, TpSearchboxFilter,  TP_REGEXP_IP, TP_REGEXP_UUID } from './components/searchbox/TpSearchboxModule';\r\nexport { TpScoreModule, TpScoreComponent } from './components/score/TpScoreModule';\r\nexport { TpSelectgroupComponent, TpSelectitemComponent, TpSelectgroupItem, TpSelectgroupModule } from './components/selectgroup/TpSelectgroupModule';\r\nexport { TpSelectsearchboxModule, TpSelectsearchboxComponent } from './components/selectsearchbox/TpSelectsearchboxModule';\r\nexport { TpSlidecardsModule, TpSlidecardsComponent, TpSlidecardsPaginationEvent} from './components/slidecards/TpSlidecardsModule';\r\nexport { TpSmartalertModule, TpSmartalertComponent } from './components/smartalert/TpSmartalertModule';\r\nexport { TpStepguideComponent, TpStepguideModule } from './components/stepguide/TpStepguideModule';\r\nexport { TpSubtitleModule, TpSubtitleComponent, TpSubtitleItem } from './components/subtitle/TpSubtitleModule';\r\nexport { TpSupportregionlistModule, TpSupportregionlistComponent } from './components/supportregionlist/TpSupportregionlistModule';\r\nexport { TpSwiperModule, TpSwiperComponent, TpSwipercardComponent } from './components/swiper/TpSwiperModule';\r\nexport { TpBindingModule } from './services/binding/TpBindingModule';\r\nexport { TpBindingService } from './services/binding/TpBindingService';\r\nexport { TpIdentificationModule } from './services/identification/TpIdentificationModule';\r\nexport { TpIdentificationService } from './services/identification/TpIdentificationService';\r\nexport { TpIdentityauthModule } from './services/identityauth/TpIdentityauthModule';\r\nexport { TpIdentityauthService } from './services/identityauth/TpIdentityauthService';\r\nexport { TpGoandbackModule, TpGoandbackComponent } from './services/goandback/TpGoandbackModule';\r\nexport { TpGoandbackService } from './services/goandback/TpGoandbackService';\r\nexport { TpRechargeModule } from './services/recharge/TpRechargeModule';\r\nexport { TpRechargeService } from './services/recharge/TpRechargeService';\r\nexport { TpStorageColumnsModule, TpStorageColumnsDirective } from './directives/storage/TpStorageColumnsModule';\r\nexport { TpLocaleModule, TpDatePipe, TpNumberPipe, TpCurrencyPipe } from './pipes/locale/TpLocaleModule';\r\nexport { TpTimelineComponent, TpTimelineModule, TpTimelineOption } from './components/timeline/TpTimelineModule';\r\nexport { TpTagsearchModule, TpTagsearchComponent } from './components/tagsearch/TpTagsearchModule';\r\nexport { TpUtil } from './utils/TpUtil';\r\nexport { CfUtil } from './cfutils/CfUtil';\r\n// 按照类名字母排序\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {IsMajorPricePipe as ɵd,IsMinorPricePipe as ɵe} from './components/buylayer/IsMajorPrice';\nexport {TpToastComponent as ɵf} from './components/copy/TpToastComponent';\nexport {NotEqualTo01Pipe as ɵc,NotEqualTo0Pipe as ɵb,RatePipe as ɵa} from './components/discounts/RatePipe';\nexport {TpIdentityauthModalComponent as ɵg} from './services/identityauth/TpIdentityauthmodalComponent';"],"names":["TiBaseComponent","Component","NgModule","TiLocaleModule","Input","ContentChild","ViewChildren","TiAccordionItemComponent","CommonModule","TiAccordionModule","TiActionmenuModule","EventEmitter","ElementRef","Renderer2","NgZone","Output","TiLocale","Util","AccountService","ChangeDetectorRef","ViewChild","share","HttpClient","ViewEncapsulation","TiButtonModule","TiBrowser","SecurityContext","DomSanitizer","formatDate","Pipe","UserData","LinksData","EndpointsData","HttpService","Message","Mask","StorageService","getLocaleCurrencySymbol","TemplateRef","FormsModule","TiRadioModule","TiOutlineModule","TiTipModule","TiFormComponent","TiDominatorComponent","TiDropComponent","TiDominatorModule","TiDropModule","TiListModule","TiDroplistModule","TiCollapseModule","TiTextareaModule","TiIconModule","Subject","throttleTime","delay","TiPosition","TiPopupService","TiPopupModule","TiTipService","TiOverflowModule","TiAlertModule","RouterModule","TiKeymap","FormControl","TiValidators","FormBuilder","ReactiveFormsModule","TiCheckboxModule","TiTextModule","TiValidationModule","TiTipServiceModule","TiRenderer","TiLeftmenuModule","NavigationEnd","Router","ActivatedRoute","TiModalBodyComponent","TiButtongroupComponent","TiButtongroupModule","TiImagepreviewComponent","TiModalService","TiImagepreviewModule","TiModalModule","TiZoomModule","TiProgressbarModule","TiDroplistComponent","TiDropsearchComponent","TiDropsearchModule","TiTableModule","TiMessageModule","Injectable","TiMessageService","FormGroup","TiLocaleFormat","TiDateModule","ContentChildren","TiSelectComponent","TiSelectModule","HostBinding","TiFormfieldModule","TiLoadingModule","Directive","TiTableComponent"],"mappings":"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"}